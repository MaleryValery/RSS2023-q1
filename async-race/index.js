(()=>{"use strict";var e={121:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CarsApiService=void 0;const r=n(567),i=n(147);t.CarsApiService=class{static getAllCars(){return console.log("CarsApiService"),i.ApiService.get(r.Path.garage)}static createCar(e,t){return i.ApiService.post(r.Path.garage,e,t)}static getCar(e){return i.ApiService.get(`${r.Path.garage}/${e}`)}static deleteCar(e){return i.ApiService.delete(`${r.Path.garage}/${e}`)}static updateCar(e,t,n){return i.ApiService.put(`${r.Path.garage}/${e}`,t,n)}static getPagination(e,t){return i.ApiService.getPages(`${r.Path.garage}?_page=${e}&${t.key}=${t.value}`)}static onEnginCar(e,t){return i.ApiService.runEngine(`${r.Path.engine}?id=${e}&status=${t}`)}static onRunCar(e,t){return i.ApiService.runEngine(`${r.Path.engine}?id=${e}&status=${t}`)}}},147:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ApiService=void 0;class n{static async fetchRequest(e,t,n,r){const i=`${this.baseUrl}${e}`;console.log(i);const s=await fetch(i,{method:t,body:n?JSON.stringify(n):null,headers:r});return await s.json()}static delete(e){return this.fetchRequest(e,"DELETE")}static get(e){return this.fetchRequest(e,"GET")}static post(e,t,n){return this.fetchRequest(e,"POST",t,n)}static put(e,t,n){return this.fetchRequest(e,"PUT",t,n)}static getPages(e){return this.fetchRequest(e,"GET")}static runEngine(e){return this.fetchRequest(e,"PATCH")}}t.ApiService=n,n.baseUrl="http://127.0.0.1:3000/"},116:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ApiWinnersService=void 0;const r=n(567),i=n(147);t.ApiWinnersService=class{static getAllWin(){return console.log("WinsApiService"),i.ApiService.get(r.Path.winners)}static createWin(e,t){return i.ApiService.post(r.Path.winners,e,t)}static getWin(e){return i.ApiService.get(`${r.Path.winners}/${e}`)}static deleteWin(e){return i.ApiService.delete(`${r.Path.winners}/${e}`)}static updateWin(e,t,n){return i.ApiService.put(`${r.Path.winners}/${e}`,t,n)}static getPagination(e,t){return i.ApiService.getPages(`${r.Path.winners}?_page=${e}&${t.key}=${t.value}`)}static sortWin(e,t){return i.ApiService.runEngine(`${r.Path.winners}?_sort=${e}&_order=${t}`)}}},77:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const r=n(199),i=n(198),s=n(796),a=n(125),o=n(423);class c extends o.View{constructor(){super(...arguments),this.header=new r.Header(this.emitter),this.garage=new i.Garage(this.emitter),this.winners=new s.Winners(this.emitter),this.cars=new a.Cars(this.emitter),this.routes=[{title:"garage",url:"garage"},{title:"winners",url:"winners"}],this.routeElemetns=[this.garage,this.winners]}appendElement(e){this.wrapper=super.renderElement("div","main-wrapper"),e.append(this.wrapper),this.winners.appendElement(this.wrapper),this.garage.appendElement(this.wrapper),this.cars.appendElement(this.garage.wrapper),this.emitter.subscribe("routeChanged",(e=>this.onChangeRoute(e))),this.header.appendElement(this.wrapper)}onChangeRoute(e){const t=this.routeElemetns.find((t=>t.url===e.url)),n=this.routeElemetns.filter((t=>t.url!==e.url));t&&(console.log("should page",t),t.show()),n.forEach((t=>{t.hide(),console.log("should hide",t,e)}))}}t.App=c},125:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Cars=void 0;const r=n(423),i=n(567),s=n(121),a=n(116),o={key:"_limit",value:7};class c extends r.View{constructor(e){super(e),this.emitter=e,this.currentPage=localStorage.getItem("currentPage")?Number(localStorage.getItem("currentPage")):1,this.getCars(this.currentPage),this.onSub(),this.getCarsQty()}async getCarsQty(){const e=await s.CarsApiService.getAllCars();this.qtyCars=e.length,this.carsNumbers.textContent=String(this.qtyCars)}async getCars(e=1){this.dataCars=await s.CarsApiService.getPagination(e,o),0===this.dataCars.length&&(this.currentPage-=1,this.dataCars=await s.CarsApiService.getPagination(this.currentPage,o)),this.pageNumbers.textContent=String(this.currentPage),this.renderCar(this.dataCars)}appendElement(e){this.carListWrapper=super.renderElement("div","cars-list-wrapper"),this.carsWrapper=super.renderElement("div","cars-pagination"),this.garageSubtitle=super.renderElement("h3","title",{textContent:"Garage #"}),this.carsNumbers=super.renderElement("span","title"),this.pageSubtitle=super.renderElement("h4","subtitle-page",{textContent:"Pages #"}),this.pageNumbers=super.renderElement("span","subtitle-page");const t=super.renderElement("div","page-wrapper");this.prevBtn=super.renderElement("button","prev-btn btn",{textContent:"prev"}),this.nextBtn=super.renderElement("button","next-btn btn",{textContent:"next"}),this.carsWrapper.append(this.garageSubtitle,t),t.append(this.pageSubtitle,this.prevBtn,this.nextBtn),this.garageSubtitle.append(this.carsNumbers),this.pageSubtitle.append(this.pageNumbers),e.append(this.carsWrapper),e.append(this.carListWrapper),this.nextBtn.addEventListener("click",this.nextPage.bind(this)),this.prevBtn.addEventListener("click",this.prevPage.bind(this))}renderCar(e){e.forEach((e=>{setTimeout((()=>{const t=super.renderElement("div","race-container",{id:e.id}),n=super.renderElement("div","car-container"),r=super.renderElement("div","row1"),i=super.renderElement("div","row2"),s=super.renderElement("div","engine-btn-box"),a=super.renderElement("button","select-btn btn",{textContent:"select"}),o=super.renderElement("button","remove-btn btn",{textContent:"remove"});this.startCar=super.renderElement("button","start-btn engine-btn",{textContent:"A"}),this.stopCar=super.renderElement("button","stop-btn engine-btn",{textContent:"B"}),this.carName=super.renderElement("h5","car-name",{textContent:e.name}),this.carImgBox=super.renderElement("div","car-img-box"),this.carImgBox.innerHTML='<svg version="1.0" xmlns="http://www.w3.org/2000/svg"\n    width="1280.000000pt" height="806.000000pt" viewBox="0 0 1280.000000 806.000000"\n    preserveAspectRatio="xMidYMid meet">\n   <g transform="translate(0.000000,806.000000) scale(0.100000,-0.100000)"\n   fill="000000"  stroke="none">\n   <path d="M6845 8050 c-38 -5 -135 -13 -215 -20 -376 -30 -754 -106 -1115 -225\n   -237 -78 -376 -135 -610 -250 -540 -265 -968 -577 -1441 -1050 -254 -254 -407\n   -428 -672 -765 -339 -431 -550 -614 -805 -698 -50 -17 -180 -49 -287 -72 -337\n   -73 -537 -140 -765 -258 -550 -286 -828 -748 -899 -1497 -43 -453 -46 -589\n   -16 -763 52 -304 149 -494 354 -697 122 -122 219 -193 364 -266 l95 -49 180 0\n   180 0 -7 55 c-29 250 -26 448 10 660 113 673 547 1258 1160 1564 908 453 1998\n   218 2641 -570 337 -413 518 -983 474 -1493 -6 -78 -14 -159 -18 -179 l-6 -37\n   1236 0 c680 0 1238 3 1240 7 2 5 -2 55 -9 113 -7 58 -13 163 -14 233 -2 974\n   661 1836 1602 2081 205 54 334 70 553 70 352 0 627 -62 940 -213 558 -270 973\n   -767 1138 -1361 54 -192 70 -318 71 -535 1 -110 -2 -233 -7 -273 l-7 -73 46\n   38 c69 57 177 185 255 301 152 227 241 473 286 792 30 215 22 415 -28 664 -81\n   402 -293 743 -598 963 -2 1 -5 47 -7 100 -4 169 -48 381 -144 698 -122 401\n   -246 659 -497 1028 -214 316 -498 666 -763 940 -102 106 -149 146 -256 216\n   -415 275 -1040 511 -1724 650 -358 73 -691 117 -1085 145 -121 9 -276 20 -345\n   26 -142 11 -381 11 -485 0z m60 -824 c210 -59 384 -203 475 -391 72 -148 73\n   -157 77 -580 5 -414 -7 -727 -32 -851 -30 -146 -100 -259 -189 -307 l-41 -22\n   -1540 -3 c-1145 -2 -1554 0 -1595 9 -121 25 -221 96 -261 182 -24 53 -25 172\n   -3 248 61 205 310 536 693 920 108 107 246 235 306 283 412 330 803 488 1305\n   530 25 2 203 2 395 1 294 -1 360 -4 410 -19z m2060 -91 c152 -34 435 -126 543\n   -176 388 -179 758 -565 982 -1024 146 -300 194 -533 139 -679 -28 -76 -99\n   -139 -186 -166 -63 -19 -92 -20 -991 -20 -924 0 -926 0 -970 21 -51 25 -93 79\n   -119 152 -17 49 -18 107 -18 877 l0 825 23 55 c39 95 78 128 180 151 109 25\n   261 19 417 -16z"/>\n   <path d="M3140 3569 c-718 -69 -1333 -583 -1536 -1285 -51 -174 -66 -310 -62\n   -529 5 -226 25 -344 85 -524 95 -285 238 -508 467 -728 279 -269 600 -421\n   1020 -482 174 -26 238 -26 412 0 355 52 606 152 866 346 343 255 590 642 678\n   1063 63 305 44 631 -55 928 -265 792 -1038 1292 -1875 1211z m359 -939 c201\n   -41 398 -169 516 -335 241 -339 213 -786 -69 -1082 -166 -175 -348 -260 -580\n   -271 -200 -8 -360 35 -517 139 -444 298 -515 911 -150 1302 199 213 506 308\n   800 247z"/>\n   <path d="M9871 3569 c-214 -24 -398 -77 -591 -170 -809 -390 -1201 -1314 -919\n   -2169 189 -575 685 -1030 1274 -1170 108 -26 346 -60 419 -60 81 0 330 37 441\n   65 706 179 1234 772 1330 1492 128 958 -528 1840 -1485 1998 -119 19 -358 27\n   -469 14z m319 -930 c350 -56 635 -330 705 -678 23 -112 16 -294 -15 -401 -67\n   -234 -235 -431 -455 -536 -141 -67 -196 -79 -370 -79 -175 0 -231 13 -371 80\n   -178 86 -313 221 -399 398 -67 139 -79 197 -80 367 0 153 10 210 59 332 107\n   263 365 470 648 517 75 12 202 13 278 0z"/>\n   </g>\n   </svg>\n   ',this.carImgBox.style.fill=e.color,this.flagImg=super.renderElement("div","flag"),t.append(n,this.flagImg),n.append(r,i),r.append(a,o,this.carName),i.append(s,this.carImgBox),s.append(this.startCar,this.stopCar),this.carListWrapper.append(t),a.addEventListener("click",this.onSelectCar.bind(this)),o.addEventListener("click",this.onRemoveCar.bind(this)),this.startCar.addEventListener("click",this.startOneEngin.bind(this)),this.stopCar.addEventListener("click",this.stopOneEngin.bind(this))}),10)}))}onSelectCar(e){const t=this.getIdCar(e);console.log("selected car",t),console.log("selected car",this.dataCars),t&&this.emitter.onEmit("onSelectedCar",this.dataCars.find((e=>e.id===t)))}onSub(){this.emitter.subscribe("onUpdateCar",(e=>this.onUpdateCar(e))),this.emitter.subscribe("onCreatedCar",(e=>this.onCreatedCar(e))),this.emitter.subscribe("onStartRace",(()=>{this.startRace(),console.log("race started")})),this.emitter.subscribe("onStopRace",(()=>{this.stopRace(),console.log("race started")}))}async onRemoveCar(e){const t=this.getIdCar(e);t&&(await s.CarsApiService.deleteCar(t),this.getCarsQty(),this.carListWrapper.innerHTML="",this.getCars(this.currentPage),this.emitter.onEmit("clearInputs"),this.emitter.onEmit("onRemove"))}async onUpdateCar(e){try{if((await s.CarsApiService.getCar(e.id)).id){const t=document.getElementById(`${e.id}`)?.children[0].children[1].childNodes[1],n=document.getElementById(`${e.id}`)?.children[0].children[0].childNodes[2];t.style.fill=e.color,n.textContent=e.name,this.carsNumbers.textContent=String(this.qtyCars)}}catch{console.log("car is not exist")}}async onCreatedCar(e){console.log("render newly car",e),this.dataCars=await s.CarsApiService.getPagination(0,o);const t=this.carListWrapper.childNodes.length;if(t<o.value){if(Array.isArray(e)||this.renderCar([e]),Array.isArray(e)){const n=o.value-t;this.renderCar(e.slice(0,n))}this.carsNumbers.textContent=String(this.qtyCars)}this.getCarsQty()}async nextPage(){const e=this.qtyCars/o.value;this.currentPage<e?(this.nextBtn.disabled=!1,this.prevBtn.disabled=!1,this.currentPage+=1,localStorage.setItem("currentPage",String(this.currentPage)),this.pageNumbers.textContent=String(this.currentPage),this.carListWrapper.innerHTML="",this.getCars(this.currentPage)):this.nextBtn.disabled=!0}async prevPage(){this.currentPage>1?(this.prevBtn.disabled=!1,this.nextBtn.disabled=!1,this.currentPage-=1,localStorage.setItem("currentPage",String(this.currentPage)),this.pageNumbers.textContent=String(this.currentPage),this.carListWrapper.innerHTML="",this.getCars(this.currentPage)):this.prevBtn.disabled=!0}async startOneEngin(e,t){let n;const r=e?this.getIdCar(e):t,a=await s.CarsApiService.getCar(r),o=document.getElementById(`${r}`)?.children[0].children[1].childNodes[1];this.emitter.subscribe("onStopCar",(()=>clearInterval(n)));try{const e=await s.CarsApiService.onEnginCar(r,i.Engine.started),t=window.screen.width,c=window.screen.width-this.flagImg.offsetLeft+this.flagImg.offsetWidth;let l=this.carImgBox.offsetLeft-this.carImgBox.offsetWidth+5;const p=t-l-c,d=(p-l)/(30*e.velocity/1e3*60);n=setInterval((()=>{l+=d,l>=p&&(this.winnerTime||(this.winnerTime=+(p/e.velocity).toFixed(2),this.addWinner(r,this.winnerTime,a.color,a.name),this.showWinMessage(r,a.name,this.winnerTime)),clearInterval(n)),o.style.transform=`translateX(${l}px)`}),16);const h=fetch(`http://127.0.0.1:3000/engine?id=${r}&status=drive`,{method:"PATCH"});return h.then((e=>e.json())).catch((e=>new Error(e))),200!==(await h).status&&clearInterval(n),await h}catch(e){throw console.error(`💩 ${e} 💩`),clearInterval(n),new Error("Engine is broken")}}async stopOneEngin(e,t){const n=e?this.getIdCar(e):t,r=await s.CarsApiService.onEnginCar(n,i.Engine.stopped);console.log(r),this.emitter.onEmit("onStopCar");const a=document.getElementById(`${n}`)?.children[0].children[1].childNodes[1];a.style.transform&&(a.style.transform="translateX(0px)")}getIdCar(e){const t=e.target.closest(".race-container");return Number(t?.id)}async startRace(){const e=[],t=await s.CarsApiService.getPagination(this.currentPage,o);console.log(t),t.forEach((async t=>{const n=await this.startOneEngin(event,t.id);200===n.status&&e.push(n)})),console.log(e),this.winnerTime=0}async stopRace(){const e=await s.CarsApiService.getPagination(this.currentPage,o);console.log(e),e.forEach((e=>this.stopOneEngin(event,e.id)))}async addWinner(e,t,n,r){try{const i=await a.ApiWinnersService.getWin(e);if(console.log("checkWinner",i.id),i.carId===e){console.log("winner update",e),i.wins+=1,i.time=i.time<=t?i.time:t;const n={wins:i.wins,time:i.time};await a.ApiWinnersService.updateWin(e,n,{"Content-Type":"application/json"})}else{const i={carId:e,time:t,wins:1,color:n,name:r};await a.ApiWinnersService.createWin(i,{"Content-Type":"application/json"})}const s=await a.ApiWinnersService.getAllWin();console.log("allWinners",s)}catch{console.error("Winner is not found")}}showWinMessage(e,t,n){const r=super.renderElement("div","popup-wrapper"),i=super.renderElement("div","overlay"),s=super.renderElement("div","win-message",{textContent:`Car id#${e} ${t} is win with time ${n}`});document.body.append(i),i.append(r),r.append(s);const a=setInterval((()=>{document.querySelector(".overlay")?document.body.removeChild(i):clearInterval(a)}),3e3)}}t.Cars=c},504:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0,t.EventEmitter=class{constructor(){this.subscriberMap=new Map}subscribe(e,t){const n=this.subscriberMap.get(e)||[];this.subscriberMap.has(e)?this.subscriberMap.set(e,[...n,t]):this.subscriberMap.set(e,[t])}unsubscribe(e,t){const n=this.subscriberMap.get(e)||[];this.subscriberMap.has(e)&&this.subscriberMap.set(e,n.filter((e=>e!==t)))}onEmit(e,t){const n=this.subscriberMap.get(e);n&&n.forEach((e=>e(t)))}}},198:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Garage=void 0;const r=n(919),i=n(121),s=n(992),a=n(956);class o extends r.RouteElement{constructor(){super(...arguments),this.url="garage"}async appendElement(e){super.render(e),this.createBtn=super.renderElement("button","create-btn btn",{textContent:"create"}),this.updateBtn=super.renderElement("button","update-btn btn",{textContent:"update"}),this.createInput=super.renderElement("select","create-input input"),this.generateModels(),this.updateInput=super.renderElement("input","update-input input"),this.createPicker=super.renderElement("input","create-picker picker",{type:"color"}),this.updatePicker=super.renderElement("input","uodate-picker picker",{type:"color"}),this.startBtn=super.renderElement("button","start-btn btn",{textContent:"start"}),this.stopBtn=super.renderElement("button","stop-btn btn",{textContent:"stop"}),this.generateBtn=super.renderElement("button","update-btn btn",{textContent:"generate cars"});const t=super.renderElement("div","controllers-wrapper"),n=super.renderElement("div","create-container garage-input-container"),r=super.renderElement("div","update-container garage-input-container");this.updateInput.disabled=!0,this.updatePicker.disabled=!0,this.updateBtn.disabled=!0;const i=super.renderElement("div","controller-container garage-input-container");this.wrapper.append(t),t.append(n,r,i),n.append(this.createInput,this.createPicker,this.createBtn),r.append(this.updateInput,this.updatePicker,this.updateBtn),i.append(this.startBtn,this.stopBtn,this.generateBtn),this.onUpdateNameCar(),this.updateBtn.addEventListener("click",this.getUpdatedCar.bind(this)),this.createBtn.addEventListener("click",this.onCreateCar.bind(this)),this.generateBtn.addEventListener("click",this.onGenerateCars.bind(this)),this.startBtn.addEventListener("click",this.startRace.bind(this)),this.stopBtn.addEventListener("click",this.stopRace.bind(this)),this.emitter.subscribe("clearInputs",(()=>this.clearInputs()))}onUpdateNameCar(){this.emitter.subscribe("onSelectedCar",(e=>this.updateCar(e)))}updateCar(e){e&&(this.currentUpdateCar=e,console.log("some",e),this.updateInput.value=e.name,this.updatePicker.value=e.color,this.updateInput.disabled=!1,this.updatePicker.disabled=!1,this.updateBtn.disabled=!1)}async getUpdatedCar(){const{id:e}=this.currentUpdateCar,t={name:this.updateInput.value,color:this.updatePicker.value};await i.CarsApiService.updateCar(e,t,{"Content-Type":"application/json"});try{const t=await i.CarsApiService.getCar(e);t.id&&this.emitter.onEmit("onUpdateCar",t),this.updateInput.value="",this.updatePicker.value="#000000"}catch{console.log("car is not exist")}}async onCreateCar(){const e={name:this.createInput.value?this.createInput.value:(0,s.createCarName)(),color:this.createPicker.value};await i.CarsApiService.createCar(e,{"Content-Type":"application/json"});const t=await i.CarsApiService.getAllCars();console.log("createdCar",t[t.length-1]),this.emitter.onEmit("onCreatedCar",t[t.length-1]),this.createInput.value="",this.createPicker.value="#000000"}async onGenerateCars(){const e=(await i.CarsApiService.getAllCars()).length-1,t=new Array(100).fill("0").map((async()=>{const e={name:(0,s.createCarName)(),color:(0,a.setCarColor)()};return await i.CarsApiService.createCar(e,{"Content-Type":"application/json"}),e}));console.log(t,e);const n=await i.CarsApiService.getAllCars();this.emitter.onEmit("onCreatedCar",n.slice(e+1))}clearInputs(){this.createInput.value="",this.createPicker.value="#000000",this.updateInput.value="",this.updatePicker.value="#000000"}generateModels(){const e=(0,s.selectCarName)();e.unshift(""),e.forEach((e=>{const t=document.createElement("option");t.setAttribute("value",e),t.textContent=e,this.createInput.append(t)}))}startRace(e){console.log(e),this.emitter.onEmit("onStartRace")}stopRace(e){console.log(e),this.emitter.onEmit("onStopRace")}}t.Garage=o},199:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;const r=n(423);class i extends r.View{constructor(){super(...arguments),this.navElements=[],this.routes=[{title:"garage",url:"garage"},{title:"winners",url:"winners"}]}appendElement(e){const t=super.renderElement("header","header"),n=super.renderElement("h1","heading",{textContent:"async-Race"}),r=super.renderElement("div","header-content"),i=super.renderElement("nav","nav");this.subtitle=super.renderElement("h2","subtitle",{textContent:"async-Race"});const s=super.renderElement("div","header__text-wrappter"),a=super.renderElement("a","header__link-scholl",{href:"https://rs.school/js/"}),o=super.renderElement("a","header__link-github",{href:"https://github.com/MaleryValery"});e.append(t),t.append(n,s,r),s.append(o,a),r.append(this.subtitle,i),this.routes.forEach((e=>{const t=super.renderElement("a",`${e.title}-link nav-link`,{textContent:e.title});t.setAttribute("url",e.url),this.navElements.push(t),i.append(t)})),this.onChangeRoute(this.routes[0]),i.addEventListener("click",(e=>{const t=e.target.getAttribute("url"),n=this.routes.find((e=>e.url===t));n&&this.onChangeRoute(n)}))}onChangeRoute(e){this.subtitle.innerHTML=e.title,this.emitter.onEmit("routeChanged",e)}}t.Header=i},919:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RouteElement=void 0;const r=n(423);class i extends r.View{constructor(){super(...arguments),this.isHidden=!0}render(e){this.parent=e,this.wrapper=document.createElement("section"),this.wrapper.className=`${this.url}-wrapper`,this.wrapper.setAttribute("url",this.url)}show(){this.isHidden&&(this.isHidden=!1,this.parent.appendChild(this.wrapper),console.log("show","parrent:",this.parent,"child:",this.wrapper))}hide(){this.isHidden||(this.isHidden=!0,this.parent.removeChild(this.wrapper),console.log("hide","parrent:",this.parent,"child:",this.wrapper))}}t.RouteElement=i},992:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.selectCarName=t.createCarName=t.models=t.brand=void 0,t.brand=["Audi","Beta Julieta","BMW","Citroen","Infiniti","Jeep","Kia","Lexus","Nissan","Opel","Volvo"],t.models=["A4","X2","CEED","CERATO","RIO","GENESIS","GETZ","GRANDEUR","MATRIX","XCENT","Alfa Romeo"],t.createCarName=()=>{const e=Math.floor(Math.random()*t.models.length),n=Math.floor(Math.random()*t.brand.length);return`${t.brand[n]} ${t.models[e]} `},t.selectCarName=()=>Array(6).fill("").map((()=>`${t.brand[Math.floor(Math.random()*t.brand.length)]} ${t.models[Math.floor(Math.random()*t.models.length)]}`)),console.log()},956:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setCarColor=void 0;const n=()=>{const e=Math.floor(255*Math.random()).toString(16);return 2===e.length?e:e.padStart(2,"0")};t.setCarColor=()=>`#${n()}${n()}${n()}`},567:(e,t)=>{var n,r,i,s;Object.defineProperty(t,"__esModule",{value:!0}),t.SortOrderWinner=t.SortWinner=t.Engine=t.Path=void 0,function(e){e.garage="garage",e.engine="engine",e.winners="winners"}(n||(t.Path=n={})),function(e){e.started="started",e.stopped="stopped",e.drive="drive"}(r||(t.Engine=r={})),function(e){e.id="id",e.wins="wins",e.time="time"}(i||(t.SortWinner=i={})),function(e){e.ASC="ASC",e.DESC="DESC"}(s||(t.SortOrderWinner=s={}))},423:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0,t.View=class{constructor(e){this.emitter=e}renderElement(e,t,n){const r=document.createElement(e);return t&&(r.className=t),n&&Object.assign(r,n),r}}},796:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Winners=void 0;const r=n(919),i=n(116),s={key:"_limit",value:10};class a extends r.RouteElement{constructor(e){super(e),this.emitter=e,this.url="winners",this.currentWinnerPage=localStorage.getItem("currentPageWinner")?Number(localStorage.getItem("currentPageWinner")):1,this.getAllWinnersPagination(this.currentWinnerPage),this.onSubWin(),this.getWinnersQty()}async getWinnersQty(){const e=await i.ApiWinnersService.getAllWin();this.qtyWins=e.length,this.carsNumbers.textContent=String(this.qtyWins)}appendElement(e){super.render(e),this.nextBtn=super.renderElement("button","next-btn btn win-page-btn",{textContent:"next"}),this.prevBtn=super.renderElement("button","prev-btn btn win-page-btn",{textContent:"prev"});const t=super.renderElement("div","wrapper-page_controller");this.winnnersHeader=super.renderElement("h3","title",{textContent:"Winners #"}),this.carsNumbers=super.renderElement("span","title"),this.pageNumbers=super.renderElement("h4","subtitle-page",{textContent:"Pages(here number)"}),this.tableContainer=super.renderElement("div","table-container"),this.winTableHead=super.renderElement("div","table-head table-row"),this.idWin=super.renderElement("span","table-id-winner",{textContent:"Number"}),this.carImgWin=super.renderElement("span","table-img-winner",{textContent:"Car"}),this.carNameWin=super.renderElement("span","table-name-winner",{textContent:"Name"}),this.numbnerWins=super.renderElement("span","table-numbers-wins",{textContent:"Wins"}),this.timeWin=super.renderElement("span","table-time-wins",{textContent:"Best time"}),e.append(this.wrapper),this.wrapper.append(this.winnnersHeader,t,this.tableContainer),this.winnnersHeader.append(this.carsNumbers),t.append(this.pageNumbers,this.prevBtn,this.nextBtn),this.tableContainer.append(this.winTableHead),this.winTableHead.append(this.idWin,this.carImgWin,this.carNameWin,this.numbnerWins,this.timeWin),this.nextBtn.addEventListener("click",this.nextPage.bind(this)),this.prevBtn.addEventListener("click",this.prevPage.bind(this))}async getAllWinnersPagination(e=1){this.dataWinners=await i.ApiWinnersService.getPagination(e,s),0===this.dataWinners.length&&(this.currentWinnerPage-=1,this.dataWinners=await i.ApiWinnersService.getPagination(this.currentWinnerPage,s)),this.pageNumbers.textContent=String(this.currentWinnerPage),this.renderWinner(this.dataWinners)}renderWinner(e){this.contentTable=super.renderElement("div","table-content"),this.tableContainer.append(this.contentTable),e.forEach((e=>{const t=super.renderElement("div","table-head table-row"),n=super.renderElement("span","table-id-winner",{textContent:e.id}),r=super.renderElement("span","table-img-winner",{textContent:e.color}),i=super.renderElement("span","table-name-winner",{textContent:e.name}),s=super.renderElement("span","table-numbers-wins",{textContent:e.wins}),a=super.renderElement("span","table-time-wins",{textContent:e.time});r.innerHTML='<svg version="1.0" xmlns="http://www.w3.org/2000/svg"\n    width="1280.000000pt" height="806.000000pt" viewBox="0 0 1280.000000 806.000000"\n    preserveAspectRatio="xMidYMid meet">\n   <g transform="translate(0.000000,806.000000) scale(0.100000,-0.100000)"\n   fill="000000"  stroke="none">\n   <path d="M6845 8050 c-38 -5 -135 -13 -215 -20 -376 -30 -754 -106 -1115 -225\n   -237 -78 -376 -135 -610 -250 -540 -265 -968 -577 -1441 -1050 -254 -254 -407\n   -428 -672 -765 -339 -431 -550 -614 -805 -698 -50 -17 -180 -49 -287 -72 -337\n   -73 -537 -140 -765 -258 -550 -286 -828 -748 -899 -1497 -43 -453 -46 -589\n   -16 -763 52 -304 149 -494 354 -697 122 -122 219 -193 364 -266 l95 -49 180 0\n   180 0 -7 55 c-29 250 -26 448 10 660 113 673 547 1258 1160 1564 908 453 1998\n   218 2641 -570 337 -413 518 -983 474 -1493 -6 -78 -14 -159 -18 -179 l-6 -37\n   1236 0 c680 0 1238 3 1240 7 2 5 -2 55 -9 113 -7 58 -13 163 -14 233 -2 974\n   661 1836 1602 2081 205 54 334 70 553 70 352 0 627 -62 940 -213 558 -270 973\n   -767 1138 -1361 54 -192 70 -318 71 -535 1 -110 -2 -233 -7 -273 l-7 -73 46\n   38 c69 57 177 185 255 301 152 227 241 473 286 792 30 215 22 415 -28 664 -81\n   402 -293 743 -598 963 -2 1 -5 47 -7 100 -4 169 -48 381 -144 698 -122 401\n   -246 659 -497 1028 -214 316 -498 666 -763 940 -102 106 -149 146 -256 216\n   -415 275 -1040 511 -1724 650 -358 73 -691 117 -1085 145 -121 9 -276 20 -345\n   26 -142 11 -381 11 -485 0z m60 -824 c210 -59 384 -203 475 -391 72 -148 73\n   -157 77 -580 5 -414 -7 -727 -32 -851 -30 -146 -100 -259 -189 -307 l-41 -22\n   -1540 -3 c-1145 -2 -1554 0 -1595 9 -121 25 -221 96 -261 182 -24 53 -25 172\n   -3 248 61 205 310 536 693 920 108 107 246 235 306 283 412 330 803 488 1305\n   530 25 2 203 2 395 1 294 -1 360 -4 410 -19z m2060 -91 c152 -34 435 -126 543\n   -176 388 -179 758 -565 982 -1024 146 -300 194 -533 139 -679 -28 -76 -99\n   -139 -186 -166 -63 -19 -92 -20 -991 -20 -924 0 -926 0 -970 21 -51 25 -93 79\n   -119 152 -17 49 -18 107 -18 877 l0 825 23 55 c39 95 78 128 180 151 109 25\n   261 19 417 -16z"/>\n   <path d="M3140 3569 c-718 -69 -1333 -583 -1536 -1285 -51 -174 -66 -310 -62\n   -529 5 -226 25 -344 85 -524 95 -285 238 -508 467 -728 279 -269 600 -421\n   1020 -482 174 -26 238 -26 412 0 355 52 606 152 866 346 343 255 590 642 678\n   1063 63 305 44 631 -55 928 -265 792 -1038 1292 -1875 1211z m359 -939 c201\n   -41 398 -169 516 -335 241 -339 213 -786 -69 -1082 -166 -175 -348 -260 -580\n   -271 -200 -8 -360 35 -517 139 -444 298 -515 911 -150 1302 199 213 506 308\n   800 247z"/>\n   <path d="M9871 3569 c-214 -24 -398 -77 -591 -170 -809 -390 -1201 -1314 -919\n   -2169 189 -575 685 -1030 1274 -1170 108 -26 346 -60 419 -60 81 0 330 37 441\n   65 706 179 1234 772 1330 1492 128 958 -528 1840 -1485 1998 -119 19 -358 27\n   -469 14z m319 -930 c350 -56 635 -330 705 -678 23 -112 16 -294 -15 -401 -67\n   -234 -235 -431 -455 -536 -141 -67 -196 -79 -370 -79 -175 0 -231 13 -371 80\n   -178 86 -313 221 -399 398 -67 139 -79 197 -80 367 0 153 10 210 59 332 107\n   263 365 470 648 517 75 12 202 13 278 0z"/>\n   </g>\n   </svg>\n   ',r.style.fill=e.color,this.contentTable.append(t),t.append(n,r,i,s,a)}))}async nextPage(){const e=this.qtyWins/s.value;if(this.currentWinnerPage<e){this.nextBtn.disabled=!1,this.prevBtn.disabled=!1,this.currentWinnerPage+=1,localStorage.setItem("currentPageWinner",String(this.currentWinnerPage)),this.pageNumbers.textContent=String(this.currentWinnerPage),this.contentTable.innerHTML="";const e=await this.getAllWinnersPagination(this.currentWinnerPage);console.log(e)}else this.nextBtn.disabled=!0}async prevPage(){this.currentWinnerPage>1?(this.prevBtn.disabled=!1,this.nextBtn.disabled=!1,this.currentWinnerPage-=1,localStorage.setItem("currentPageWinner",String(this.currentWinnerPage)),this.pageNumbers.textContent=String(this.currentWinnerPage),this.contentTable.innerHTML="",await this.getAllWinnersPagination(this.currentWinnerPage)):this.prevBtn.disabled=!0}onSubWin(){this.emitter.subscribe("onRemove",(e=>this.onRemoveWin(e)))}async onRemoveWin(e){if(e){const{id:t}=e,n=(await i.ApiWinnersService.getAllWin()).find((e=>e.carId===t));console.log("winnerToDelete",n),n&&await i.ApiWinnersService.deleteWin(n.id),this.getWinnersQty(),this.contentTable.innerHTML="",this.getAllWinnersPagination(this.currentWinnerPage)}}}t.Winners=a}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{const e=n(77),t=new(n(504).EventEmitter);new e.App(t).appendElement(document.body),console.log("Helllllo")})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFRdUQsUUFBVUEsQyxHQzNLZHVRLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYWpVLFFBR3JCLElBQUltVSxFQUFTTCxFQUF5QkUsR0FBWSxDQUdqRGhVLFFBQVMsQ0FBQyxHQU9YLE9BSEFvVSxFQUFvQkosR0FBVUcsRUFBUUEsRUFBT25VLFFBQVMrVCxHQUcvQ0ksRUFBT25VLE9BQ2YsQyxNQ3BCQSxNQUFNcVUsRUFBUSxFQUFRLElBRWhCaFIsRUFBVSxJQURFLEVBQVEsS0FDSStKLGNBQ2xCLElBQUlpSCxFQUFNNVIsSUFBSVksR0FDdEJRLGNBQWNtRixTQUFTdEgsTUFDM0JwQixRQUFRQyxJQUFJLFciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL2NvbXBvbmVudHMvYXBpL2FwaUNhclNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9jb21wb25lbnRzL2FwaS9hcGlTZXJ2aWNlLnRzIiwid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvY29tcG9uZW50cy9hcGkvYXBpV2lubmVyc1NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9jb21wb25lbnRzL2FwcC50cyIsIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL2NvbXBvbmVudHMvY2FyLnRzIiwid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvY29tcG9uZW50cy9lbWl0dGVyLnRzIiwid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvY29tcG9uZW50cy9nYXJhZ2UudHMiLCJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9jb21wb25lbnRzL2hlYWRlci50cyIsIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL2NvbXBvbmVudHMvcm91dGVzL3JvdXRlLnRzIiwid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvY29tcG9uZW50cy91dGlscy9jYXJzQnJhbmQudHMiLCJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9jb21wb25lbnRzL3V0aWxzL3NldENvbG9yLnRzIiwid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvY29tcG9uZW50cy91dGlscy90eXBlcy50cyIsIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL2NvbXBvbmVudHMvdmlldy50cyIsIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL2NvbXBvbmVudHMvd2lubmVycy50cyIsIndlYnBhY2s6Ly9hc3luYy1yYWNlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNhcnNBcGlTZXJ2aWNlID0gdm9pZCAwO1xuY29uc3QgdHlwZXNfMSA9IHJlcXVpcmUoXCIuLi91dGlscy90eXBlc1wiKTtcbmNvbnN0IGFwaVNlcnZpY2VfMSA9IHJlcXVpcmUoXCIuL2FwaVNlcnZpY2VcIik7XG5jbGFzcyBDYXJzQXBpU2VydmljZSB7XG4gICAgc3RhdGljIGdldEFsbENhcnMoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdDYXJzQXBpU2VydmljZScpO1xuICAgICAgICByZXR1cm4gYXBpU2VydmljZV8xLkFwaVNlcnZpY2UuZ2V0KHR5cGVzXzEuUGF0aC5nYXJhZ2UpO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlQ2FyKHRyYW5zZmVyLCBoZWFkZXJzKSB7XG4gICAgICAgIHJldHVybiBhcGlTZXJ2aWNlXzEuQXBpU2VydmljZS5wb3N0KHR5cGVzXzEuUGF0aC5nYXJhZ2UsIHRyYW5zZmVyLCBoZWFkZXJzKTtcbiAgICB9XG4gICAgc3RhdGljIGdldENhcihpZENhcikge1xuICAgICAgICByZXR1cm4gYXBpU2VydmljZV8xLkFwaVNlcnZpY2UuZ2V0KGAke3R5cGVzXzEuUGF0aC5nYXJhZ2V9LyR7aWRDYXJ9YCk7XG4gICAgfVxuICAgIHN0YXRpYyBkZWxldGVDYXIoaWRDYXIpIHtcbiAgICAgICAgcmV0dXJuIGFwaVNlcnZpY2VfMS5BcGlTZXJ2aWNlLmRlbGV0ZShgJHt0eXBlc18xLlBhdGguZ2FyYWdlfS8ke2lkQ2FyfWApO1xuICAgIH1cbiAgICBzdGF0aWMgdXBkYXRlQ2FyKGlkQ2FyLCB0cmFuc2ZlciwgaGVhZGVycykge1xuICAgICAgICByZXR1cm4gYXBpU2VydmljZV8xLkFwaVNlcnZpY2UucHV0KGAke3R5cGVzXzEuUGF0aC5nYXJhZ2V9LyR7aWRDYXJ9YCwgdHJhbnNmZXIsIGhlYWRlcnMpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0UGFnaW5hdGlvbih2YWx1ZSwgbGltaXQpIHtcbiAgICAgICAgcmV0dXJuIGFwaVNlcnZpY2VfMS5BcGlTZXJ2aWNlLmdldFBhZ2VzKGAke3R5cGVzXzEuUGF0aC5nYXJhZ2V9P19wYWdlPSR7dmFsdWV9JiR7bGltaXQua2V5fT0ke2xpbWl0LnZhbHVlfWApO1xuICAgIH1cbiAgICBzdGF0aWMgb25FbmdpbkNhcihpZENhciwgc3RhdHVzKSB7XG4gICAgICAgIHJldHVybiBhcGlTZXJ2aWNlXzEuQXBpU2VydmljZS5ydW5FbmdpbmUoYCR7dHlwZXNfMS5QYXRoLmVuZ2luZX0/aWQ9JHtpZENhcn0mc3RhdHVzPSR7c3RhdHVzfWApO1xuICAgIH1cbiAgICBzdGF0aWMgb25SdW5DYXIoaWRDYXIsIHN0YXR1cykge1xuICAgICAgICByZXR1cm4gYXBpU2VydmljZV8xLkFwaVNlcnZpY2UucnVuRW5naW5lKGAke3R5cGVzXzEuUGF0aC5lbmdpbmV9P2lkPSR7aWRDYXJ9JnN0YXR1cz0ke3N0YXR1c31gKTtcbiAgICB9XG59XG5leHBvcnRzLkNhcnNBcGlTZXJ2aWNlID0gQ2Fyc0FwaVNlcnZpY2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQXBpU2VydmljZSA9IHZvaWQgMDtcbmNsYXNzIEFwaVNlcnZpY2Uge1xuICAgIHN0YXRpYyBhc3luYyBmZXRjaFJlcXVlc3QocGFnZSwgbWV0aG9kLCBib2R5LCBoZWFkZXJzKSB7XG4gICAgICAgIGNvbnN0IHVybCA9IGAke3RoaXMuYmFzZVVybH0ke3BhZ2V9YDtcbiAgICAgICAgY29uc29sZS5sb2codXJsKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgIGJvZHk6IGJvZHkgPyBKU09OLnN0cmluZ2lmeShib2R5KSA6IG51bGwsXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIHN0YXRpYyBkZWxldGUoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mZXRjaFJlcXVlc3QoZWxlbWVudCwgJ0RFTEVURScpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0KGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2hSZXF1ZXN0KGVsZW1lbnQsICdHRVQnKTtcbiAgICB9XG4gICAgc3RhdGljIHBvc3QoZWxlbWVudCwgYm9keSwgaGVhZGVycykge1xuICAgICAgICByZXR1cm4gdGhpcy5mZXRjaFJlcXVlc3QoZWxlbWVudCwgJ1BPU1QnLCBib2R5LCBoZWFkZXJzKTtcbiAgICB9XG4gICAgc3RhdGljIHB1dChlbGVtZW50LCBib2R5LCBoZWFkZXJzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZldGNoUmVxdWVzdChlbGVtZW50LCAnUFVUJywgYm9keSwgaGVhZGVycyk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRQYWdlcyhlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZldGNoUmVxdWVzdChlbGVtZW50LCAnR0VUJyk7XG4gICAgfVxuICAgIHN0YXRpYyBydW5FbmdpbmUoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mZXRjaFJlcXVlc3QoZWxlbWVudCwgJ1BBVENIJyk7XG4gICAgfVxufVxuZXhwb3J0cy5BcGlTZXJ2aWNlID0gQXBpU2VydmljZTtcbkFwaVNlcnZpY2UuYmFzZVVybCA9ICdodHRwOi8vMTI3LjAuMC4xOjMwMDAvJztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BcGlXaW5uZXJzU2VydmljZSA9IHZvaWQgMDtcbmNvbnN0IHR5cGVzXzEgPSByZXF1aXJlKFwiLi4vdXRpbHMvdHlwZXNcIik7XG5jb25zdCBhcGlTZXJ2aWNlXzEgPSByZXF1aXJlKFwiLi9hcGlTZXJ2aWNlXCIpO1xuY2xhc3MgQXBpV2lubmVyc1NlcnZpY2Uge1xuICAgIHN0YXRpYyBnZXRBbGxXaW4oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdXaW5zQXBpU2VydmljZScpO1xuICAgICAgICByZXR1cm4gYXBpU2VydmljZV8xLkFwaVNlcnZpY2UuZ2V0KHR5cGVzXzEuUGF0aC53aW5uZXJzKTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZVdpbih0cmFuc2ZlciwgaGVhZGVycykge1xuICAgICAgICByZXR1cm4gYXBpU2VydmljZV8xLkFwaVNlcnZpY2UucG9zdCh0eXBlc18xLlBhdGgud2lubmVycywgdHJhbnNmZXIsIGhlYWRlcnMpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0V2luKGlkQ2FyKSB7XG4gICAgICAgIHJldHVybiBhcGlTZXJ2aWNlXzEuQXBpU2VydmljZS5nZXQoYCR7dHlwZXNfMS5QYXRoLndpbm5lcnN9LyR7aWRDYXJ9YCk7XG4gICAgfVxuICAgIHN0YXRpYyBkZWxldGVXaW4oaWRDYXIpIHtcbiAgICAgICAgcmV0dXJuIGFwaVNlcnZpY2VfMS5BcGlTZXJ2aWNlLmRlbGV0ZShgJHt0eXBlc18xLlBhdGgud2lubmVyc30vJHtpZENhcn1gKTtcbiAgICB9XG4gICAgc3RhdGljIHVwZGF0ZVdpbihpZENhciwgdHJhbnNmZXIsIGhlYWRlcnMpIHtcbiAgICAgICAgcmV0dXJuIGFwaVNlcnZpY2VfMS5BcGlTZXJ2aWNlLnB1dChgJHt0eXBlc18xLlBhdGgud2lubmVyc30vJHtpZENhcn1gLCB0cmFuc2ZlciwgaGVhZGVycyk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRQYWdpbmF0aW9uKHZhbHVlLCBsaW1pdCkge1xuICAgICAgICByZXR1cm4gYXBpU2VydmljZV8xLkFwaVNlcnZpY2UuZ2V0UGFnZXMoYCR7dHlwZXNfMS5QYXRoLndpbm5lcnN9P19wYWdlPSR7dmFsdWV9JiR7bGltaXQua2V5fT0ke2xpbWl0LnZhbHVlfWApO1xuICAgIH1cbiAgICBzdGF0aWMgc29ydFdpbih0eXBlU29ydCwgb3JkZXIpIHtcbiAgICAgICAgcmV0dXJuIGFwaVNlcnZpY2VfMS5BcGlTZXJ2aWNlLnJ1bkVuZ2luZShgJHt0eXBlc18xLlBhdGgud2lubmVyc30/X3NvcnQ9JHt0eXBlU29ydH0mX29yZGVyPSR7b3JkZXJ9YCk7XG4gICAgfVxufVxuZXhwb3J0cy5BcGlXaW5uZXJzU2VydmljZSA9IEFwaVdpbm5lcnNTZXJ2aWNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFwcCA9IHZvaWQgMDtcbmNvbnN0IGhlYWRlcl8xID0gcmVxdWlyZShcIi4vaGVhZGVyXCIpO1xuY29uc3QgZ2FyYWdlXzEgPSByZXF1aXJlKFwiLi9nYXJhZ2VcIik7XG5jb25zdCB3aW5uZXJzXzEgPSByZXF1aXJlKFwiLi93aW5uZXJzXCIpO1xuY29uc3QgY2FyXzEgPSByZXF1aXJlKFwiLi9jYXJcIik7XG5jb25zdCB2aWV3XzEgPSByZXF1aXJlKFwiLi92aWV3XCIpO1xuY2xhc3MgQXBwIGV4dGVuZHMgdmlld18xLlZpZXcge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmhlYWRlciA9IG5ldyBoZWFkZXJfMS5IZWFkZXIodGhpcy5lbWl0dGVyKTtcbiAgICAgICAgdGhpcy5nYXJhZ2UgPSBuZXcgZ2FyYWdlXzEuR2FyYWdlKHRoaXMuZW1pdHRlcik7XG4gICAgICAgIHRoaXMud2lubmVycyA9IG5ldyB3aW5uZXJzXzEuV2lubmVycyh0aGlzLmVtaXR0ZXIpO1xuICAgICAgICB0aGlzLmNhcnMgPSBuZXcgY2FyXzEuQ2Fycyh0aGlzLmVtaXR0ZXIpO1xuICAgICAgICB0aGlzLnJvdXRlcyA9IFtcbiAgICAgICAgICAgIHsgdGl0bGU6ICdnYXJhZ2UnLCB1cmw6ICdnYXJhZ2UnIH0sXG4gICAgICAgICAgICB7IHRpdGxlOiAnd2lubmVycycsIHVybDogJ3dpbm5lcnMnIH0sXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMucm91dGVFbGVtZXRucyA9IFt0aGlzLmdhcmFnZSwgdGhpcy53aW5uZXJzXTtcbiAgICB9XG4gICAgYXBwZW5kRWxlbWVudChwYXJlbnQpIHtcbiAgICAgICAgdGhpcy53cmFwcGVyID0gc3VwZXIucmVuZGVyRWxlbWVudCgnZGl2JywgJ21haW4td3JhcHBlcicpO1xuICAgICAgICBwYXJlbnQuYXBwZW5kKHRoaXMud3JhcHBlcik7XG4gICAgICAgIHRoaXMud2lubmVycy5hcHBlbmRFbGVtZW50KHRoaXMud3JhcHBlcik7XG4gICAgICAgIHRoaXMuZ2FyYWdlLmFwcGVuZEVsZW1lbnQodGhpcy53cmFwcGVyKTtcbiAgICAgICAgdGhpcy5jYXJzLmFwcGVuZEVsZW1lbnQodGhpcy5nYXJhZ2Uud3JhcHBlcik7XG4gICAgICAgIHRoaXMuZW1pdHRlci5zdWJzY3JpYmUoJ3JvdXRlQ2hhbmdlZCcsIChyb3V0ZSkgPT4gdGhpcy5vbkNoYW5nZVJvdXRlKHJvdXRlKSk7XG4gICAgICAgIHRoaXMuaGVhZGVyLmFwcGVuZEVsZW1lbnQodGhpcy53cmFwcGVyKTtcbiAgICB9XG4gICAgb25DaGFuZ2VSb3V0ZShyb3V0ZSkge1xuICAgICAgICBjb25zdCBhY3RpdmVQYWdlID0gdGhpcy5yb3V0ZUVsZW1ldG5zLmZpbmQoKHBhZ2UpID0+IHBhZ2UudXJsID09PSByb3V0ZS51cmwpO1xuICAgICAgICBjb25zdCBoaWRkZW5QYWdlID0gdGhpcy5yb3V0ZUVsZW1ldG5zLmZpbHRlcigocGFnZSkgPT4gcGFnZS51cmwgIT09IHJvdXRlLnVybCk7XG4gICAgICAgIGlmIChhY3RpdmVQYWdlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2hvdWxkIHBhZ2UnLCBhY3RpdmVQYWdlKTtcbiAgICAgICAgICAgIGFjdGl2ZVBhZ2Uuc2hvdygpO1xuICAgICAgICB9XG4gICAgICAgIGhpZGRlblBhZ2UuZm9yRWFjaCgocGFnZSkgPT4ge1xuICAgICAgICAgICAgcGFnZS5oaWRlKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2hvdWxkIGhpZGUnLCBwYWdlLCByb3V0ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuQXBwID0gQXBwO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNhcnMgPSB2b2lkIDA7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXG5jb25zdCB2aWV3XzEgPSByZXF1aXJlKFwiLi92aWV3XCIpO1xuY29uc3QgdHlwZXNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL3R5cGVzXCIpO1xuY29uc3QgYXBpQ2FyU2VydmljZV8xID0gcmVxdWlyZShcIi4vYXBpL2FwaUNhclNlcnZpY2VcIik7XG5jb25zdCBhcGlXaW5uZXJzU2VydmljZV8xID0gcmVxdWlyZShcIi4vYXBpL2FwaVdpbm5lcnNTZXJ2aWNlXCIpO1xuY29uc3Qgc3ZnQ2FyID0gYDxzdmcgdmVyc2lvbj1cIjEuMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgIHdpZHRoPVwiMTI4MC4wMDAwMDBwdFwiIGhlaWdodD1cIjgwNi4wMDAwMDBwdFwiIHZpZXdCb3g9XCIwIDAgMTI4MC4wMDAwMDAgODA2LjAwMDAwMFwiXG4gICAgcHJlc2VydmVBc3BlY3RSYXRpbz1cInhNaWRZTWlkIG1lZXRcIj5cbiAgIDxnIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgwLjAwMDAwMCw4MDYuMDAwMDAwKSBzY2FsZSgwLjEwMDAwMCwtMC4xMDAwMDApXCJcbiAgIGZpbGw9XCIwMDAwMDBcIiAgc3Ryb2tlPVwibm9uZVwiPlxuICAgPHBhdGggZD1cIk02ODQ1IDgwNTAgYy0zOCAtNSAtMTM1IC0xMyAtMjE1IC0yMCAtMzc2IC0zMCAtNzU0IC0xMDYgLTExMTUgLTIyNVxuICAgLTIzNyAtNzggLTM3NiAtMTM1IC02MTAgLTI1MCAtNTQwIC0yNjUgLTk2OCAtNTc3IC0xNDQxIC0xMDUwIC0yNTQgLTI1NCAtNDA3XG4gICAtNDI4IC02NzIgLTc2NSAtMzM5IC00MzEgLTU1MCAtNjE0IC04MDUgLTY5OCAtNTAgLTE3IC0xODAgLTQ5IC0yODcgLTcyIC0zMzdcbiAgIC03MyAtNTM3IC0xNDAgLTc2NSAtMjU4IC01NTAgLTI4NiAtODI4IC03NDggLTg5OSAtMTQ5NyAtNDMgLTQ1MyAtNDYgLTU4OVxuICAgLTE2IC03NjMgNTIgLTMwNCAxNDkgLTQ5NCAzNTQgLTY5NyAxMjIgLTEyMiAyMTkgLTE5MyAzNjQgLTI2NiBsOTUgLTQ5IDE4MCAwXG4gICAxODAgMCAtNyA1NSBjLTI5IDI1MCAtMjYgNDQ4IDEwIDY2MCAxMTMgNjczIDU0NyAxMjU4IDExNjAgMTU2NCA5MDggNDUzIDE5OThcbiAgIDIxOCAyNjQxIC01NzAgMzM3IC00MTMgNTE4IC05ODMgNDc0IC0xNDkzIC02IC03OCAtMTQgLTE1OSAtMTggLTE3OSBsLTYgLTM3XG4gICAxMjM2IDAgYzY4MCAwIDEyMzggMyAxMjQwIDcgMiA1IC0yIDU1IC05IDExMyAtNyA1OCAtMTMgMTYzIC0xNCAyMzMgLTIgOTc0XG4gICA2NjEgMTgzNiAxNjAyIDIwODEgMjA1IDU0IDMzNCA3MCA1NTMgNzAgMzUyIDAgNjI3IC02MiA5NDAgLTIxMyA1NTggLTI3MCA5NzNcbiAgIC03NjcgMTEzOCAtMTM2MSA1NCAtMTkyIDcwIC0zMTggNzEgLTUzNSAxIC0xMTAgLTIgLTIzMyAtNyAtMjczIGwtNyAtNzMgNDZcbiAgIDM4IGM2OSA1NyAxNzcgMTg1IDI1NSAzMDEgMTUyIDIyNyAyNDEgNDczIDI4NiA3OTIgMzAgMjE1IDIyIDQxNSAtMjggNjY0IC04MVxuICAgNDAyIC0yOTMgNzQzIC01OTggOTYzIC0yIDEgLTUgNDcgLTcgMTAwIC00IDE2OSAtNDggMzgxIC0xNDQgNjk4IC0xMjIgNDAxXG4gICAtMjQ2IDY1OSAtNDk3IDEwMjggLTIxNCAzMTYgLTQ5OCA2NjYgLTc2MyA5NDAgLTEwMiAxMDYgLTE0OSAxNDYgLTI1NiAyMTZcbiAgIC00MTUgMjc1IC0xMDQwIDUxMSAtMTcyNCA2NTAgLTM1OCA3MyAtNjkxIDExNyAtMTA4NSAxNDUgLTEyMSA5IC0yNzYgMjAgLTM0NVxuICAgMjYgLTE0MiAxMSAtMzgxIDExIC00ODUgMHogbTYwIC04MjQgYzIxMCAtNTkgMzg0IC0yMDMgNDc1IC0zOTEgNzIgLTE0OCA3M1xuICAgLTE1NyA3NyAtNTgwIDUgLTQxNCAtNyAtNzI3IC0zMiAtODUxIC0zMCAtMTQ2IC0xMDAgLTI1OSAtMTg5IC0zMDcgbC00MSAtMjJcbiAgIC0xNTQwIC0zIGMtMTE0NSAtMiAtMTU1NCAwIC0xNTk1IDkgLTEyMSAyNSAtMjIxIDk2IC0yNjEgMTgyIC0yNCA1MyAtMjUgMTcyXG4gICAtMyAyNDggNjEgMjA1IDMxMCA1MzYgNjkzIDkyMCAxMDggMTA3IDI0NiAyMzUgMzA2IDI4MyA0MTIgMzMwIDgwMyA0ODggMTMwNVxuICAgNTMwIDI1IDIgMjAzIDIgMzk1IDEgMjk0IC0xIDM2MCAtNCA0MTAgLTE5eiBtMjA2MCAtOTEgYzE1MiAtMzQgNDM1IC0xMjYgNTQzXG4gICAtMTc2IDM4OCAtMTc5IDc1OCAtNTY1IDk4MiAtMTAyNCAxNDYgLTMwMCAxOTQgLTUzMyAxMzkgLTY3OSAtMjggLTc2IC05OVxuICAgLTEzOSAtMTg2IC0xNjYgLTYzIC0xOSAtOTIgLTIwIC05OTEgLTIwIC05MjQgMCAtOTI2IDAgLTk3MCAyMSAtNTEgMjUgLTkzIDc5XG4gICAtMTE5IDE1MiAtMTcgNDkgLTE4IDEwNyAtMTggODc3IGwwIDgyNSAyMyA1NSBjMzkgOTUgNzggMTI4IDE4MCAxNTEgMTA5IDI1XG4gICAyNjEgMTkgNDE3IC0xNnpcIi8+XG4gICA8cGF0aCBkPVwiTTMxNDAgMzU2OSBjLTcxOCAtNjkgLTEzMzMgLTU4MyAtMTUzNiAtMTI4NSAtNTEgLTE3NCAtNjYgLTMxMCAtNjJcbiAgIC01MjkgNSAtMjI2IDI1IC0zNDQgODUgLTUyNCA5NSAtMjg1IDIzOCAtNTA4IDQ2NyAtNzI4IDI3OSAtMjY5IDYwMCAtNDIxXG4gICAxMDIwIC00ODIgMTc0IC0yNiAyMzggLTI2IDQxMiAwIDM1NSA1MiA2MDYgMTUyIDg2NiAzNDYgMzQzIDI1NSA1OTAgNjQyIDY3OFxuICAgMTA2MyA2MyAzMDUgNDQgNjMxIC01NSA5MjggLTI2NSA3OTIgLTEwMzggMTI5MiAtMTg3NSAxMjExeiBtMzU5IC05MzkgYzIwMVxuICAgLTQxIDM5OCAtMTY5IDUxNiAtMzM1IDI0MSAtMzM5IDIxMyAtNzg2IC02OSAtMTA4MiAtMTY2IC0xNzUgLTM0OCAtMjYwIC01ODBcbiAgIC0yNzEgLTIwMCAtOCAtMzYwIDM1IC01MTcgMTM5IC00NDQgMjk4IC01MTUgOTExIC0xNTAgMTMwMiAxOTkgMjEzIDUwNiAzMDhcbiAgIDgwMCAyNDd6XCIvPlxuICAgPHBhdGggZD1cIk05ODcxIDM1NjkgYy0yMTQgLTI0IC0zOTggLTc3IC01OTEgLTE3MCAtODA5IC0zOTAgLTEyMDEgLTEzMTQgLTkxOVxuICAgLTIxNjkgMTg5IC01NzUgNjg1IC0xMDMwIDEyNzQgLTExNzAgMTA4IC0yNiAzNDYgLTYwIDQxOSAtNjAgODEgMCAzMzAgMzcgNDQxXG4gICA2NSA3MDYgMTc5IDEyMzQgNzcyIDEzMzAgMTQ5MiAxMjggOTU4IC01MjggMTg0MCAtMTQ4NSAxOTk4IC0xMTkgMTkgLTM1OCAyN1xuICAgLTQ2OSAxNHogbTMxOSAtOTMwIGMzNTAgLTU2IDYzNSAtMzMwIDcwNSAtNjc4IDIzIC0xMTIgMTYgLTI5NCAtMTUgLTQwMSAtNjdcbiAgIC0yMzQgLTIzNSAtNDMxIC00NTUgLTUzNiAtMTQxIC02NyAtMTk2IC03OSAtMzcwIC03OSAtMTc1IDAgLTIzMSAxMyAtMzcxIDgwXG4gICAtMTc4IDg2IC0zMTMgMjIxIC0zOTkgMzk4IC02NyAxMzkgLTc5IDE5NyAtODAgMzY3IDAgMTUzIDEwIDIxMCA1OSAzMzIgMTA3XG4gICAyNjMgMzY1IDQ3MCA2NDggNTE3IDc1IDEyIDIwMiAxMyAyNzggMHpcIi8+XG4gICA8L2c+XG4gICA8L3N2Zz5cbiAgIGA7XG5jb25zdCBzdGFydFBhZ2UgPSAxO1xuY29uc3QgbGltaXQgPSB7XG4gICAga2V5OiAnX2xpbWl0JyxcbiAgICB2YWx1ZTogNyxcbn07XG5jbGFzcyBDYXJzIGV4dGVuZHMgdmlld18xLlZpZXcge1xuICAgIC8vIHByaXZhdGUgZGF0YUNhcnMhOiBDYXJbXTtcbiAgICBjb25zdHJ1Y3RvcihlbWl0dGVyKSB7XG4gICAgICAgIHN1cGVyKGVtaXR0ZXIpO1xuICAgICAgICB0aGlzLmVtaXR0ZXIgPSBlbWl0dGVyO1xuICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRQYWdlJykgPyBOdW1iZXIobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRQYWdlJykpIDogMTtcbiAgICAgICAgdGhpcy5nZXRDYXJzKHRoaXMuY3VycmVudFBhZ2UpO1xuICAgICAgICB0aGlzLm9uU3ViKCk7XG4gICAgICAgIHRoaXMuZ2V0Q2Fyc1F0eSgpO1xuICAgIH1cbiAgICBhc3luYyBnZXRDYXJzUXR5KCkge1xuICAgICAgICBjb25zdCB0b3RhbENhcnMgPSBhd2FpdCBhcGlDYXJTZXJ2aWNlXzEuQ2Fyc0FwaVNlcnZpY2UuZ2V0QWxsQ2FycygpO1xuICAgICAgICB0aGlzLnF0eUNhcnMgPSB0b3RhbENhcnMubGVuZ3RoO1xuICAgICAgICB0aGlzLmNhcnNOdW1iZXJzLnRleHRDb250ZW50ID0gU3RyaW5nKHRoaXMucXR5Q2Fycyk7XG4gICAgfVxuICAgIGFzeW5jIGdldENhcnMocGFnZUdhcmFnZSA9IHN0YXJ0UGFnZSkge1xuICAgICAgICB0aGlzLmRhdGFDYXJzID0gYXdhaXQgYXBpQ2FyU2VydmljZV8xLkNhcnNBcGlTZXJ2aWNlLmdldFBhZ2luYXRpb24ocGFnZUdhcmFnZSwgbGltaXQpO1xuICAgICAgICBpZiAodGhpcy5kYXRhQ2Fycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UgLT0gMTtcbiAgICAgICAgICAgIHRoaXMuZGF0YUNhcnMgPSBhd2FpdCBhcGlDYXJTZXJ2aWNlXzEuQ2Fyc0FwaVNlcnZpY2UuZ2V0UGFnaW5hdGlvbih0aGlzLmN1cnJlbnRQYWdlLCBsaW1pdCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYWdlTnVtYmVycy50ZXh0Q29udGVudCA9IFN0cmluZyh0aGlzLmN1cnJlbnRQYWdlKTtcbiAgICAgICAgdGhpcy5yZW5kZXJDYXIodGhpcy5kYXRhQ2Fycyk7XG4gICAgfVxuICAgIGFwcGVuZEVsZW1lbnQocGFyZW50KSB7XG4gICAgICAgIHRoaXMuY2FyTGlzdFdyYXBwZXIgPSBzdXBlci5yZW5kZXJFbGVtZW50KCdkaXYnLCAnY2Fycy1saXN0LXdyYXBwZXInKTtcbiAgICAgICAgdGhpcy5jYXJzV3JhcHBlciA9IHN1cGVyLnJlbmRlckVsZW1lbnQoJ2RpdicsICdjYXJzLXBhZ2luYXRpb24nKTtcbiAgICAgICAgdGhpcy5nYXJhZ2VTdWJ0aXRsZSA9IHN1cGVyLnJlbmRlckVsZW1lbnQoJ2gzJywgJ3RpdGxlJywgeyB0ZXh0Q29udGVudDogYEdhcmFnZSAjYCB9KTtcbiAgICAgICAgdGhpcy5jYXJzTnVtYmVycyA9IHN1cGVyLnJlbmRlckVsZW1lbnQoJ3NwYW4nLCAndGl0bGUnKTtcbiAgICAgICAgdGhpcy5wYWdlU3VidGl0bGUgPSBzdXBlci5yZW5kZXJFbGVtZW50KCdoNCcsICdzdWJ0aXRsZS1wYWdlJywgeyB0ZXh0Q29udGVudDogJ1BhZ2VzICMnIH0pO1xuICAgICAgICB0aGlzLnBhZ2VOdW1iZXJzID0gc3VwZXIucmVuZGVyRWxlbWVudCgnc3BhbicsICdzdWJ0aXRsZS1wYWdlJyk7XG4gICAgICAgIGNvbnN0IHBhZ2VDb250YWluZXIgPSBzdXBlci5yZW5kZXJFbGVtZW50KCdkaXYnLCAncGFnZS13cmFwcGVyJyk7XG4gICAgICAgIHRoaXMucHJldkJ0biA9IHN1cGVyLnJlbmRlckVsZW1lbnQoJ2J1dHRvbicsICdwcmV2LWJ0biBidG4nLCB7IHRleHRDb250ZW50OiAncHJldicgfSk7XG4gICAgICAgIHRoaXMubmV4dEJ0biA9IHN1cGVyLnJlbmRlckVsZW1lbnQoJ2J1dHRvbicsICduZXh0LWJ0biBidG4nLCB7IHRleHRDb250ZW50OiAnbmV4dCcgfSk7XG4gICAgICAgIHRoaXMuY2Fyc1dyYXBwZXIuYXBwZW5kKHRoaXMuZ2FyYWdlU3VidGl0bGUsIHBhZ2VDb250YWluZXIpO1xuICAgICAgICBwYWdlQ29udGFpbmVyLmFwcGVuZCh0aGlzLnBhZ2VTdWJ0aXRsZSwgdGhpcy5wcmV2QnRuLCB0aGlzLm5leHRCdG4pO1xuICAgICAgICB0aGlzLmdhcmFnZVN1YnRpdGxlLmFwcGVuZCh0aGlzLmNhcnNOdW1iZXJzKTtcbiAgICAgICAgdGhpcy5wYWdlU3VidGl0bGUuYXBwZW5kKHRoaXMucGFnZU51bWJlcnMpO1xuICAgICAgICAvLyB0aGlzLmNhckxpc3RXcmFwcGVyLmFwcGVuZCh0aGlzLmNhcnNXcmFwcGVyKTtcbiAgICAgICAgcGFyZW50LmFwcGVuZCh0aGlzLmNhcnNXcmFwcGVyKTtcbiAgICAgICAgcGFyZW50LmFwcGVuZCh0aGlzLmNhckxpc3RXcmFwcGVyKTtcbiAgICAgICAgdGhpcy5uZXh0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5uZXh0UGFnZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5wcmV2QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5wcmV2UGFnZS5iaW5kKHRoaXMpKTtcbiAgICB9XG4gICAgcmVuZGVyQ2FyKGNhcnMpIHtcbiAgICAgICAgY2Fycy5mb3JFYWNoKChjYXIpID0+IHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhY2VDb250YWluZXIgPSBzdXBlci5yZW5kZXJFbGVtZW50KCdkaXYnLCAncmFjZS1jb250YWluZXInLCB7IGlkOiBjYXIuaWQgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FyQ29udGFpbmVyID0gc3VwZXIucmVuZGVyRWxlbWVudCgnZGl2JywgJ2Nhci1jb250YWluZXInKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXJCb3hSb3cxID0gc3VwZXIucmVuZGVyRWxlbWVudCgnZGl2JywgJ3JvdzEnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXJCb3hSb3cyID0gc3VwZXIucmVuZGVyRWxlbWVudCgnZGl2JywgJ3JvdzInKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmdpbmVCdG4gPSBzdXBlci5yZW5kZXJFbGVtZW50KCdkaXYnLCAnZW5naW5lLWJ0bi1ib3gnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RDYXIgPSBzdXBlci5yZW5kZXJFbGVtZW50KCdidXR0b24nLCAnc2VsZWN0LWJ0biBidG4nLCB7IHRleHRDb250ZW50OiAnc2VsZWN0JyB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZW1vdmVDYXIgPSBzdXBlci5yZW5kZXJFbGVtZW50KCdidXR0b24nLCAncmVtb3ZlLWJ0biBidG4nLCB7IHRleHRDb250ZW50OiAncmVtb3ZlJyB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0Q2FyID0gc3VwZXIucmVuZGVyRWxlbWVudCgnYnV0dG9uJywgJ3N0YXJ0LWJ0biBlbmdpbmUtYnRuJywge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0Q29udGVudDogJ0EnLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RvcENhciA9IHN1cGVyLnJlbmRlckVsZW1lbnQoJ2J1dHRvbicsICdzdG9wLWJ0biBlbmdpbmUtYnRuJywgeyB0ZXh0Q29udGVudDogJ0InIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FyTmFtZSA9IHN1cGVyLnJlbmRlckVsZW1lbnQoJ2g1JywgJ2Nhci1uYW1lJywgeyB0ZXh0Q29udGVudDogY2FyLm5hbWUgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYXJJbWdCb3ggPSBzdXBlci5yZW5kZXJFbGVtZW50KCdkaXYnLCAnY2FyLWltZy1ib3gnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhckltZ0JveC5pbm5lckhUTUwgPSBzdmdDYXI7XG4gICAgICAgICAgICAgICAgdGhpcy5jYXJJbWdCb3guc3R5bGUuZmlsbCA9IGNhci5jb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLmZsYWdJbWcgPSBzdXBlci5yZW5kZXJFbGVtZW50KCdkaXYnLCAnZmxhZycpO1xuICAgICAgICAgICAgICAgIHJhY2VDb250YWluZXIuYXBwZW5kKGNhckNvbnRhaW5lciwgdGhpcy5mbGFnSW1nKTtcbiAgICAgICAgICAgICAgICBjYXJDb250YWluZXIuYXBwZW5kKGNhckJveFJvdzEsIGNhckJveFJvdzIpO1xuICAgICAgICAgICAgICAgIGNhckJveFJvdzEuYXBwZW5kKHNlbGVjdENhciwgcmVtb3ZlQ2FyLCB0aGlzLmNhck5hbWUpO1xuICAgICAgICAgICAgICAgIGNhckJveFJvdzIuYXBwZW5kKGVuZ2luZUJ0biwgdGhpcy5jYXJJbWdCb3gpO1xuICAgICAgICAgICAgICAgIGVuZ2luZUJ0bi5hcHBlbmQodGhpcy5zdGFydENhciwgdGhpcy5zdG9wQ2FyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhckxpc3RXcmFwcGVyLmFwcGVuZChyYWNlQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICBzZWxlY3RDYXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uU2VsZWN0Q2FyLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIHJlbW92ZUNhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25SZW1vdmVDYXIuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydENhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc3RhcnRPbmVFbmdpbi5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BDYXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnN0b3BPbmVFbmdpbi5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9uU2VsZWN0Q2FyKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5nZXRJZENhcihldmVudCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzZWxlY3RlZCBjYXInLCBpZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzZWxlY3RlZCBjYXInLCB0aGlzLmRhdGFDYXJzKTtcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXR0ZXIub25FbWl0KCdvblNlbGVjdGVkQ2FyJywgdGhpcy5kYXRhQ2Fycy5maW5kKChjYXIpID0+IGNhci5pZCA9PT0gaWQpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvblN1YigpIHtcbiAgICAgICAgdGhpcy5lbWl0dGVyLnN1YnNjcmliZSgnb25VcGRhdGVDYXInLCAoY2FyKSA9PiB0aGlzLm9uVXBkYXRlQ2FyKGNhcikpO1xuICAgICAgICB0aGlzLmVtaXR0ZXIuc3Vic2NyaWJlKCdvbkNyZWF0ZWRDYXInLCAoY2FyKSA9PiB0aGlzLm9uQ3JlYXRlZENhcihjYXIpKTtcbiAgICAgICAgdGhpcy5lbWl0dGVyLnN1YnNjcmliZSgnb25TdGFydFJhY2UnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UmFjZSgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3JhY2Ugc3RhcnRlZCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbWl0dGVyLnN1YnNjcmliZSgnb25TdG9wUmFjZScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RvcFJhY2UoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyYWNlIHN0YXJ0ZWQnKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIG9uUmVtb3ZlQ2FyKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5nZXRJZENhcihldmVudCk7XG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgYXdhaXQgYXBpQ2FyU2VydmljZV8xLkNhcnNBcGlTZXJ2aWNlLmRlbGV0ZUNhcihpZCk7XG4gICAgICAgICAgICB0aGlzLmdldENhcnNRdHkoKTtcbiAgICAgICAgICAgIHRoaXMuY2FyTGlzdFdyYXBwZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICB0aGlzLmdldENhcnModGhpcy5jdXJyZW50UGFnZSk7XG4gICAgICAgICAgICB0aGlzLmVtaXR0ZXIub25FbWl0KCdjbGVhcklucHV0cycpO1xuICAgICAgICAgICAgdGhpcy5lbWl0dGVyLm9uRW1pdCgnb25SZW1vdmUnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBvblVwZGF0ZUNhcihuZXdjYXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaENhciA9IGF3YWl0IGFwaUNhclNlcnZpY2VfMS5DYXJzQXBpU2VydmljZS5nZXRDYXIobmV3Y2FyLmlkKTtcbiAgICAgICAgICAgIGlmIChzZWFyY2hDYXIuaWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbWdDYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtuZXdjYXIuaWR9YCk/LmNoaWxkcmVuWzBdLmNoaWxkcmVuWzFdLmNoaWxkTm9kZXNbMV07XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZUNhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke25ld2Nhci5pZH1gKT8uY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uY2hpbGROb2Rlc1syXTtcbiAgICAgICAgICAgICAgICBpbWdDYXIuc3R5bGUuZmlsbCA9IG5ld2Nhci5jb2xvcjtcbiAgICAgICAgICAgICAgICBuYW1lQ2FyLnRleHRDb250ZW50ID0gbmV3Y2FyLm5hbWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jYXJzTnVtYmVycy50ZXh0Q29udGVudCA9IFN0cmluZyh0aGlzLnF0eUNhcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjYXIgaXMgbm90IGV4aXN0Jyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgb25DcmVhdGVkQ2FyKG5ld2Nhcikge1xuICAgICAgICBjb25zb2xlLmxvZygncmVuZGVyIG5ld2x5IGNhcicsIG5ld2Nhcik7XG4gICAgICAgIHRoaXMuZGF0YUNhcnMgPSBhd2FpdCBhcGlDYXJTZXJ2aWNlXzEuQ2Fyc0FwaVNlcnZpY2UuZ2V0UGFnaW5hdGlvbigwLCBsaW1pdCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRRdHlQYWdlID0gdGhpcy5jYXJMaXN0V3JhcHBlci5jaGlsZE5vZGVzLmxlbmd0aDtcbiAgICAgICAgaWYgKGN1cnJlbnRRdHlQYWdlIDwgbGltaXQudmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShuZXdjYXIpKVxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FyKFtuZXdjYXJdKTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5ld2NhcikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NzaWJsZVRvUmVuZGVyID0gbGltaXQudmFsdWUgLSBjdXJyZW50UXR5UGFnZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNhcihuZXdjYXIuc2xpY2UoMCwgcG9zc2libGVUb1JlbmRlcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jYXJzTnVtYmVycy50ZXh0Q29udGVudCA9IFN0cmluZyh0aGlzLnF0eUNhcnMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2V0Q2Fyc1F0eSgpO1xuICAgIH1cbiAgICBhc3luYyBuZXh0UGFnZSgpIHtcbiAgICAgICAgY29uc3QgbWF4UGFnZSA9IHRoaXMucXR5Q2FycyAvIGxpbWl0LnZhbHVlO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGFnZSA8IG1heFBhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dEJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5wcmV2QnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlICs9IDE7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3VycmVudFBhZ2UnLCBTdHJpbmcodGhpcy5jdXJyZW50UGFnZSkpO1xuICAgICAgICAgICAgdGhpcy5wYWdlTnVtYmVycy50ZXh0Q29udGVudCA9IFN0cmluZyh0aGlzLmN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIHRoaXMuY2FyTGlzdFdyYXBwZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICB0aGlzLmdldENhcnModGhpcy5jdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5uZXh0QnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgYXN5bmMgcHJldlBhZ2UoKSB7XG4gICAgICAgIGNvbnN0IG1pblBhZ2UgPSAxO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGFnZSA+IG1pblBhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMucHJldkJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5uZXh0QnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlIC09IDE7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3VycmVudFBhZ2UnLCBTdHJpbmcodGhpcy5jdXJyZW50UGFnZSkpO1xuICAgICAgICAgICAgdGhpcy5wYWdlTnVtYmVycy50ZXh0Q29udGVudCA9IFN0cmluZyh0aGlzLmN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIHRoaXMuY2FyTGlzdFdyYXBwZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICB0aGlzLmdldENhcnModGhpcy5jdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5wcmV2QnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgYXN5bmMgc3RhcnRPbmVFbmdpbihldmVudCwgaWRDYXIpIHtcbiAgICAgICAgbGV0IGludGVydmFsQW5pbTtcbiAgICAgICAgY29uc3QgaWQgPSBldmVudCA/IHRoaXMuZ2V0SWRDYXIoZXZlbnQpIDogaWRDYXI7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRDYXIgPSBhd2FpdCBhcGlDYXJTZXJ2aWNlXzEuQ2Fyc0FwaVNlcnZpY2UuZ2V0Q2FyKGlkKTtcbiAgICAgICAgY29uc3QgaW1nQ2FyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7aWR9YCk/LmNoaWxkcmVuWzBdLmNoaWxkcmVuWzFdLmNoaWxkTm9kZXNbMV07XG4gICAgICAgIHRoaXMuZW1pdHRlci5zdWJzY3JpYmUoJ29uU3RvcENhcicsICgpID0+IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxBbmltKSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjaGFuZ2VUb1N0YXJ0ID0gYXdhaXQgYXBpQ2FyU2VydmljZV8xLkNhcnNBcGlTZXJ2aWNlLm9uRW5naW5DYXIoaWQsIHR5cGVzXzEuRW5naW5lLnN0YXJ0ZWQpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFdpdGggPSB3aW5kb3cuc2NyZWVuLndpZHRoO1xuICAgICAgICAgICAgY29uc3QgZmxhZ0Rpc3QgPSB3aW5kb3cuc2NyZWVuLndpZHRoIC0gdGhpcy5mbGFnSW1nLm9mZnNldExlZnQgKyB0aGlzLmZsYWdJbWcub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICBsZXQgbGVmdERpc3QgPSB0aGlzLmNhckltZ0JveC5vZmZzZXRMZWZ0IC0gdGhpcy5jYXJJbWdCb3gub2Zmc2V0V2lkdGggKyA1O1xuICAgICAgICAgICAgY29uc3QgZnVsbERpcyA9IGN1cnJlbnRXaXRoIC0gbGVmdERpc3QgLSBmbGFnRGlzdDtcbiAgICAgICAgICAgIGNvbnN0IHBhcnREaXMgPSAoZnVsbERpcyAtIGxlZnREaXN0KSAvICgoKGNoYW5nZVRvU3RhcnQudmVsb2NpdHkgKiAzMCkgLyAxMDAwKSAqIDYwKTtcbiAgICAgICAgICAgIGludGVydmFsQW5pbSA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICBsZWZ0RGlzdCArPSBwYXJ0RGlzO1xuICAgICAgICAgICAgICAgIGlmIChsZWZ0RGlzdCA+PSBmdWxsRGlzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy53aW5uZXJUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndpbm5lclRpbWUgPSArKGZ1bGxEaXMgLyBjaGFuZ2VUb1N0YXJ0LnZlbG9jaXR5KS50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRXaW5uZXIoaWQsIHRoaXMud2lubmVyVGltZSwgY3VycmVudENhci5jb2xvciwgY3VycmVudENhci5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1dpbk1lc3NhZ2UoaWQsIGN1cnJlbnRDYXIubmFtZSwgdGhpcy53aW5uZXJUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsQW5pbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGltZ0Nhci5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke2xlZnREaXN0fXB4KWA7XG4gICAgICAgICAgICB9LCAxNik7XG4gICAgICAgICAgICBjb25zdCBydW5DYXIgPSBmZXRjaChgaHR0cDovLzEyNy4wLjAuMTozMDAwL2VuZ2luZT9pZD0ke2lkfSZzdGF0dXM9ZHJpdmVgLCB7IG1ldGhvZDogJ1BBVENIJyB9KTtcbiAgICAgICAgICAgIHJ1bkNhci50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpLmNhdGNoKChlcnJvcikgPT4gbmV3IEVycm9yKGVycm9yKSk7XG4gICAgICAgICAgICBjb25zdCBydW5TdGF0dXMgPSAoYXdhaXQgcnVuQ2FyKS5zdGF0dXM7XG4gICAgICAgICAgICBpZiAocnVuU3RhdHVzICE9PSAyMDApXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbEFuaW0pO1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJ1bkNhcjtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYPCfkqkgJHtlcnJvcn0g8J+SqWApO1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbEFuaW0pO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbmdpbmUgaXMgYnJva2VuJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgc3RvcE9uZUVuZ2luKGV2ZW50LCBpZENhcikge1xuICAgICAgICBjb25zdCBpZCA9IGV2ZW50ID8gdGhpcy5nZXRJZENhcihldmVudCkgOiBpZENhcjtcbiAgICAgICAgY29uc3QgY2hhbmdlVG9TdG9wID0gYXdhaXQgYXBpQ2FyU2VydmljZV8xLkNhcnNBcGlTZXJ2aWNlLm9uRW5naW5DYXIoaWQsIHR5cGVzXzEuRW5naW5lLnN0b3BwZWQpO1xuICAgICAgICBjb25zb2xlLmxvZyhjaGFuZ2VUb1N0b3ApO1xuICAgICAgICB0aGlzLmVtaXR0ZXIub25FbWl0KCdvblN0b3BDYXInKTtcbiAgICAgICAgY29uc3QgaW1nQ2FyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7aWR9YCk/LmNoaWxkcmVuWzBdLmNoaWxkcmVuWzFdLmNoaWxkTm9kZXNbMV07XG4gICAgICAgIGlmIChpbWdDYXIuc3R5bGUudHJhbnNmb3JtKVxuICAgICAgICAgICAgaW1nQ2FyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKDBweCknO1xuICAgIH1cbiAgICBnZXRJZENhcihldmVudCkge1xuICAgICAgICBjb25zdCBjdXJyID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBjb25zdCBjYXJDb250ID0gY3Vyci5jbG9zZXN0KCcucmFjZS1jb250YWluZXInKTtcbiAgICAgICAgY29uc3QgaWQgPSBOdW1iZXIoY2FyQ29udD8uaWQpO1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuICAgIGFzeW5jIHN0YXJ0UmFjZSgpIHtcbiAgICAgICAgY29uc3Qgd2lubmVycyA9IFtdO1xuICAgICAgICBjb25zdCBjdXJyZW50UGFnZUNhcnMgPSBhd2FpdCBhcGlDYXJTZXJ2aWNlXzEuQ2Fyc0FwaVNlcnZpY2UuZ2V0UGFnaW5hdGlvbih0aGlzLmN1cnJlbnRQYWdlLCBsaW1pdCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnRQYWdlQ2Fycyk7XG4gICAgICAgIGN1cnJlbnRQYWdlQ2Fycy5mb3JFYWNoKGFzeW5jIChjYXIpID0+IHtcbiAgICAgICAgICAgIC8vIHRoaXMuc3RhcnRPbmVFbmdpbihldmVudCwgY2FyLmlkKTtcbiAgICAgICAgICAgIGNvbnN0IHJhY2VDYXIgPSBhd2FpdCB0aGlzLnN0YXJ0T25lRW5naW4oZXZlbnQsIGNhci5pZCk7XG4gICAgICAgICAgICBpZiAocmFjZUNhci5zdGF0dXMgPT09IDIwMClcbiAgICAgICAgICAgICAgICB3aW5uZXJzLnB1c2gocmFjZUNhcik7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyh3aW5uZXJzKTtcbiAgICAgICAgdGhpcy53aW5uZXJUaW1lID0gMDtcbiAgICB9XG4gICAgYXN5bmMgc3RvcFJhY2UoKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYWdlQ2FycyA9IGF3YWl0IGFwaUNhclNlcnZpY2VfMS5DYXJzQXBpU2VydmljZS5nZXRQYWdpbmF0aW9uKHRoaXMuY3VycmVudFBhZ2UsIGxpbWl0KTtcbiAgICAgICAgY29uc29sZS5sb2coY3VycmVudFBhZ2VDYXJzKTtcbiAgICAgICAgY3VycmVudFBhZ2VDYXJzLmZvckVhY2goKGNhcikgPT4gdGhpcy5zdG9wT25lRW5naW4oZXZlbnQsIGNhci5pZCkpO1xuICAgIH1cbiAgICBhc3luYyBhZGRXaW5uZXIoaWQsIHRpbWUsIGNvbG9yQ2FyLCBuYW1lQ2FyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjaGVja1dpbm5lciA9IGF3YWl0IGFwaVdpbm5lcnNTZXJ2aWNlXzEuQXBpV2lubmVyc1NlcnZpY2UuZ2V0V2luKGlkKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjaGVja1dpbm5lcicsIGNoZWNrV2lubmVyLmlkKTtcbiAgICAgICAgICAgIGlmIChjaGVja1dpbm5lci5jYXJJZCA9PT0gaWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnd2lubmVyIHVwZGF0ZScsIGlkKTtcbiAgICAgICAgICAgICAgICBjaGVja1dpbm5lci53aW5zICs9IDE7XG4gICAgICAgICAgICAgICAgY2hlY2tXaW5uZXIudGltZSA9IGNoZWNrV2lubmVyLnRpbWUgPD0gdGltZSA/IGNoZWNrV2lubmVyLnRpbWUgOiB0aW1lO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVdpbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgd2luczogY2hlY2tXaW5uZXIud2lucyxcbiAgICAgICAgICAgICAgICAgICAgdGltZTogY2hlY2tXaW5uZXIudGltZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGF3YWl0IGFwaVdpbm5lcnNTZXJ2aWNlXzEuQXBpV2lubmVyc1NlcnZpY2UudXBkYXRlV2luKGlkLCB1cGRhdGVXaW4sIHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdpbm5lciA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2FySWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICB0aW1lLFxuICAgICAgICAgICAgICAgICAgICB3aW5zOiAxLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogY29sb3JDYXIsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWVDYXIsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBhd2FpdCBhcGlXaW5uZXJzU2VydmljZV8xLkFwaVdpbm5lcnNTZXJ2aWNlLmNyZWF0ZVdpbih3aW5uZXIsIHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFsbFdpbm5lcnMgPSBhd2FpdCBhcGlXaW5uZXJzU2VydmljZV8xLkFwaVdpbm5lcnNTZXJ2aWNlLmdldEFsbFdpbigpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2FsbFdpbm5lcnMnLCBhbGxXaW5uZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdXaW5uZXIgaXMgbm90IGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2hvd1dpbk1lc3NhZ2UoaWQsIG5hbWUsIHRpbWUpIHtcbiAgICAgICAgY29uc3QgcG9wVXBXcmFwcGVyID0gc3VwZXIucmVuZGVyRWxlbWVudCgnZGl2JywgJ3BvcHVwLXdyYXBwZXInKTtcbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IHN1cGVyLnJlbmRlckVsZW1lbnQoJ2RpdicsICdvdmVybGF5Jyk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VUZXh0ID0gc3VwZXIucmVuZGVyRWxlbWVudCgnZGl2JywgJ3dpbi1tZXNzYWdlJywge1xuICAgICAgICAgICAgdGV4dENvbnRlbnQ6IGBDYXIgaWQjJHtpZH0gJHtuYW1lfSBpcyB3aW4gd2l0aCB0aW1lICR7dGltZX1gLFxuICAgICAgICB9KTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmQob3ZlcmxheSk7XG4gICAgICAgIG92ZXJsYXkuYXBwZW5kKHBvcFVwV3JhcHBlcik7XG4gICAgICAgIHBvcFVwV3JhcHBlci5hcHBlbmQobWVzc2FnZVRleHQpO1xuICAgICAgICBjb25zdCBzaG93UG9wdXAgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm92ZXJsYXknKSkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQob3ZlcmxheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChzaG93UG9wdXApO1xuICAgICAgICB9LCAzMDAwKTtcbiAgICB9XG59XG5leHBvcnRzLkNhcnMgPSBDYXJzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkV2ZW50RW1pdHRlciA9IHZvaWQgMDtcbmNsYXNzIEV2ZW50RW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlck1hcCA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgc3Vic2NyaWJlKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBldmVudENhbGxiYWNrcyA9IHRoaXMuc3Vic2NyaWJlck1hcC5nZXQoZXZlbnQpIHx8IFtdO1xuICAgICAgICBpZiAoIXRoaXMuc3Vic2NyaWJlck1hcC5oYXMoZXZlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmliZXJNYXAuc2V0KGV2ZW50LCBbY2FsbGJhY2tdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnN1YnNjcmliZXJNYXAuc2V0KGV2ZW50LCBbLi4uZXZlbnRDYWxsYmFja3MsIGNhbGxiYWNrXSk7XG4gICAgfVxuICAgIHVuc3Vic2NyaWJlKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBldmVudENhbGxiYWNrcyA9IHRoaXMuc3Vic2NyaWJlck1hcC5nZXQoZXZlbnQpIHx8IFtdO1xuICAgICAgICBpZiAodGhpcy5zdWJzY3JpYmVyTWFwLmhhcyhldmVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlck1hcC5zZXQoZXZlbnQsIGV2ZW50Q2FsbGJhY2tzLmZpbHRlcigoZm4pID0+IGZuICE9PSBjYWxsYmFjaykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uRW1pdChldmVudCwgcGFyYW0pIHtcbiAgICAgICAgY29uc3Qgc3Vic2NyaWJlciA9IHRoaXMuc3Vic2NyaWJlck1hcC5nZXQoZXZlbnQpO1xuICAgICAgICBpZiAoc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5mb3JFYWNoKChmbikgPT4gZm4ocGFyYW0pKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkdhcmFnZSA9IHZvaWQgMDtcbi8vIGltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJy4vZW1pdHRlcic7XG5jb25zdCByb3V0ZV8xID0gcmVxdWlyZShcIi4vcm91dGVzL3JvdXRlXCIpO1xuLy8gaW1wb3J0IHsgQXBpU2VydmljZSB9IGZyb20gJy4vYXBpL2FwaVNlcnZpY2UnO1xuY29uc3QgYXBpQ2FyU2VydmljZV8xID0gcmVxdWlyZShcIi4vYXBpL2FwaUNhclNlcnZpY2VcIik7XG5jb25zdCBjYXJzQnJhbmRfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL2NhcnNCcmFuZFwiKTtcbmNvbnN0IHNldENvbG9yXzEgPSByZXF1aXJlKFwiLi91dGlscy9zZXRDb2xvclwiKTtcbmNsYXNzIEdhcmFnZSBleHRlbmRzIHJvdXRlXzEuUm91dGVFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy51cmwgPSAnZ2FyYWdlJztcbiAgICB9XG4gICAgLy8gY29uc3RydWN0b3IocHJvdGVjdGVkIGVtaXR0ZXI6IEV2ZW50RW1pdHRlcikge1xuICAgIC8vICAgc3VwZXIoZW1pdHRlcik7XG4gICAgLy8gfVxuICAgIGFzeW5jIGFwcGVuZEVsZW1lbnQocGFyZW50KSB7XG4gICAgICAgIHN1cGVyLnJlbmRlcihwYXJlbnQpO1xuICAgICAgICB0aGlzLmNyZWF0ZUJ0biA9IHN1cGVyLnJlbmRlckVsZW1lbnQoJ2J1dHRvbicsICdjcmVhdGUtYnRuIGJ0bicsIHsgdGV4dENvbnRlbnQ6ICdjcmVhdGUnIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZUJ0biA9IHN1cGVyLnJlbmRlckVsZW1lbnQoJ2J1dHRvbicsICd1cGRhdGUtYnRuIGJ0bicsIHsgdGV4dENvbnRlbnQ6ICd1cGRhdGUnIH0pO1xuICAgICAgICB0aGlzLmNyZWF0ZUlucHV0ID0gc3VwZXIucmVuZGVyRWxlbWVudCgnc2VsZWN0JywgJ2NyZWF0ZS1pbnB1dCBpbnB1dCcpO1xuICAgICAgICB0aGlzLmdlbmVyYXRlTW9kZWxzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlSW5wdXQgPSBzdXBlci5yZW5kZXJFbGVtZW50KCdpbnB1dCcsICd1cGRhdGUtaW5wdXQgaW5wdXQnKTtcbiAgICAgICAgdGhpcy5jcmVhdGVQaWNrZXIgPSBzdXBlci5yZW5kZXJFbGVtZW50KCdpbnB1dCcsICdjcmVhdGUtcGlja2VyIHBpY2tlcicsIHsgdHlwZTogJ2NvbG9yJyB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVQaWNrZXIgPSBzdXBlci5yZW5kZXJFbGVtZW50KCdpbnB1dCcsICd1b2RhdGUtcGlja2VyIHBpY2tlcicsIHsgdHlwZTogJ2NvbG9yJyB9KTtcbiAgICAgICAgdGhpcy5zdGFydEJ0biA9IHN1cGVyLnJlbmRlckVsZW1lbnQoJ2J1dHRvbicsICdzdGFydC1idG4gYnRuJywgeyB0ZXh0Q29udGVudDogJ3N0YXJ0JyB9KTtcbiAgICAgICAgdGhpcy5zdG9wQnRuID0gc3VwZXIucmVuZGVyRWxlbWVudCgnYnV0dG9uJywgJ3N0b3AtYnRuIGJ0bicsIHsgdGV4dENvbnRlbnQ6ICdzdG9wJyB9KTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZUJ0biA9IHN1cGVyLnJlbmRlckVsZW1lbnQoJ2J1dHRvbicsICd1cGRhdGUtYnRuIGJ0bicsIHsgdGV4dENvbnRlbnQ6ICdnZW5lcmF0ZSBjYXJzJyB9KTtcbiAgICAgICAgY29uc3QgY29udHJvbGxlcnNXcmFwcGVyID0gc3VwZXIucmVuZGVyRWxlbWVudCgnZGl2JywgJ2NvbnRyb2xsZXJzLXdyYXBwZXInKTtcbiAgICAgICAgY29uc3QgY3JlYXRlQ29udGFpbmVyID0gc3VwZXIucmVuZGVyRWxlbWVudCgnZGl2JywgJ2NyZWF0ZS1jb250YWluZXIgZ2FyYWdlLWlucHV0LWNvbnRhaW5lcicpO1xuICAgICAgICBjb25zdCB1cGRhdGVDb250YWluZXIgPSBzdXBlci5yZW5kZXJFbGVtZW50KCdkaXYnLCAndXBkYXRlLWNvbnRhaW5lciBnYXJhZ2UtaW5wdXQtY29udGFpbmVyJyk7XG4gICAgICAgIHRoaXMudXBkYXRlSW5wdXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnVwZGF0ZVBpY2tlci5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMudXBkYXRlQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgY29udHJvbGxlcnNDb250YWluZXIgPSBzdXBlci5yZW5kZXJFbGVtZW50KCdkaXYnLCAnY29udHJvbGxlci1jb250YWluZXIgZ2FyYWdlLWlucHV0LWNvbnRhaW5lcicpO1xuICAgICAgICB0aGlzLndyYXBwZXIuYXBwZW5kKGNvbnRyb2xsZXJzV3JhcHBlcik7XG4gICAgICAgIGNvbnRyb2xsZXJzV3JhcHBlci5hcHBlbmQoY3JlYXRlQ29udGFpbmVyLCB1cGRhdGVDb250YWluZXIsIGNvbnRyb2xsZXJzQ29udGFpbmVyKTtcbiAgICAgICAgY3JlYXRlQ29udGFpbmVyLmFwcGVuZCh0aGlzLmNyZWF0ZUlucHV0LCB0aGlzLmNyZWF0ZVBpY2tlciwgdGhpcy5jcmVhdGVCdG4pO1xuICAgICAgICB1cGRhdGVDb250YWluZXIuYXBwZW5kKHRoaXMudXBkYXRlSW5wdXQsIHRoaXMudXBkYXRlUGlja2VyLCB0aGlzLnVwZGF0ZUJ0bik7XG4gICAgICAgIGNvbnRyb2xsZXJzQ29udGFpbmVyLmFwcGVuZCh0aGlzLnN0YXJ0QnRuLCB0aGlzLnN0b3BCdG4sIHRoaXMuZ2VuZXJhdGVCdG4pO1xuICAgICAgICB0aGlzLm9uVXBkYXRlTmFtZUNhcigpO1xuICAgICAgICB0aGlzLnVwZGF0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZ2V0VXBkYXRlZENhci5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5jcmVhdGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ3JlYXRlQ2FyLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmdlbmVyYXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkdlbmVyYXRlQ2Fycy5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5zdGFydEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc3RhcnRSYWNlLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnN0b3BCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnN0b3BSYWNlLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmVtaXR0ZXIuc3Vic2NyaWJlKCdjbGVhcklucHV0cycsICgpID0+IHRoaXMuY2xlYXJJbnB1dHMoKSk7XG4gICAgfVxuICAgIG9uVXBkYXRlTmFtZUNhcigpIHtcbiAgICAgICAgdGhpcy5lbWl0dGVyLnN1YnNjcmliZSgnb25TZWxlY3RlZENhcicsIChjYXIpID0+IHRoaXMudXBkYXRlQ2FyKGNhcikpO1xuICAgIH1cbiAgICB1cGRhdGVDYXIoc29tZUNhcikge1xuICAgICAgICBpZiAoc29tZUNhcikge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VXBkYXRlQ2FyID0gc29tZUNhcjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzb21lJywgc29tZUNhcik7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUlucHV0LnZhbHVlID0gc29tZUNhci5uYW1lO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQaWNrZXIudmFsdWUgPSBzb21lQ2FyLmNvbG9yO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVJbnB1dC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQaWNrZXIuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZ2V0VXBkYXRlZENhcigpIHtcbiAgICAgICAgY29uc3QgeyBpZCB9ID0gdGhpcy5jdXJyZW50VXBkYXRlQ2FyO1xuICAgICAgICBjb25zdCBuZXdDYXIgPSB7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLnVwZGF0ZUlucHV0LnZhbHVlLFxuICAgICAgICAgICAgY29sb3I6IHRoaXMudXBkYXRlUGlja2VyLnZhbHVlLFxuICAgICAgICB9O1xuICAgICAgICBhd2FpdCBhcGlDYXJTZXJ2aWNlXzEuQ2Fyc0FwaVNlcnZpY2UudXBkYXRlQ2FyKGlkLCBuZXdDYXIsIHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRDYXIgPSBhd2FpdCBhcGlDYXJTZXJ2aWNlXzEuQ2Fyc0FwaVNlcnZpY2UuZ2V0Q2FyKGlkKTtcbiAgICAgICAgICAgIGlmICh1cGRhdGVkQ2FyLmlkKVxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdHRlci5vbkVtaXQoJ29uVXBkYXRlQ2FyJywgdXBkYXRlZENhcik7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUlucHV0LnZhbHVlID0gJyc7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBpY2tlci52YWx1ZSA9ICcjMDAwMDAwJztcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY2FyIGlzIG5vdCBleGlzdCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIG9uQ3JlYXRlQ2FyKCkge1xuICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5jcmVhdGVJbnB1dC52YWx1ZSA/IHRoaXMuY3JlYXRlSW5wdXQudmFsdWUgOiAoMCwgY2Fyc0JyYW5kXzEuY3JlYXRlQ2FyTmFtZSkoKTtcbiAgICAgICAgY29uc3QgY29sb3IgPSB0aGlzLmNyZWF0ZVBpY2tlci52YWx1ZTtcbiAgICAgICAgY29uc3QgbmV3Q2FyID0ge1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGNvbG9yLFxuICAgICAgICB9O1xuICAgICAgICBhd2FpdCBhcGlDYXJTZXJ2aWNlXzEuQ2Fyc0FwaVNlcnZpY2UuY3JlYXRlQ2FyKG5ld0NhciwgeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0pO1xuICAgICAgICBjb25zdCBjcmVhdGVkQ2FyID0gYXdhaXQgYXBpQ2FyU2VydmljZV8xLkNhcnNBcGlTZXJ2aWNlLmdldEFsbENhcnMoKTtcbiAgICAgICAgLy8gdGhpcy5jYXJzTnVtYmVycy50ZXh0Q29udGVudCA9IGBHYXJhZ2Uke2NyZWF0ZWRDYXIubGVuZ3RofWA7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjcmVhdGVkQ2FyJywgY3JlYXRlZENhcltjcmVhdGVkQ2FyLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgdGhpcy5lbWl0dGVyLm9uRW1pdCgnb25DcmVhdGVkQ2FyJywgY3JlYXRlZENhcltjcmVhdGVkQ2FyLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgdGhpcy5jcmVhdGVJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICB0aGlzLmNyZWF0ZVBpY2tlci52YWx1ZSA9ICcjMDAwMDAwJztcbiAgICB9XG4gICAgYXN5bmMgb25HZW5lcmF0ZUNhcnMoKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aEJlZm9yZSA9IChhd2FpdCBhcGlDYXJTZXJ2aWNlXzEuQ2Fyc0FwaVNlcnZpY2UuZ2V0QWxsQ2FycygpKS5sZW5ndGggLSAxO1xuICAgICAgICBjb25zdCBhcnIgPSBuZXcgQXJyYXkoMTAwKS5maWxsKCcwJykubWFwKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSAoMCwgY2Fyc0JyYW5kXzEuY3JlYXRlQ2FyTmFtZSkoKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gKDAsIHNldENvbG9yXzEuc2V0Q2FyQ29sb3IpKCk7XG4gICAgICAgICAgICBjb25zdCBuZXdDYXIgPSB7XG4gICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICBjb2xvcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhd2FpdCBhcGlDYXJTZXJ2aWNlXzEuQ2Fyc0FwaVNlcnZpY2UuY3JlYXRlQ2FyKG5ld0NhciwgeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG5ld0NhcjtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGFyciwgbGVuZ3RoQmVmb3JlKTtcbiAgICAgICAgY29uc3QgY3JlYXRlZENhciA9IGF3YWl0IGFwaUNhclNlcnZpY2VfMS5DYXJzQXBpU2VydmljZS5nZXRBbGxDYXJzKCk7XG4gICAgICAgIC8vIHRoaXMuY2Fyc051bWJlcnMudGV4dENvbnRlbnQgPSBgR2FyYWdlJHtjcmVhdGVkQ2FyLmxlbmd0aH1gO1xuICAgICAgICB0aGlzLmVtaXR0ZXIub25FbWl0KCdvbkNyZWF0ZWRDYXInLCBjcmVhdGVkQ2FyLnNsaWNlKGxlbmd0aEJlZm9yZSArIDEpKTtcbiAgICB9XG4gICAgY2xlYXJJbnB1dHMoKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlSW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgdGhpcy5jcmVhdGVQaWNrZXIudmFsdWUgPSAnIzAwMDAwMCc7XG4gICAgICAgIHRoaXMudXBkYXRlSW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgdGhpcy51cGRhdGVQaWNrZXIudmFsdWUgPSAnIzAwMDAwMCc7XG4gICAgfVxuICAgIGdlbmVyYXRlTW9kZWxzKCkge1xuICAgICAgICBjb25zdCBjYXJOYW1lcyA9ICgwLCBjYXJzQnJhbmRfMS5zZWxlY3RDYXJOYW1lKSgpO1xuICAgICAgICBjYXJOYW1lcy51bnNoaWZ0KCcnKTtcbiAgICAgICAgY2FyTmFtZXMuZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgICAgIHZhbHVlLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBuYW1lKTtcbiAgICAgICAgICAgIHZhbHVlLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlSW5wdXQuYXBwZW5kKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXJ0UmFjZShldmVudCkge1xuICAgICAgICBjb25zb2xlLmxvZyhldmVudCk7XG4gICAgICAgIHRoaXMuZW1pdHRlci5vbkVtaXQoJ29uU3RhcnRSYWNlJyk7XG4gICAgfVxuICAgIHN0b3BSYWNlKGV2ZW50KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGV2ZW50KTtcbiAgICAgICAgdGhpcy5lbWl0dGVyLm9uRW1pdCgnb25TdG9wUmFjZScpO1xuICAgIH1cbn1cbmV4cG9ydHMuR2FyYWdlID0gR2FyYWdlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkhlYWRlciA9IHZvaWQgMDtcbmNvbnN0IHZpZXdfMSA9IHJlcXVpcmUoXCIuL3ZpZXdcIik7XG5jbGFzcyBIZWFkZXIgZXh0ZW5kcyB2aWV3XzEuVmlldyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubmF2RWxlbWVudHMgPSBbXTtcbiAgICAgICAgLy8gcHJpdmF0ZSBuYXZCdG5HYXJhZ2UhOiBIVE1MRWxlbWVudDtcbiAgICAgICAgLy8gcHJpdmF0ZSBuYXZCdG5XaW5uZXJzITogSFRNTEVsZW1lbnQ7XG4gICAgICAgIHRoaXMucm91dGVzID0gW1xuICAgICAgICAgICAgeyB0aXRsZTogJ2dhcmFnZScsIHVybDogJ2dhcmFnZScgfSxcbiAgICAgICAgICAgIHsgdGl0bGU6ICd3aW5uZXJzJywgdXJsOiAnd2lubmVycycgfSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgYXBwZW5kRWxlbWVudChwYXJlbnQpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gc3VwZXIucmVuZGVyRWxlbWVudCgnaGVhZGVyJywgJ2hlYWRlcicpO1xuICAgICAgICBjb25zdCBoZWFkaW5nID0gc3VwZXIucmVuZGVyRWxlbWVudCgnaDEnLCAnaGVhZGluZycsIHsgdGV4dENvbnRlbnQ6ICdhc3luYy1SYWNlJyB9KTtcbiAgICAgICAgY29uc3QgaGVhZGVyQ29udGVudCA9IHN1cGVyLnJlbmRlckVsZW1lbnQoJ2RpdicsICdoZWFkZXItY29udGVudCcpO1xuICAgICAgICBjb25zdCBoZWFkZXJOYXYgPSBzdXBlci5yZW5kZXJFbGVtZW50KCduYXYnLCAnbmF2Jyk7XG4gICAgICAgIHRoaXMuc3VidGl0bGUgPSBzdXBlci5yZW5kZXJFbGVtZW50KCdoMicsICdzdWJ0aXRsZScsIHsgdGV4dENvbnRlbnQ6ICdhc3luYy1SYWNlJyB9KTtcbiAgICAgICAgY29uc3QgdGV4Qm94ID0gc3VwZXIucmVuZGVyRWxlbWVudCgnZGl2JywgJ2hlYWRlcl9fdGV4dC13cmFwcHRlcicpO1xuICAgICAgICAvLyBjb25zdCB5ZWFyID0gc3VwZXIucmVuZGVyRWxlbWVudCgnc3BhbicsICdoZWFkZXJfX3llYXInLCB7XG4gICAgICAgIC8vICAgdGV4dENvbnRlbnQ6IGAke25ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKX1gLFxuICAgICAgICAvLyB9KTtcbiAgICAgICAgY29uc3QgaW1nU2Nob29sID0gc3VwZXIucmVuZGVyRWxlbWVudCgnYScsICdoZWFkZXJfX2xpbmstc2Nob2xsJywge1xuICAgICAgICAgICAgaHJlZjogJ2h0dHBzOi8vcnMuc2Nob29sL2pzLycsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBpbWdHaXRodWIgPSBzdXBlci5yZW5kZXJFbGVtZW50KCdhJywgJ2hlYWRlcl9fbGluay1naXRodWInLCB7XG4gICAgICAgICAgICBocmVmOiAnaHR0cHM6Ly9naXRodWIuY29tL01hbGVyeVZhbGVyeScsXG4gICAgICAgIH0pO1xuICAgICAgICBwYXJlbnQuYXBwZW5kKGhlYWRlcik7XG4gICAgICAgIGhlYWRlci5hcHBlbmQoaGVhZGluZywgdGV4Qm94LCBoZWFkZXJDb250ZW50KTtcbiAgICAgICAgdGV4Qm94LmFwcGVuZChpbWdHaXRodWIsIGltZ1NjaG9vbCk7XG4gICAgICAgIGhlYWRlckNvbnRlbnQuYXBwZW5kKHRoaXMuc3VidGl0bGUsIGhlYWRlck5hdik7XG4gICAgICAgIHRoaXMucm91dGVzLmZvckVhY2goKHJvdXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuYXZMaW5rID0gc3VwZXIucmVuZGVyRWxlbWVudCgnYScsIGAke3JvdXRlLnRpdGxlfS1saW5rIG5hdi1saW5rYCwgeyB0ZXh0Q29udGVudDogcm91dGUudGl0bGUgfSk7XG4gICAgICAgICAgICBuYXZMaW5rLnNldEF0dHJpYnV0ZSgndXJsJywgcm91dGUudXJsKTtcbiAgICAgICAgICAgIHRoaXMubmF2RWxlbWVudHMucHVzaChuYXZMaW5rKTtcbiAgICAgICAgICAgIGhlYWRlck5hdi5hcHBlbmQobmF2TGluayk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uQ2hhbmdlUm91dGUodGhpcy5yb3V0ZXNbMF0pO1xuICAgICAgICBoZWFkZXJOYXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldExpbmsgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICBjb25zdCB1cmwgPSB0YXJnZXRMaW5rLmdldEF0dHJpYnV0ZSgndXJsJyk7XG4gICAgICAgICAgICBjb25zdCByb3V0ZSA9IHRoaXMucm91dGVzLmZpbmQoKGxpbmspID0+IGxpbmsudXJsID09PSB1cmwpO1xuICAgICAgICAgICAgaWYgKHJvdXRlKVxuICAgICAgICAgICAgICAgIHRoaXMub25DaGFuZ2VSb3V0ZShyb3V0ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbkNoYW5nZVJvdXRlKHJvdXRlKSB7XG4gICAgICAgIHRoaXMuc3VidGl0bGUuaW5uZXJIVE1MID0gcm91dGUudGl0bGU7XG4gICAgICAgIC8vIGNvbnN0IGFjdGl2ZVBhZ2UgPSB0aGlzLm5hdkVsZW1lbnRzLmZpbmQoKGVsZW0pID0+IGVsZW0uZ2V0QXR0cmlidXRlKCd1cmwnKSA9PT0gcm91dGUudXJsKTtcbiAgICAgICAgLy8gY29uc3QgaGlkZGVuUGFnZSA9IHRoaXMubmF2RWxlbWVudHMuZmlsdGVyKChlbGVtKSA9PiBlbGVtLmdldEF0dHJpYnV0ZSgndXJsJykgIT09IHJvdXRlLnVybCk7XG4gICAgICAgIC8vIGFjdGl2ZVBhZ2U/LmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcbiAgICAgICAgLy8gaGlkZGVuUGFnZS5mb3JFYWNoKChlbGVtZW50KSA9PiBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpKTtcbiAgICAgICAgdGhpcy5lbWl0dGVyLm9uRW1pdCgncm91dGVDaGFuZ2VkJywgcm91dGUpO1xuICAgIH1cbn1cbmV4cG9ydHMuSGVhZGVyID0gSGVhZGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJvdXRlRWxlbWVudCA9IHZvaWQgMDtcbmNvbnN0IHZpZXdfMSA9IHJlcXVpcmUoXCIuLi92aWV3XCIpO1xuY2xhc3MgUm91dGVFbGVtZW50IGV4dGVuZHMgdmlld18xLlZpZXcge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmlzSGlkZGVuID0gdHJ1ZTtcbiAgICB9XG4gICAgcmVuZGVyKHBhcmVudCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy53cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpO1xuICAgICAgICB0aGlzLndyYXBwZXIuY2xhc3NOYW1lID0gYCR7dGhpcy51cmx9LXdyYXBwZXJgO1xuICAgICAgICB0aGlzLndyYXBwZXIuc2V0QXR0cmlidXRlKCd1cmwnLCB0aGlzLnVybCk7XG4gICAgfVxuICAgIHNob3coKSB7XG4gICAgICAgIGlmICh0aGlzLmlzSGlkZGVuKSB7XG4gICAgICAgICAgICB0aGlzLmlzSGlkZGVuID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLndyYXBwZXIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3Nob3cnLCAncGFycmVudDonLCB0aGlzLnBhcmVudCwgJ2NoaWxkOicsIHRoaXMud3JhcHBlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGlkZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzSGlkZGVuKSB7XG4gICAgICAgICAgICB0aGlzLmlzSGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMud3JhcHBlcik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnaGlkZScsICdwYXJyZW50OicsIHRoaXMucGFyZW50LCAnY2hpbGQ6JywgdGhpcy53cmFwcGVyKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuUm91dGVFbGVtZW50ID0gUm91dGVFbGVtZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNlbGVjdENhck5hbWUgPSBleHBvcnRzLmNyZWF0ZUNhck5hbWUgPSBleHBvcnRzLm1vZGVscyA9IGV4cG9ydHMuYnJhbmQgPSB2b2lkIDA7XG5leHBvcnRzLmJyYW5kID0gW1xuICAgICdBdWRpJyxcbiAgICAnQmV0YSBKdWxpZXRhJyxcbiAgICAnQk1XJyxcbiAgICAnQ2l0cm9lbicsXG4gICAgJ0luZmluaXRpJyxcbiAgICAnSmVlcCcsXG4gICAgJ0tpYScsXG4gICAgJ0xleHVzJyxcbiAgICAnTmlzc2FuJyxcbiAgICAnT3BlbCcsXG4gICAgJ1ZvbHZvJyxcbl07XG5leHBvcnRzLm1vZGVscyA9IFtcbiAgICAnQTQnLFxuICAgICdYMicsXG4gICAgJ0NFRUQnLFxuICAgICdDRVJBVE8nLFxuICAgICdSSU8nLFxuICAgICdHRU5FU0lTJyxcbiAgICAnR0VUWicsXG4gICAgJ0dSQU5ERVVSJyxcbiAgICAnTUFUUklYJyxcbiAgICAnWENFTlQnLFxuICAgICdBbGZhIFJvbWVvJyxcbl07XG5jb25zdCBjcmVhdGVDYXJOYW1lID0gKCkgPT4ge1xuICAgIGNvbnN0IHJhbmRvbU1vZGVsID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZXhwb3J0cy5tb2RlbHMubGVuZ3RoKTtcbiAgICBjb25zdCByYW5kb21CcmFuZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGV4cG9ydHMuYnJhbmQubGVuZ3RoKTtcbiAgICByZXR1cm4gYCR7ZXhwb3J0cy5icmFuZFtyYW5kb21CcmFuZF19ICR7ZXhwb3J0cy5tb2RlbHNbcmFuZG9tTW9kZWxdfSBgO1xufTtcbmV4cG9ydHMuY3JlYXRlQ2FyTmFtZSA9IGNyZWF0ZUNhck5hbWU7XG5jb25zdCBzZWxlY3RDYXJOYW1lID0gKCkgPT4gQXJyYXkoNilcbiAgICAuZmlsbCgnJylcbiAgICAubWFwKCgpID0+IGAke2V4cG9ydHMuYnJhbmRbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZXhwb3J0cy5icmFuZC5sZW5ndGgpXX0gJHtleHBvcnRzLm1vZGVsc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBleHBvcnRzLm1vZGVscy5sZW5ndGgpXX1gKTtcbmV4cG9ydHMuc2VsZWN0Q2FyTmFtZSA9IHNlbGVjdENhck5hbWU7XG5jb25zb2xlLmxvZygpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNldENhckNvbG9yID0gdm9pZCAwO1xuY29uc3Qgc2V0Q29sb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgY29sb3IgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNTUpLnRvU3RyaW5nKDE2KTtcbiAgICByZXR1cm4gY29sb3IubGVuZ3RoID09PSAyID8gY29sb3IgOiBjb2xvci5wYWRTdGFydCgyLCAnMCcpO1xufTtcbmNvbnN0IHNldENhckNvbG9yID0gKCkgPT4gYCMke3NldENvbG9yKCl9JHtzZXRDb2xvcigpfSR7c2V0Q29sb3IoKX1gO1xuZXhwb3J0cy5zZXRDYXJDb2xvciA9IHNldENhckNvbG9yO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNvcnRPcmRlcldpbm5lciA9IGV4cG9ydHMuU29ydFdpbm5lciA9IGV4cG9ydHMuRW5naW5lID0gZXhwb3J0cy5QYXRoID0gdm9pZCAwO1xudmFyIFBhdGg7XG4oZnVuY3Rpb24gKFBhdGgpIHtcbiAgICBQYXRoW1wiZ2FyYWdlXCJdID0gXCJnYXJhZ2VcIjtcbiAgICBQYXRoW1wiZW5naW5lXCJdID0gXCJlbmdpbmVcIjtcbiAgICBQYXRoW1wid2lubmVyc1wiXSA9IFwid2lubmVyc1wiO1xufSkoUGF0aCB8fCAoZXhwb3J0cy5QYXRoID0gUGF0aCA9IHt9KSk7XG52YXIgRW5naW5lO1xuKGZ1bmN0aW9uIChFbmdpbmUpIHtcbiAgICBFbmdpbmVbXCJzdGFydGVkXCJdID0gXCJzdGFydGVkXCI7XG4gICAgRW5naW5lW1wic3RvcHBlZFwiXSA9IFwic3RvcHBlZFwiO1xuICAgIEVuZ2luZVtcImRyaXZlXCJdID0gXCJkcml2ZVwiO1xufSkoRW5naW5lIHx8IChleHBvcnRzLkVuZ2luZSA9IEVuZ2luZSA9IHt9KSk7XG52YXIgU29ydFdpbm5lcjtcbihmdW5jdGlvbiAoU29ydFdpbm5lcikge1xuICAgIFNvcnRXaW5uZXJbXCJpZFwiXSA9IFwiaWRcIjtcbiAgICBTb3J0V2lubmVyW1wid2luc1wiXSA9IFwid2luc1wiO1xuICAgIFNvcnRXaW5uZXJbXCJ0aW1lXCJdID0gXCJ0aW1lXCI7XG59KShTb3J0V2lubmVyIHx8IChleHBvcnRzLlNvcnRXaW5uZXIgPSBTb3J0V2lubmVyID0ge30pKTtcbnZhciBTb3J0T3JkZXJXaW5uZXI7XG4oZnVuY3Rpb24gKFNvcnRPcmRlcldpbm5lcikge1xuICAgIFNvcnRPcmRlcldpbm5lcltcIkFTQ1wiXSA9IFwiQVNDXCI7XG4gICAgU29ydE9yZGVyV2lubmVyW1wiREVTQ1wiXSA9IFwiREVTQ1wiO1xufSkoU29ydE9yZGVyV2lubmVyIHx8IChleHBvcnRzLlNvcnRPcmRlcldpbm5lciA9IFNvcnRPcmRlcldpbm5lciA9IHt9KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVmlldyA9IHZvaWQgMDtcbmNsYXNzIFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKGVtaXR0ZXIpIHtcbiAgICAgICAgdGhpcy5lbWl0dGVyID0gZW1pdHRlcjtcbiAgICB9XG4gICAgcmVuZGVyRWxlbWVudCh0YWcsIGNsYXNzTmFtZSwgYXR0cmlidXRlKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgICAgIGlmIChjbGFzc05hbWUpXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZSlcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oZWxlbWVudCwgYXR0cmlidXRlKTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxufVxuZXhwb3J0cy5WaWV3ID0gVmlldztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5XaW5uZXJzID0gdm9pZCAwO1xuY29uc3Qgcm91dGVfMSA9IHJlcXVpcmUoXCIuL3JvdXRlcy9yb3V0ZVwiKTtcbmNvbnN0IGFwaVdpbm5lcnNTZXJ2aWNlXzEgPSByZXF1aXJlKFwiLi9hcGkvYXBpV2lubmVyc1NlcnZpY2VcIik7XG5jb25zdCBzdmdDYXIgPSBgPHN2ZyB2ZXJzaW9uPVwiMS4wXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgd2lkdGg9XCIxMjgwLjAwMDAwMHB0XCIgaGVpZ2h0PVwiODA2LjAwMDAwMHB0XCIgdmlld0JveD1cIjAgMCAxMjgwLjAwMDAwMCA4MDYuMDAwMDAwXCJcbiAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaWQgbWVldFwiPlxuICAgPGcgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDAuMDAwMDAwLDgwNi4wMDAwMDApIHNjYWxlKDAuMTAwMDAwLC0wLjEwMDAwMClcIlxuICAgZmlsbD1cIjAwMDAwMFwiICBzdHJva2U9XCJub25lXCI+XG4gICA8cGF0aCBkPVwiTTY4NDUgODA1MCBjLTM4IC01IC0xMzUgLTEzIC0yMTUgLTIwIC0zNzYgLTMwIC03NTQgLTEwNiAtMTExNSAtMjI1XG4gICAtMjM3IC03OCAtMzc2IC0xMzUgLTYxMCAtMjUwIC01NDAgLTI2NSAtOTY4IC01NzcgLTE0NDEgLTEwNTAgLTI1NCAtMjU0IC00MDdcbiAgIC00MjggLTY3MiAtNzY1IC0zMzkgLTQzMSAtNTUwIC02MTQgLTgwNSAtNjk4IC01MCAtMTcgLTE4MCAtNDkgLTI4NyAtNzIgLTMzN1xuICAgLTczIC01MzcgLTE0MCAtNzY1IC0yNTggLTU1MCAtMjg2IC04MjggLTc0OCAtODk5IC0xNDk3IC00MyAtNDUzIC00NiAtNTg5XG4gICAtMTYgLTc2MyA1MiAtMzA0IDE0OSAtNDk0IDM1NCAtNjk3IDEyMiAtMTIyIDIxOSAtMTkzIDM2NCAtMjY2IGw5NSAtNDkgMTgwIDBcbiAgIDE4MCAwIC03IDU1IGMtMjkgMjUwIC0yNiA0NDggMTAgNjYwIDExMyA2NzMgNTQ3IDEyNTggMTE2MCAxNTY0IDkwOCA0NTMgMTk5OFxuICAgMjE4IDI2NDEgLTU3MCAzMzcgLTQxMyA1MTggLTk4MyA0NzQgLTE0OTMgLTYgLTc4IC0xNCAtMTU5IC0xOCAtMTc5IGwtNiAtMzdcbiAgIDEyMzYgMCBjNjgwIDAgMTIzOCAzIDEyNDAgNyAyIDUgLTIgNTUgLTkgMTEzIC03IDU4IC0xMyAxNjMgLTE0IDIzMyAtMiA5NzRcbiAgIDY2MSAxODM2IDE2MDIgMjA4MSAyMDUgNTQgMzM0IDcwIDU1MyA3MCAzNTIgMCA2MjcgLTYyIDk0MCAtMjEzIDU1OCAtMjcwIDk3M1xuICAgLTc2NyAxMTM4IC0xMzYxIDU0IC0xOTIgNzAgLTMxOCA3MSAtNTM1IDEgLTExMCAtMiAtMjMzIC03IC0yNzMgbC03IC03MyA0NlxuICAgMzggYzY5IDU3IDE3NyAxODUgMjU1IDMwMSAxNTIgMjI3IDI0MSA0NzMgMjg2IDc5MiAzMCAyMTUgMjIgNDE1IC0yOCA2NjQgLTgxXG4gICA0MDIgLTI5MyA3NDMgLTU5OCA5NjMgLTIgMSAtNSA0NyAtNyAxMDAgLTQgMTY5IC00OCAzODEgLTE0NCA2OTggLTEyMiA0MDFcbiAgIC0yNDYgNjU5IC00OTcgMTAyOCAtMjE0IDMxNiAtNDk4IDY2NiAtNzYzIDk0MCAtMTAyIDEwNiAtMTQ5IDE0NiAtMjU2IDIxNlxuICAgLTQxNSAyNzUgLTEwNDAgNTExIC0xNzI0IDY1MCAtMzU4IDczIC02OTEgMTE3IC0xMDg1IDE0NSAtMTIxIDkgLTI3NiAyMCAtMzQ1XG4gICAyNiAtMTQyIDExIC0zODEgMTEgLTQ4NSAweiBtNjAgLTgyNCBjMjEwIC01OSAzODQgLTIwMyA0NzUgLTM5MSA3MiAtMTQ4IDczXG4gICAtMTU3IDc3IC01ODAgNSAtNDE0IC03IC03MjcgLTMyIC04NTEgLTMwIC0xNDYgLTEwMCAtMjU5IC0xODkgLTMwNyBsLTQxIC0yMlxuICAgLTE1NDAgLTMgYy0xMTQ1IC0yIC0xNTU0IDAgLTE1OTUgOSAtMTIxIDI1IC0yMjEgOTYgLTI2MSAxODIgLTI0IDUzIC0yNSAxNzJcbiAgIC0zIDI0OCA2MSAyMDUgMzEwIDUzNiA2OTMgOTIwIDEwOCAxMDcgMjQ2IDIzNSAzMDYgMjgzIDQxMiAzMzAgODAzIDQ4OCAxMzA1XG4gICA1MzAgMjUgMiAyMDMgMiAzOTUgMSAyOTQgLTEgMzYwIC00IDQxMCAtMTl6IG0yMDYwIC05MSBjMTUyIC0zNCA0MzUgLTEyNiA1NDNcbiAgIC0xNzYgMzg4IC0xNzkgNzU4IC01NjUgOTgyIC0xMDI0IDE0NiAtMzAwIDE5NCAtNTMzIDEzOSAtNjc5IC0yOCAtNzYgLTk5XG4gICAtMTM5IC0xODYgLTE2NiAtNjMgLTE5IC05MiAtMjAgLTk5MSAtMjAgLTkyNCAwIC05MjYgMCAtOTcwIDIxIC01MSAyNSAtOTMgNzlcbiAgIC0xMTkgMTUyIC0xNyA0OSAtMTggMTA3IC0xOCA4NzcgbDAgODI1IDIzIDU1IGMzOSA5NSA3OCAxMjggMTgwIDE1MSAxMDkgMjVcbiAgIDI2MSAxOSA0MTcgLTE2elwiLz5cbiAgIDxwYXRoIGQ9XCJNMzE0MCAzNTY5IGMtNzE4IC02OSAtMTMzMyAtNTgzIC0xNTM2IC0xMjg1IC01MSAtMTc0IC02NiAtMzEwIC02MlxuICAgLTUyOSA1IC0yMjYgMjUgLTM0NCA4NSAtNTI0IDk1IC0yODUgMjM4IC01MDggNDY3IC03MjggMjc5IC0yNjkgNjAwIC00MjFcbiAgIDEwMjAgLTQ4MiAxNzQgLTI2IDIzOCAtMjYgNDEyIDAgMzU1IDUyIDYwNiAxNTIgODY2IDM0NiAzNDMgMjU1IDU5MCA2NDIgNjc4XG4gICAxMDYzIDYzIDMwNSA0NCA2MzEgLTU1IDkyOCAtMjY1IDc5MiAtMTAzOCAxMjkyIC0xODc1IDEyMTF6IG0zNTkgLTkzOSBjMjAxXG4gICAtNDEgMzk4IC0xNjkgNTE2IC0zMzUgMjQxIC0zMzkgMjEzIC03ODYgLTY5IC0xMDgyIC0xNjYgLTE3NSAtMzQ4IC0yNjAgLTU4MFxuICAgLTI3MSAtMjAwIC04IC0zNjAgMzUgLTUxNyAxMzkgLTQ0NCAyOTggLTUxNSA5MTEgLTE1MCAxMzAyIDE5OSAyMTMgNTA2IDMwOFxuICAgODAwIDI0N3pcIi8+XG4gICA8cGF0aCBkPVwiTTk4NzEgMzU2OSBjLTIxNCAtMjQgLTM5OCAtNzcgLTU5MSAtMTcwIC04MDkgLTM5MCAtMTIwMSAtMTMxNCAtOTE5XG4gICAtMjE2OSAxODkgLTU3NSA2ODUgLTEwMzAgMTI3NCAtMTE3MCAxMDggLTI2IDM0NiAtNjAgNDE5IC02MCA4MSAwIDMzMCAzNyA0NDFcbiAgIDY1IDcwNiAxNzkgMTIzNCA3NzIgMTMzMCAxNDkyIDEyOCA5NTggLTUyOCAxODQwIC0xNDg1IDE5OTggLTExOSAxOSAtMzU4IDI3XG4gICAtNDY5IDE0eiBtMzE5IC05MzAgYzM1MCAtNTYgNjM1IC0zMzAgNzA1IC02NzggMjMgLTExMiAxNiAtMjk0IC0xNSAtNDAxIC02N1xuICAgLTIzNCAtMjM1IC00MzEgLTQ1NSAtNTM2IC0xNDEgLTY3IC0xOTYgLTc5IC0zNzAgLTc5IC0xNzUgMCAtMjMxIDEzIC0zNzEgODBcbiAgIC0xNzggODYgLTMxMyAyMjEgLTM5OSAzOTggLTY3IDEzOSAtNzkgMTk3IC04MCAzNjcgMCAxNTMgMTAgMjEwIDU5IDMzMiAxMDdcbiAgIDI2MyAzNjUgNDcwIDY0OCA1MTcgNzUgMTIgMjAyIDEzIDI3OCAwelwiLz5cbiAgIDwvZz5cbiAgIDwvc3ZnPlxuICAgYDtcbmNvbnN0IGxpbWl0ID0ge1xuICAgIGtleTogJ19saW1pdCcsXG4gICAgdmFsdWU6IDEwLFxufTtcbmNvbnN0IHN0YXJ0UGFnZSA9IDE7XG5jbGFzcyBXaW5uZXJzIGV4dGVuZHMgcm91dGVfMS5Sb3V0ZUVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKGVtaXR0ZXIpIHtcbiAgICAgICAgc3VwZXIoZW1pdHRlcik7XG4gICAgICAgIHRoaXMuZW1pdHRlciA9IGVtaXR0ZXI7XG4gICAgICAgIHRoaXMudXJsID0gJ3dpbm5lcnMnO1xuICAgICAgICB0aGlzLmN1cnJlbnRXaW5uZXJQYWdlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRQYWdlV2lubmVyJylcbiAgICAgICAgICAgID8gTnVtYmVyKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXJyZW50UGFnZVdpbm5lcicpKVxuICAgICAgICAgICAgOiAxO1xuICAgICAgICB0aGlzLmdldEFsbFdpbm5lcnNQYWdpbmF0aW9uKHRoaXMuY3VycmVudFdpbm5lclBhZ2UpO1xuICAgICAgICB0aGlzLm9uU3ViV2luKCk7XG4gICAgICAgIHRoaXMuZ2V0V2lubmVyc1F0eSgpO1xuICAgIH1cbiAgICBhc3luYyBnZXRXaW5uZXJzUXR5KCkge1xuICAgICAgICBjb25zdCB0b3RhbENhcnMgPSBhd2FpdCBhcGlXaW5uZXJzU2VydmljZV8xLkFwaVdpbm5lcnNTZXJ2aWNlLmdldEFsbFdpbigpO1xuICAgICAgICB0aGlzLnF0eVdpbnMgPSB0b3RhbENhcnMubGVuZ3RoO1xuICAgICAgICB0aGlzLmNhcnNOdW1iZXJzLnRleHRDb250ZW50ID0gU3RyaW5nKHRoaXMucXR5V2lucyk7XG4gICAgfVxuICAgIGFwcGVuZEVsZW1lbnQocGFyZW50KSB7XG4gICAgICAgIHN1cGVyLnJlbmRlcihwYXJlbnQpO1xuICAgICAgICB0aGlzLm5leHRCdG4gPSBzdXBlci5yZW5kZXJFbGVtZW50KCdidXR0b24nLCAnbmV4dC1idG4gYnRuIHdpbi1wYWdlLWJ0bicsIHtcbiAgICAgICAgICAgIHRleHRDb250ZW50OiAnbmV4dCcsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnByZXZCdG4gPSBzdXBlci5yZW5kZXJFbGVtZW50KCdidXR0b24nLCAncHJldi1idG4gYnRuIHdpbi1wYWdlLWJ0bicsIHtcbiAgICAgICAgICAgIHRleHRDb250ZW50OiAncHJldicsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBjb250YWluZXJXaW5QYWdlID0gc3VwZXIucmVuZGVyRWxlbWVudCgnZGl2JywgJ3dyYXBwZXItcGFnZV9jb250cm9sbGVyJyk7XG4gICAgICAgIHRoaXMud2lubm5lcnNIZWFkZXIgPSBzdXBlci5yZW5kZXJFbGVtZW50KCdoMycsICd0aXRsZScsIHsgdGV4dENvbnRlbnQ6ICdXaW5uZXJzICMnIH0pO1xuICAgICAgICB0aGlzLmNhcnNOdW1iZXJzID0gc3VwZXIucmVuZGVyRWxlbWVudCgnc3BhbicsICd0aXRsZScpO1xuICAgICAgICB0aGlzLnBhZ2VOdW1iZXJzID0gc3VwZXIucmVuZGVyRWxlbWVudCgnaDQnLCAnc3VidGl0bGUtcGFnZScsIHsgdGV4dENvbnRlbnQ6ICdQYWdlcyhoZXJlIG51bWJlciknIH0pO1xuICAgICAgICB0aGlzLnRhYmxlQ29udGFpbmVyID0gc3VwZXIucmVuZGVyRWxlbWVudCgnZGl2JywgJ3RhYmxlLWNvbnRhaW5lcicpO1xuICAgICAgICB0aGlzLndpblRhYmxlSGVhZCA9IHN1cGVyLnJlbmRlckVsZW1lbnQoJ2RpdicsICd0YWJsZS1oZWFkIHRhYmxlLXJvdycpO1xuICAgICAgICB0aGlzLmlkV2luID0gc3VwZXIucmVuZGVyRWxlbWVudCgnc3BhbicsICd0YWJsZS1pZC13aW5uZXInLCB7IHRleHRDb250ZW50OiAnTnVtYmVyJyB9KTtcbiAgICAgICAgdGhpcy5jYXJJbWdXaW4gPSBzdXBlci5yZW5kZXJFbGVtZW50KCdzcGFuJywgJ3RhYmxlLWltZy13aW5uZXInLCB7IHRleHRDb250ZW50OiAnQ2FyJyB9KTtcbiAgICAgICAgdGhpcy5jYXJOYW1lV2luID0gc3VwZXIucmVuZGVyRWxlbWVudCgnc3BhbicsICd0YWJsZS1uYW1lLXdpbm5lcicsIHsgdGV4dENvbnRlbnQ6ICdOYW1lJyB9KTtcbiAgICAgICAgdGhpcy5udW1ibmVyV2lucyA9IHN1cGVyLnJlbmRlckVsZW1lbnQoJ3NwYW4nLCAndGFibGUtbnVtYmVycy13aW5zJywgeyB0ZXh0Q29udGVudDogJ1dpbnMnIH0pO1xuICAgICAgICB0aGlzLnRpbWVXaW4gPSBzdXBlci5yZW5kZXJFbGVtZW50KCdzcGFuJywgJ3RhYmxlLXRpbWUtd2lucycsIHsgdGV4dENvbnRlbnQ6ICdCZXN0IHRpbWUnIH0pO1xuICAgICAgICBwYXJlbnQuYXBwZW5kKHRoaXMud3JhcHBlcik7XG4gICAgICAgIHRoaXMud3JhcHBlci5hcHBlbmQodGhpcy53aW5ubmVyc0hlYWRlciwgY29udGFpbmVyV2luUGFnZSwgdGhpcy50YWJsZUNvbnRhaW5lcik7XG4gICAgICAgIHRoaXMud2lubm5lcnNIZWFkZXIuYXBwZW5kKHRoaXMuY2Fyc051bWJlcnMpO1xuICAgICAgICBjb250YWluZXJXaW5QYWdlLmFwcGVuZCh0aGlzLnBhZ2VOdW1iZXJzLCB0aGlzLnByZXZCdG4sIHRoaXMubmV4dEJ0bik7XG4gICAgICAgIHRoaXMudGFibGVDb250YWluZXIuYXBwZW5kKHRoaXMud2luVGFibGVIZWFkKTtcbiAgICAgICAgdGhpcy53aW5UYWJsZUhlYWQuYXBwZW5kKHRoaXMuaWRXaW4sIHRoaXMuY2FySW1nV2luLCB0aGlzLmNhck5hbWVXaW4sIHRoaXMubnVtYm5lcldpbnMsIHRoaXMudGltZVdpbik7XG4gICAgICAgIHRoaXMubmV4dEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMubmV4dFBhZ2UuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMucHJldkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMucHJldlBhZ2UuYmluZCh0aGlzKSk7XG4gICAgfVxuICAgIGFzeW5jIGdldEFsbFdpbm5lcnNQYWdpbmF0aW9uKHBhZ2UgPSBzdGFydFBhZ2UpIHtcbiAgICAgICAgdGhpcy5kYXRhV2lubmVycyA9IGF3YWl0IGFwaVdpbm5lcnNTZXJ2aWNlXzEuQXBpV2lubmVyc1NlcnZpY2UuZ2V0UGFnaW5hdGlvbihwYWdlLCBsaW1pdCk7XG4gICAgICAgIGlmICh0aGlzLmRhdGFXaW5uZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50V2lubmVyUGFnZSAtPSAxO1xuICAgICAgICAgICAgdGhpcy5kYXRhV2lubmVycyA9IGF3YWl0IGFwaVdpbm5lcnNTZXJ2aWNlXzEuQXBpV2lubmVyc1NlcnZpY2UuZ2V0UGFnaW5hdGlvbih0aGlzLmN1cnJlbnRXaW5uZXJQYWdlLCBsaW1pdCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYWdlTnVtYmVycy50ZXh0Q29udGVudCA9IFN0cmluZyh0aGlzLmN1cnJlbnRXaW5uZXJQYWdlKTtcbiAgICAgICAgdGhpcy5yZW5kZXJXaW5uZXIodGhpcy5kYXRhV2lubmVycyk7XG4gICAgfVxuICAgIHJlbmRlcldpbm5lcih3aW5uZXJMaXN0KSB7XG4gICAgICAgIHRoaXMuY29udGVudFRhYmxlID0gc3VwZXIucmVuZGVyRWxlbWVudCgnZGl2JywgJ3RhYmxlLWNvbnRlbnQnKTtcbiAgICAgICAgdGhpcy50YWJsZUNvbnRhaW5lci5hcHBlbmQodGhpcy5jb250ZW50VGFibGUpO1xuICAgICAgICB3aW5uZXJMaXN0LmZvckVhY2goKHdpbm5lcikgPT4ge1xuICAgICAgICAgICAgY29uc3Qgd2luVGFibGVIZWFkID0gc3VwZXIucmVuZGVyRWxlbWVudCgnZGl2JywgJ3RhYmxlLWhlYWQgdGFibGUtcm93Jyk7XG4gICAgICAgICAgICBjb25zdCBpZFdpbiA9IHN1cGVyLnJlbmRlckVsZW1lbnQoJ3NwYW4nLCAndGFibGUtaWQtd2lubmVyJywgeyB0ZXh0Q29udGVudDogd2lubmVyLmlkIH0pO1xuICAgICAgICAgICAgY29uc3QgY2FySW1nV2luID0gc3VwZXIucmVuZGVyRWxlbWVudCgnc3BhbicsICd0YWJsZS1pbWctd2lubmVyJywgeyB0ZXh0Q29udGVudDogd2lubmVyLmNvbG9yIH0pO1xuICAgICAgICAgICAgY29uc3QgY2FyTmFtZVdpbiA9IHN1cGVyLnJlbmRlckVsZW1lbnQoJ3NwYW4nLCAndGFibGUtbmFtZS13aW5uZXInLCB7IHRleHRDb250ZW50OiB3aW5uZXIubmFtZSB9KTtcbiAgICAgICAgICAgIGNvbnN0IG51bWJuZXJXaW5zID0gc3VwZXIucmVuZGVyRWxlbWVudCgnc3BhbicsICd0YWJsZS1udW1iZXJzLXdpbnMnLCB7IHRleHRDb250ZW50OiB3aW5uZXIud2lucyB9KTtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVXaW4gPSBzdXBlci5yZW5kZXJFbGVtZW50KCdzcGFuJywgJ3RhYmxlLXRpbWUtd2lucycsIHsgdGV4dENvbnRlbnQ6IHdpbm5lci50aW1lIH0pO1xuICAgICAgICAgICAgY2FySW1nV2luLmlubmVySFRNTCA9IHN2Z0NhcjtcbiAgICAgICAgICAgIGNhckltZ1dpbi5zdHlsZS5maWxsID0gd2lubmVyLmNvbG9yO1xuICAgICAgICAgICAgdGhpcy5jb250ZW50VGFibGUuYXBwZW5kKHdpblRhYmxlSGVhZCk7XG4gICAgICAgICAgICB3aW5UYWJsZUhlYWQuYXBwZW5kKGlkV2luLCBjYXJJbWdXaW4sIGNhck5hbWVXaW4sIG51bWJuZXJXaW5zLCB0aW1lV2luKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIG5leHRQYWdlKCkge1xuICAgICAgICBjb25zdCBtYXhQYWdlID0gdGhpcy5xdHlXaW5zIC8gbGltaXQudmFsdWU7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRXaW5uZXJQYWdlIDwgbWF4UGFnZSkge1xuICAgICAgICAgICAgdGhpcy5uZXh0QnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnByZXZCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFdpbm5lclBhZ2UgKz0gMTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjdXJyZW50UGFnZVdpbm5lcicsIFN0cmluZyh0aGlzLmN1cnJlbnRXaW5uZXJQYWdlKSk7XG4gICAgICAgICAgICB0aGlzLnBhZ2VOdW1iZXJzLnRleHRDb250ZW50ID0gU3RyaW5nKHRoaXMuY3VycmVudFdpbm5lclBhZ2UpO1xuICAgICAgICAgICAgdGhpcy5jb250ZW50VGFibGUuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICBjb25zdCBuZXdsaXN0ID0gYXdhaXQgdGhpcy5nZXRBbGxXaW5uZXJzUGFnaW5hdGlvbih0aGlzLmN1cnJlbnRXaW5uZXJQYWdlKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ld2xpc3QpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMubmV4dEJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICAgIGFzeW5jIHByZXZQYWdlKCkge1xuICAgICAgICBjb25zdCBtaW5QYWdlID0gMTtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFdpbm5lclBhZ2UgPiBtaW5QYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnByZXZCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMubmV4dEJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50V2lubmVyUGFnZSAtPSAxO1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N1cnJlbnRQYWdlV2lubmVyJywgU3RyaW5nKHRoaXMuY3VycmVudFdpbm5lclBhZ2UpKTtcbiAgICAgICAgICAgIHRoaXMucGFnZU51bWJlcnMudGV4dENvbnRlbnQgPSBTdHJpbmcodGhpcy5jdXJyZW50V2lubmVyUGFnZSk7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRUYWJsZS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZ2V0QWxsV2lubmVyc1BhZ2luYXRpb24odGhpcy5jdXJyZW50V2lubmVyUGFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5wcmV2QnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgb25TdWJXaW4oKSB7XG4gICAgICAgIHRoaXMuZW1pdHRlci5zdWJzY3JpYmUoJ29uUmVtb3ZlJywgKGNhcikgPT4gdGhpcy5vblJlbW92ZVdpbihjYXIpKTtcbiAgICB9XG4gICAgYXN5bmMgb25SZW1vdmVXaW4oY2FyKSB7XG4gICAgICAgIGlmIChjYXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgaWQgfSA9IGNhcjtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsQ2FycyA9IGF3YWl0IGFwaVdpbm5lcnNTZXJ2aWNlXzEuQXBpV2lubmVyc1NlcnZpY2UuZ2V0QWxsV2luKCk7XG4gICAgICAgICAgICBjb25zdCB3aW5uZXJUb0RlbGV0ZSA9IHRvdGFsQ2Fycy5maW5kKCh3aW4pID0+IHdpbi5jYXJJZCA9PT0gaWQpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3dpbm5lclRvRGVsZXRlJywgd2lubmVyVG9EZWxldGUpO1xuICAgICAgICAgICAgaWYgKHdpbm5lclRvRGVsZXRlKVxuICAgICAgICAgICAgICAgIGF3YWl0IGFwaVdpbm5lcnNTZXJ2aWNlXzEuQXBpV2lubmVyc1NlcnZpY2UuZGVsZXRlV2luKHdpbm5lclRvRGVsZXRlLmlkKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0V2lubmVyc1F0eSgpO1xuICAgICAgICAgICAgLy8gdGhpcy5jYXJMaXN0V3JhcHBlci5yZW1vdmVDaGlsZChjYXJDb250IGFzIE5vZGUpO1xuICAgICAgICAgICAgdGhpcy5jb250ZW50VGFibGUuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICB0aGlzLmdldEFsbFdpbm5lcnNQYWdpbmF0aW9uKHRoaXMuY3VycmVudFdpbm5lclBhZ2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5XaW5uZXJzID0gV2lubmVycztcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGFwcF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9hcHBcIik7XG5jb25zdCBlbWl0dGVyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2VtaXR0ZXJcIik7XG5jb25zdCBlbWl0dGVyID0gbmV3IGVtaXR0ZXJfMS5FdmVudEVtaXR0ZXIoKTtcbmNvbnN0IGFwcCA9IG5ldyBhcHBfMS5BcHAoZW1pdHRlcik7XG5hcHAuYXBwZW5kRWxlbWVudChkb2N1bWVudC5ib2R5KTtcbmNvbnNvbGUubG9nKCdIZWxsbGxsbycpO1xuIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiQ2Fyc0FwaVNlcnZpY2UiLCJ0eXBlc18xIiwiYXBpU2VydmljZV8xIiwic3RhdGljIiwiY29uc29sZSIsImxvZyIsIkFwaVNlcnZpY2UiLCJnZXQiLCJQYXRoIiwiZ2FyYWdlIiwidHJhbnNmZXIiLCJoZWFkZXJzIiwicG9zdCIsImlkQ2FyIiwiZGVsZXRlIiwicHV0IiwibGltaXQiLCJnZXRQYWdlcyIsImtleSIsInN0YXR1cyIsInJ1bkVuZ2luZSIsImVuZ2luZSIsInBhZ2UiLCJtZXRob2QiLCJib2R5IiwidXJsIiwidGhpcyIsImJhc2VVcmwiLCJyZXNwb25zZSIsImZldGNoIiwiSlNPTiIsInN0cmluZ2lmeSIsImpzb24iLCJlbGVtZW50IiwiZmV0Y2hSZXF1ZXN0IiwiQXBpV2lubmVyc1NlcnZpY2UiLCJ3aW5uZXJzIiwidHlwZVNvcnQiLCJvcmRlciIsIkFwcCIsImhlYWRlcl8xIiwiZ2FyYWdlXzEiLCJ3aW5uZXJzXzEiLCJjYXJfMSIsInZpZXdfMSIsIlZpZXciLCJjb25zdHJ1Y3RvciIsInN1cGVyIiwiYXJndW1lbnRzIiwiaGVhZGVyIiwiSGVhZGVyIiwiZW1pdHRlciIsIkdhcmFnZSIsIldpbm5lcnMiLCJjYXJzIiwiQ2FycyIsInJvdXRlcyIsInRpdGxlIiwicm91dGVFbGVtZXRucyIsImFwcGVuZEVsZW1lbnQiLCJwYXJlbnQiLCJ3cmFwcGVyIiwicmVuZGVyRWxlbWVudCIsImFwcGVuZCIsInN1YnNjcmliZSIsInJvdXRlIiwib25DaGFuZ2VSb3V0ZSIsImFjdGl2ZVBhZ2UiLCJmaW5kIiwiaGlkZGVuUGFnZSIsImZpbHRlciIsInNob3ciLCJmb3JFYWNoIiwiaGlkZSIsImFwaUNhclNlcnZpY2VfMSIsImFwaVdpbm5lcnNTZXJ2aWNlXzEiLCJjdXJyZW50UGFnZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJOdW1iZXIiLCJnZXRDYXJzIiwib25TdWIiLCJnZXRDYXJzUXR5IiwiYXN5bmMiLCJ0b3RhbENhcnMiLCJnZXRBbGxDYXJzIiwicXR5Q2FycyIsImxlbmd0aCIsImNhcnNOdW1iZXJzIiwidGV4dENvbnRlbnQiLCJTdHJpbmciLCJwYWdlR2FyYWdlIiwiZGF0YUNhcnMiLCJnZXRQYWdpbmF0aW9uIiwicGFnZU51bWJlcnMiLCJyZW5kZXJDYXIiLCJjYXJMaXN0V3JhcHBlciIsImNhcnNXcmFwcGVyIiwiZ2FyYWdlU3VidGl0bGUiLCJwYWdlU3VidGl0bGUiLCJwYWdlQ29udGFpbmVyIiwicHJldkJ0biIsIm5leHRCdG4iLCJhZGRFdmVudExpc3RlbmVyIiwibmV4dFBhZ2UiLCJiaW5kIiwicHJldlBhZ2UiLCJjYXIiLCJzZXRUaW1lb3V0IiwicmFjZUNvbnRhaW5lciIsImlkIiwiY2FyQ29udGFpbmVyIiwiY2FyQm94Um93MSIsImNhckJveFJvdzIiLCJlbmdpbmVCdG4iLCJzZWxlY3RDYXIiLCJyZW1vdmVDYXIiLCJzdGFydENhciIsInN0b3BDYXIiLCJjYXJOYW1lIiwibmFtZSIsImNhckltZ0JveCIsImlubmVySFRNTCIsInN0eWxlIiwiZmlsbCIsImNvbG9yIiwiZmxhZ0ltZyIsIm9uU2VsZWN0Q2FyIiwib25SZW1vdmVDYXIiLCJzdGFydE9uZUVuZ2luIiwic3RvcE9uZUVuZ2luIiwiZXZlbnQiLCJnZXRJZENhciIsIm9uRW1pdCIsIm9uVXBkYXRlQ2FyIiwib25DcmVhdGVkQ2FyIiwic3RhcnRSYWNlIiwic3RvcFJhY2UiLCJkZWxldGVDYXIiLCJuZXdjYXIiLCJnZXRDYXIiLCJpbWdDYXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY2hpbGRyZW4iLCJjaGlsZE5vZGVzIiwibmFtZUNhciIsImN1cnJlbnRRdHlQYWdlIiwiQXJyYXkiLCJpc0FycmF5IiwicG9zc2libGVUb1JlbmRlciIsInNsaWNlIiwibWF4UGFnZSIsImRpc2FibGVkIiwic2V0SXRlbSIsImludGVydmFsQW5pbSIsImN1cnJlbnRDYXIiLCJjbGVhckludGVydmFsIiwiY2hhbmdlVG9TdGFydCIsIm9uRW5naW5DYXIiLCJFbmdpbmUiLCJzdGFydGVkIiwiY3VycmVudFdpdGgiLCJ3aW5kb3ciLCJzY3JlZW4iLCJ3aWR0aCIsImZsYWdEaXN0Iiwib2Zmc2V0TGVmdCIsIm9mZnNldFdpZHRoIiwibGVmdERpc3QiLCJmdWxsRGlzIiwicGFydERpcyIsInZlbG9jaXR5Iiwic2V0SW50ZXJ2YWwiLCJ3aW5uZXJUaW1lIiwidG9GaXhlZCIsImFkZFdpbm5lciIsInNob3dXaW5NZXNzYWdlIiwidHJhbnNmb3JtIiwicnVuQ2FyIiwidGhlbiIsInJlcyIsImNhdGNoIiwiZXJyb3IiLCJFcnJvciIsImNoYW5nZVRvU3RvcCIsInN0b3BwZWQiLCJjYXJDb250IiwidGFyZ2V0IiwiY2xvc2VzdCIsImN1cnJlbnRQYWdlQ2FycyIsInJhY2VDYXIiLCJwdXNoIiwidGltZSIsImNvbG9yQ2FyIiwiY2hlY2tXaW5uZXIiLCJnZXRXaW4iLCJjYXJJZCIsIndpbnMiLCJ1cGRhdGVXaW4iLCJ3aW5uZXIiLCJjcmVhdGVXaW4iLCJhbGxXaW5uZXJzIiwiZ2V0QWxsV2luIiwicG9wVXBXcmFwcGVyIiwib3ZlcmxheSIsIm1lc3NhZ2VUZXh0Iiwic2hvd1BvcHVwIiwicXVlcnlTZWxlY3RvciIsInJlbW92ZUNoaWxkIiwiRXZlbnRFbWl0dGVyIiwic3Vic2NyaWJlck1hcCIsIk1hcCIsImNhbGxiYWNrIiwiZXZlbnRDYWxsYmFja3MiLCJoYXMiLCJzZXQiLCJ1bnN1YnNjcmliZSIsImZuIiwicGFyYW0iLCJzdWJzY3JpYmVyIiwicm91dGVfMSIsImNhcnNCcmFuZF8xIiwic2V0Q29sb3JfMSIsIlJvdXRlRWxlbWVudCIsInJlbmRlciIsImNyZWF0ZUJ0biIsInVwZGF0ZUJ0biIsImNyZWF0ZUlucHV0IiwiZ2VuZXJhdGVNb2RlbHMiLCJ1cGRhdGVJbnB1dCIsImNyZWF0ZVBpY2tlciIsInR5cGUiLCJ1cGRhdGVQaWNrZXIiLCJzdGFydEJ0biIsInN0b3BCdG4iLCJnZW5lcmF0ZUJ0biIsImNvbnRyb2xsZXJzV3JhcHBlciIsImNyZWF0ZUNvbnRhaW5lciIsInVwZGF0ZUNvbnRhaW5lciIsImNvbnRyb2xsZXJzQ29udGFpbmVyIiwib25VcGRhdGVOYW1lQ2FyIiwiZ2V0VXBkYXRlZENhciIsIm9uQ3JlYXRlQ2FyIiwib25HZW5lcmF0ZUNhcnMiLCJjbGVhcklucHV0cyIsInVwZGF0ZUNhciIsInNvbWVDYXIiLCJjdXJyZW50VXBkYXRlQ2FyIiwibmV3Q2FyIiwidXBkYXRlZENhciIsImNyZWF0ZUNhck5hbWUiLCJjcmVhdGVDYXIiLCJjcmVhdGVkQ2FyIiwibGVuZ3RoQmVmb3JlIiwiYXJyIiwibWFwIiwic2V0Q2FyQ29sb3IiLCJjYXJOYW1lcyIsInNlbGVjdENhck5hbWUiLCJ1bnNoaWZ0IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsIm5hdkVsZW1lbnRzIiwiaGVhZGluZyIsImhlYWRlckNvbnRlbnQiLCJoZWFkZXJOYXYiLCJzdWJ0aXRsZSIsInRleEJveCIsImltZ1NjaG9vbCIsImhyZWYiLCJpbWdHaXRodWIiLCJuYXZMaW5rIiwiZ2V0QXR0cmlidXRlIiwibGluayIsImlzSGlkZGVuIiwiY2xhc3NOYW1lIiwiYXBwZW5kQ2hpbGQiLCJtb2RlbHMiLCJicmFuZCIsInJhbmRvbU1vZGVsIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicmFuZG9tQnJhbmQiLCJzZXRDb2xvciIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJTb3J0V2lubmVyIiwiU29ydE9yZGVyV2lubmVyIiwidGFnIiwiYXR0cmlidXRlIiwiYXNzaWduIiwiY3VycmVudFdpbm5lclBhZ2UiLCJnZXRBbGxXaW5uZXJzUGFnaW5hdGlvbiIsIm9uU3ViV2luIiwiZ2V0V2lubmVyc1F0eSIsInF0eVdpbnMiLCJjb250YWluZXJXaW5QYWdlIiwid2lubm5lcnNIZWFkZXIiLCJ0YWJsZUNvbnRhaW5lciIsIndpblRhYmxlSGVhZCIsImlkV2luIiwiY2FySW1nV2luIiwiY2FyTmFtZVdpbiIsIm51bWJuZXJXaW5zIiwidGltZVdpbiIsImRhdGFXaW5uZXJzIiwicmVuZGVyV2lubmVyIiwid2lubmVyTGlzdCIsImNvbnRlbnRUYWJsZSIsIm5ld2xpc3QiLCJvblJlbW92ZVdpbiIsIndpbm5lclRvRGVsZXRlIiwid2luIiwiZGVsZXRlV2luIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImFwcF8xIl0sInNvdXJjZVJvb3QiOiIifQ==