(()=>{"use strict";(()=>{class e{constructor(e,t){this.emitter=e,this.controller=t}renderComponent(e,t,n,s){const l=document.createElement(e);return l.className=t,s&&(l.textContent=s),n&&Object.assign(l,n),l}}class t extends e{render(e){this.header=super.renderComponent("header","header");const t=super.renderComponent("h1","heading",{textContent:"CSS Selectors"}),n=super.renderComponent("nav","nav"),s=super.renderComponent("ul","nav__list list"),l=super.renderComponent("li","list__item"),o=super.renderComponent("li","list__item"),a=super.renderComponent("a","list__link list__link-tw",{href:"https://twitter.com/?lang=ru"}),r=super.renderComponent("a","list__link list__link-fb",{href:"https://www.facebook.com/"});e.append(this.header),this.header.append(t,n),n.append(s),s.append(l,o),o.append(a),l.append(r)}}class n extends e{render(e){this.main=super.renderComponent("div","content-box");const t=super.renderComponent("div","content-box");this.helper=super.renderComponent("button","help-button",{},"help me!"),this.subHeading=super.renderComponent("h2","sub-heading",{textContent:"Name of level"}),e.append(this.main),this.main.append(t),t.append(this.subHeading,this.helper),this.helper.addEventListener("click",this.onHelpCall),this.onLevelChange()}changeHeader(e){this.subHeading.textContent=e.doThis}onLevelChange(){this.emitter.subscribe("updateLevel",(e=>this.changeHeader(e)))}onHelpCall(){}}class s extends e{render(e){const t=super.renderComponent("div","perspective table-wrapper"),n=super.renderComponent("div","table-box");this.table=super.renderComponent("div","table"),this.tableTop=super.renderComponent("div","table-top");const s=super.renderComponent("div","table-bottom"),l=super.renderComponent("div","table-leg"),o=super.renderComponent("div","table-leg");e.append(t),t.append(n),n.append(this.table,this.tableTop),t.append(s),s.append(l,o),this.onLevelChange(),this.onLoseLevel(),this.onWinLevel()}showApple(e){this.tableTop.innerHTML="",this.tableTop.insertAdjacentHTML("afterbegin",e.boardMarkup),this.getTableElementsAnimation(e,"dance")}onLevelChange(){this.emitter.subscribe("updateLevel",(e=>this.showApple(e)))}onWinLevel(){this.emitter.subscribe("winLevel",(e=>this.getTableElementsAnimation(e,"clean")))}onLoseLevel(){this.emitter.subscribe("loseLevel",(e=>this.getTableElementsAnimation(e,"shake")))}getTableElementsAnimation(e,t){const n=[...document.querySelectorAll(`.table-top ${e.selector}`)];n&&n.forEach((e=>e.classList.add(`${t}`))),"shake"===t&&setTimeout((()=>{n.forEach((e=>e.classList.remove(`${t}`)))}),300),"clean"===t&&setTimeout((()=>{n.forEach((e=>e.classList.remove("dance")))}),300)}onHoverEditor(){this.emitter.subscribe("hoverEditor",(e=>this.showTable(e)))}showTable(e){"div"!==e&&console.log(e,e.toElement)}}class l extends e{render(e){this.editor=super.renderComponent("section","editor__wrapper"),this.editorCss=super.renderComponent("div","editor-css");const t=super.renderComponent("div","editor__heading"),n=super.renderComponent("span","editor__heading",{textContent:"CSS Editor"}),s=super.renderComponent("span","editor__lines-numbers"),l=super.renderComponent("pre","code",{textContent:"/*Type in a CSS selector*/"});this.textArea=super.renderComponent("textarea","editor__text-aria"),this.enterBtn=super.renderComponent("button","enter-button",{textContent:"Enter"}),this.editorHTML=super.renderComponent("div","viewer-css");const o=super.renderComponent("div","editor__heading"),a=super.renderComponent("span","editor__heading",{textContent:"HTML viewer"}),r=super.renderComponent("span","viewer__lines-numbers"),i=super.renderComponent("div","html-box");this.htmlCode=super.renderComponent("pre","html-code"),e.append(this.editor),this.editor.append(this.editorCss,this.editorHTML),this.editorCss.append(t,s,l,this.textArea,this.enterBtn),t.append(n),this.editorHTML.append(o,r,i),i.append(this.htmlCode),o.append(a),this.createLinesNumbers(s,r),this.enterBtn.addEventListener("click",(()=>{this.checkSelector(this.controller.currentLevel,this.textArea.value)})),this.textArea.addEventListener("keydown",(e=>{"Enter"===e.code&&(e.preventDefault(),this.checkSelector(this.controller.currentLevel,this.textArea.value))})),this.onLevelChange()}createLinesNumbers(e,t){Array(20).fill(0).map(((e,t)=>t+1)).forEach((n=>{e.insertAdjacentHTML("beforeend",`${n}<br>`),t.insertAdjacentHTML("beforeend",`${n}<br>`)}))}showCode(e){this.textArea.innerHTML="",this.htmlCode.innerHTML="",this.htmlCode.insertAdjacentText("afterbegin",`<div class = "table">\n${e.boardMarkup}\n</div>`)}onLevelChange(){this.emitter.subscribe("updateLevel",(e=>this.showCode(e)))}getTextAriaContent(){return console.log("textaria",this.textArea.value),this.textArea.value}checkSelector(e,t){console.log("check",e),console.log("check answer",t),e.selector!==t&&(console.log("LLLOOOOOOSSSEEEðŸ’¥"),this.emitter.emit("loseLevel",e)),e.selector===t&&(console.log("WWWWIIINNNNNðŸŽŠðŸŽŠðŸŽŠðŸŽŠðŸŽŠ"),this.controller.getCompletedLevels(e),this.textArea.value="",this.emitter.emit("winLevel",e))}}const o=[{id:0,helpTitle:"Select elements by their type",selectorName:"Type Selector",doThis:"Select the plates",selector:"plate",syntax:"A",help:"Selects all elements of type <strong>A</strong>. Type refers to the type of tag, so <tag>div</tag>, <tag>p</tag> and <tag>ul</tag> are all different element types.",examples:["<strong>div</strong> selects all <tag>div</tag> elements.","<strong>p</strong> selects all <tag>p</tag> elements."],boardMarkup:"\n    <plate></plate>\n    <plate></plate>\n    "},{id:1,doThis:"Select the bento boxes",selector:"bento",syntax:"A",helpTitle:"Select elements by their type",selectorName:"Type Selector",help:"Selects all elements of type <strong>A</strong>. Type refers to the type of tag, so <tag>div</tag>, <tag>p</tag> and <tag>ul</tag> are all different element types.",examples:["<strong>div</strong> selects all <tag>div</tag> elements.","<strong>p</strong> selects all <tag>p</tag> elements."],boardMarkup:"\n    <bento></bento>\n    <plate></plate>\n    <bento></bento>\n    "},{id:2,doThis:"Select the fancy plate",selector:"#fancy",selectorName:"ID Selector",helpTitle:"Select elements with an ID",syntax:"#id",help:"Selects the element with a specific <strong>id</strong>. You can also combine the ID selector with the type selector.",examples:['<strong>#cool</strong> selects any element with <strong>id="cool"</strong>','<strong>ul#long</strong> selects <tag>ul id="long"</tag>'],boardMarkup:'\n    <plate id="fancy"></plate>\n    <plate></plate>\n    <bento></bento>\n    '},{id:3,doThis:"Select the small apples",selector:".small",selectorName:"Class Selector",helpTitle:"Select elements by their class",syntax:".classname",help:"The class selector selects all elements with that class attribute. Elements can only have one ID, but many classes.",examples:['<strong>.neato</strong> selects all elements with <strong>class="neato"</strong>'],boardMarkup:'\n    <apple></apple>\n    <apple class="small"></apple>\n    <plate>\n      <apple class="small"></apple>\n    </plate>\n    <plate></plate>\n    '},{id:4,doThis:"Select the small oranges",selector:"orange.small",helpTitle:"Combine the Class Selector",syntax:"A.className",help:"You can combine the class selector with other selectors, like the type selector.",examples:['<strong>ul.important</strong> selects all <tag>ul</tag> elements that have <strong>class="important"</strong>','<strong>#big.wide</strong> selects all elements with <strong>id="big"</strong> that also have <strong>class="wide"</strong>'],boardMarkup:'\n    <apple></apple>\n    <apple class="small"></apple>\n    <bento>\n      <orange class="small"></orange>\n    </bento>\n    <plate>\n      <orange></orange>\n    </plate>\n    <plate>\n      <orange class="small"></orange>\n    </plate>'},{id:5,doThis:"Select the small oranges in the bentos",selector:"bento orange.small",syntax:"Put your back into it!",helpTitle:"You can do it...",help:"Combine what you learned in the last few levels to solve this one!",boardMarkup:'\n    <bento>\n      <orange></orange>\n    </bento>\n    <orange class="small"></orange>\n    <bento>\n      <orange class="small"></orange>\n    </bento>\n    <bento>\n      <apple class="small"></apple>\n    </bento>\n    <bento>\n      <orange class="small"></orange>\n    </bento>\n    '},{id:6,doThis:"Select all the plates and bentos",selector:"plate,bento",selectorName:"Comma Combinator",helpTitle:"Combine, selectors, with... commas!",syntax:"A, B",help:"Thanks to Shatner technology, this selects all <strong>A</strong> and <strong>B</strong> elements. You can combine any selectors this way, and you can specify more than two.",examples:['<strong>p, .fun</strong> selects all <tag>p</tag> elements as well as all elements with <strong>class="fun"</strong>',"<strong>a, p, div</strong> selects all <tag>a</tag>, <tag>p</tag> and <tag>div</tag> elements"],boardMarkup:"\n    <pickle></pickle>\n    <plate>\n      <pickle></pickle>\n    </plate>\n    <bento>\n      <pickle></pickle>\n    </bento>\n    <plate>\n      <pickle></pickle>\n    </plate>\n    <pickle></pickle>\n    "},{id:7,doThis:"Select all the things!",selector:"*",selectorName:"The Universal Selector",helpTitle:"You can select everything!",syntax:"*",help:"You can select all elements with the universal selector! ",examples:["<strong>p *</strong> selects any element inside all <tag>p</tag> elements."],boardMarkup:'\n    <apple></apple>\n    <plate>\n      <orange class="small"></orange>\n    </plate>\n    <bento></bento>\n    <bento>\n      <orange></orange>\n    </bento>\n    '},{id:8,selectorName:"First Child Pseudo-selector",helpTitle:"Select a first child element inside of another element",doThis:"Select the top orange",selector:"plate :first-child",syntax:":first-child",help:"You can select the first child element. A child element is any element that is directly nested in another element. You can combine this pseudo-selector with other selectors.",examples:["<strong>:first-child</strong> selects all first child elements.","<strong>p:first-child</strong> selects all first child <tag>p</tag> elements.","<strong>div p:first-child</strong> selects all first child <tag>p</tag> elements that are in a <tag>div</tag>."],boardMarkup:'\n    <bento></bento>\n    <plate></plate>\n    <plate>\n      <orange></orange>\n      <orange></orange>\n      <orange></orange>\n    </plate>\n    <pickle class="small"></pickle>'},{id:9,selectorName:"General Sibling Selector",helpTitle:"Select elements that follows another element",syntax:"A ~ B",doThis:"Select the pickles beside the bento",selector:"bento ~ pickle",help:"You can select all siblings of an element that follow it. This is like the Adjacent Selector (A + B) except it gets all of the following elements instead of one.",examples:["<strong>A ~ B</strong> selects all <strong>B</strong> that follow a <strong>A</strong>"],boardMarkup:'\n    <pickle></pickle>\n    <bento>\n      <orange class="small"></orange>\n    </bento>\n    <pickle class="small"></pickle>\n    <pickle></pickle>\n    <plate>\n      <pickle></pickle>\n    </plate>\n    <plate>\n      <pickle class="small"></pickle>\n    </plate>\n    '},{id:10,selectorName:"Nth of Type Selector",doThis:"Select all even plates",selector:"plate:nth-of-type(even)",syntax:":nth-of-type(A)",help:"Selects a specific element based on its type and order in another element - or even or odd instances of that element.",examples:["<strong>div:nth-of-type(2)</strong> selects the second instance of a div.","<strong>.example:nth-of-type(odd)</strong> selects all odd instances of a the example class."],boardMarkup:"\n    <plate></plate>\n    <plate></plate>\n    <plate></plate>\n    <plate></plate>\n    "},{id:11,selectorName:"Only of Type Selector",helpTitle:"Select elements that are the only ones of their type within of their parent element",selector:"apple:only-of-type",syntax:":only-of-type",doThis:"Select the apple on the middle plate",help:"Selects the only element of its type within another element.",examples:["<strong>p span:only-of-type</strong> selects a <tag>span</tag> within any <tag>p</tag> if it is the only <tag>span</tag> in there."],boardMarkup:'\n    <plate id="fancy">\n      <apple class="small"></apple>\n      <apple></apple>\n    </plate>\n    <plate>\n      <apple class="small"></apple>\n    </plate>\n    <plate>\n      <pickle></pickle>\n    </plate>\n    '},{id:12,selectorName:"Empty Selector",helpTitle:"Select elements that don't have children",doThis:"Select the empty bentos",selector:"bento:empty",syntax:":empty",help:"Selects elements that don't have any other elements inside of them.",examples:["<strong>div:empty</strong> selects all empty <tag>div</tag> elements."],boardMarkup:'\n    <bento></bento>\n    <bento>\n      <pickle class="small"></pickle>\n    </bento>\n    <plate></plate>\n    <bento></bento>'}];class a extends e{constructor(){super(...arguments),this.arrLevels=[]}render(e){this.aside=super.renderComponent("aside","levels-of-game__wrapper");const t=super.renderComponent("h2","sub-heading",{textContent:"Choose a level"});this.levelsList=super.renderComponent("ul","levels-list"),e.append(this.aside),this.aside.append(t,this.levelsList),this.addLevels(o,this.levelsList),this.levelsList.addEventListener("click",this.getDataLevel.bind(this)),this.onWinLevel()}addLevels(e,t){e.forEach(((e,n)=>{const s=super.renderComponent("span","levels-number",{textContent:String(Number(n+1))}),l=super.renderComponent("span","checkmark"),o=super.renderComponent("a","levels__link",{textContent:e.syntax});this.levelName=super.renderComponent("li","levels-list__name",{id:String(n)}),t.append(this.levelName),this.levelName.append(l,s,o),this.arrLevels.push(this.levelName)}))}getHeading(e){return o[e].doThis}getMarkupEditor(e){return o[e].boardMarkup}getSelector(e){return o[e].selector}getDataLevel(e){const t=e.target.closest(".levels-list__name");return this.levelID=+t.getAttribute("id"),this.onLevelChange(o[this.levelID]),t.classList.add("active"),console.log(o[this.levelID].id),this.controller.upDatelevel(o[this.levelID]),o[this.levelID]}onLevelChange(e){this.emitter.emit("updateLevel",e),this.arrLevels.forEach((e=>{e.classList.contains("active")&&e.classList.remove("active")}))}onWinLevel(){this.emitter.subscribe("winLevel",(e=>this.addCompletedClass(e))),this.levelID<o.length-1&&(this.levelID+=1)}addCompletedClass(e){document.getElementById(String(e.id)).classList.add("completed")}}class r extends e{render(e){this.footer=super.renderComponent("footer","footer");const t=super.renderComponent("div","footer__content-wrappter"),n=super.renderComponent("div","footer__text-wrappter"),s=super.renderComponent("a","footer__link",{textContent:"CSS Diner clone",href:"https://flukeout.github.io/"}),l=super.renderComponent("span","text-content",{textContent:" is made by "}),o=super.renderComponent("a","footer__link",{textContent:"MaleryValery",href:"https://github.com/MaleryValery"}),a=super.renderComponent("span","footer__year",{textContent:`${(new Date).getFullYear()}`}),r=super.renderComponent("a","footer__link-scholl",{href:"https://rs.school/js/"}),i=super.renderComponent("a","footer__link-github",{href:"https://flukeout.github.io/"});e.append(this.footer),this.footer.append(t),n.append(s,l,o,a),t.append(r,n,i)}}class i{constructor(){this.events={}}subscribe(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t),console.log(this.events)}unsubscribe(e,t){this.events[e]=this.events[e].filter((e=>t!==e))}emit(e,t){const n=this.events[e];n&&n.forEach((e=>e.call(this,t)))}}class p{constructor(){this.complitedLevels=[],this.eventEmitter=new i}upDatelevel(e){return this.currentLevel=o.find((t=>t.id===e.id)),console.log("controller",this.currentLevel),this.currentLevel}getCompletedLevels(e){return this.complitedLevels.push(e),this.complitedLevels}}(new class{constructor(){this.emitter=new i,this.controller=new p,this.header=new t,this.main=new n(this.emitter,this.controller),this.table=new s(this.emitter,this.controller),this.editor=new l(this.emitter,this.controller),this.aside=new a(this.emitter,this.controller),this.footer=new r,this.currentLevel=0}render(){const e=document.createElement("div"),t=document.createElement("div");t.classList.add("game-field__wrapper"),e.classList.add("wrapper"),document.body.append(e),e.append(t),this.header.render(t),this.main.render(t),this.table.render(this.main.main),this.editor.render(this.main.main),this.footer.render(t),this.aside.render(e)}chooseLevel(e){const t=document.querySelector(".sub-heading"),n=document.querySelector(".html-code"),s=e.target,l=document.querySelector(".table-top"),o=s.closest(".levels-list__name");if(l.innerHTML="",n.innerHTML="",o){document.querySelectorAll(".levels-list__name").forEach((e=>{e.classList.contains("active")&&e.classList.remove("active")}));const e=+o.id;this.currentLevel=e,o.classList.add("active"),t.textContent=this.aside.getHeading(this.currentLevel),l.insertAdjacentHTML("afterbegin",`${this.aside.getMarkupEditor(this.currentLevel)}`),n.insertAdjacentText("afterbegin",`<div class="table">${this.aside.getMarkupEditor(this.currentLevel)}\n</div>`)}}}).render()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBR2pELEtBQUtrSCxNQUFNZSxnQkFBZ0JqSSxLQUFLcUYsaUJBQzFFSCxFQUFTaUIsbUJBQW1CLGFBQWMsc0JBQXNCbkcsS0FBS2tILE1BQU1lLGdCQUFnQmpJLEtBQUtxRix3QkFHcEcsQ0FDSixJRHZEQXpFLFEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yc3MtY3NzLXNlbGVjdG9ycy8uL3NyYy9jb21wb25lbnRzL3ZpZXcudHMiLCJ3ZWJwYWNrOi8vcnNzLWNzcy1zZWxlY3RvcnMvLi9zcmMvY29tcG9uZW50cy9oZWFkZXIudHMiLCJ3ZWJwYWNrOi8vcnNzLWNzcy1zZWxlY3RvcnMvLi9zcmMvY29tcG9uZW50cy9tYWluLnRzIiwid2VicGFjazovL3Jzcy1jc3Mtc2VsZWN0b3JzLy4vc3JjL2NvbXBvbmVudHMvdGFibGUudHMiLCJ3ZWJwYWNrOi8vcnNzLWNzcy1zZWxlY3RvcnMvLi9zcmMvY29tcG9uZW50cy9lZGl0b3IudHMiLCJ3ZWJwYWNrOi8vcnNzLWNzcy1zZWxlY3RvcnMvLi9zcmMvY29tcG9uZW50cy9sZXZlbHMudHMiLCJ3ZWJwYWNrOi8vcnNzLWNzcy1zZWxlY3RvcnMvLi9zcmMvY29tcG9uZW50cy9hc2lkZS50cyIsIndlYnBhY2s6Ly9yc3MtY3NzLXNlbGVjdG9ycy8uL3NyYy9jb21wb25lbnRzL2Zvb3Rlci50cyIsIndlYnBhY2s6Ly9yc3MtY3NzLXNlbGVjdG9ycy8uL3NyYy9jb21wb25lbnRzL2VtaXR0ZXIudHMiLCJ3ZWJwYWNrOi8vcnNzLWNzcy1zZWxlY3RvcnMvLi9zcmMvY29tcG9uZW50cy9jb250cm9sbGVyLnRzIiwid2VicGFjazovL3Jzcy1jc3Mtc2VsZWN0b3JzLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL3Jzcy1jc3Mtc2VsZWN0b3JzLy4vc3JjL2NvbXBvbmVudHMvYXBwLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKGVtaXR0ZXIsIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgdGhpcy5lbWl0dGVyID0gZW1pdHRlcjtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB9XG4gICAgcmVuZGVyQ29tcG9uZW50KHRhZywgY2xhc3NOYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0Q29udGVudCkge1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgICAgIGNvbXBvbmVudC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICAgIGlmICh0ZXh0Q29udGVudClcbiAgICAgICAgICAgIGNvbXBvbmVudC50ZXh0Q29udGVudCA9IHRleHRDb250ZW50O1xuICAgICAgICBpZiAoYXR0cmlidXRlcylcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY29tcG9uZW50LCBhdHRyaWJ1dGVzKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICB9XG59XG5leHBvcnQgeyBWaWV3IH07XG4iLCJpbXBvcnQgeyBWaWV3IH0gZnJvbSAnLi92aWV3JztcbmNsYXNzIEhlYWRlciBleHRlbmRzIFZpZXcge1xuICAgIHJlbmRlcihwYXJlbnQpIHtcbiAgICAgICAgdGhpcy5oZWFkZXIgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ2hlYWRlcicsICdoZWFkZXInKTtcbiAgICAgICAgY29uc3QgaGVhZGluZyA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnaDEnLCAnaGVhZGluZycsIHsgdGV4dENvbnRlbnQ6ICdDU1MgU2VsZWN0b3JzJyB9KTtcbiAgICAgICAgY29uc3QgbmF2SGVhZGVyID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCduYXYnLCAnbmF2Jyk7XG4gICAgICAgIGNvbnN0IG5hdkxpc3QgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ3VsJywgJ25hdl9fbGlzdCBsaXN0Jyk7XG4gICAgICAgIGNvbnN0IGxpc3RFbGVtVHcgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ2xpJywgJ2xpc3RfX2l0ZW0nKTtcbiAgICAgICAgY29uc3QgbGlzdEVsZW1GYiA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnbGknLCAnbGlzdF9faXRlbScpO1xuICAgICAgICBjb25zdCBsaW5rVG9Ud2l0dGVyID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdhJywgJ2xpc3RfX2xpbmsgbGlzdF9fbGluay10dycsIHtcbiAgICAgICAgICAgIGhyZWY6ICdodHRwczovL3R3aXR0ZXIuY29tLz9sYW5nPXJ1JyxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGxpbmtUb0ZiID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdhJywgJ2xpc3RfX2xpbmsgbGlzdF9fbGluay1mYicsIHtcbiAgICAgICAgICAgIGhyZWY6ICdodHRwczovL3d3dy5mYWNlYm9vay5jb20vJyxcbiAgICAgICAgfSk7XG4gICAgICAgIHBhcmVudC5hcHBlbmQodGhpcy5oZWFkZXIpO1xuICAgICAgICB0aGlzLmhlYWRlci5hcHBlbmQoaGVhZGluZywgbmF2SGVhZGVyKTtcbiAgICAgICAgbmF2SGVhZGVyLmFwcGVuZChuYXZMaXN0KTtcbiAgICAgICAgbmF2TGlzdC5hcHBlbmQobGlzdEVsZW1UdywgbGlzdEVsZW1GYik7XG4gICAgICAgIGxpc3RFbGVtRmIuYXBwZW5kKGxpbmtUb1R3aXR0ZXIpO1xuICAgICAgICBsaXN0RWxlbVR3LmFwcGVuZChsaW5rVG9GYik7XG4gICAgfVxufVxuZXhwb3J0IHsgSGVhZGVyIH07XG4vLyBmdW5jdGlvbiBjcmVhdGVIZWFkZXIoKTogdm9pZCB7XG4vLyAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm9keScpO1xuLy8gICBjb25zdCBtYWluQ29udGVpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4vLyAgIG1haW5Db250ZWluZXIuY2xhc3NMaXN0LmFkZCgnd3JhcHBlcicpO1xuLy8gICBib2R5LmFwcGVuZChtYWluQ29udGVpbmVyKTtcbi8vICAgbWFpbkNvbnRlaW5lci5pbnNlcnRBZGphY2VudEhUTUwoXG4vLyAgICAgJ2FmdGVyYmVnaW4nLFxuLy8gICAgIGAgPGRpdiBjbGFzcz1cImdhbWUtZmllbGRfX3dyYXBwZXJcIj5cbi8vICAgICAgIDxoZWFkZXIgY2xhc3M9XCJoZWFkZXJcIj5cbi8vICAgICAgIDxoMSBjbGFzcz1cImhlYWRpbmdcIj5DU1MgU2VsZWN0b3JzPC9oMT5cbi8vICAgICAgIDxuYXYgY2xhc3M9XCJuYXZcIj5cbi8vICAgICAgIDx1bCBjbGFzcz1cIm5hdl9fbGlzdCBsaXN0XCI+XG4vLyAgICAgICAgIDxsaSBjbGFzcz1cImxpc3RfX2l0ZW1cIj48YSBjbGFzcz1cImxpc3RfX2xpbmsgbGlzdF9fbGluay1zY2hvb2xcIiBocmVmPVwiaHR0cHM6Ly9ycy5zY2hvb2wvanMvXCI+PC9hPjwvbGk+XG4vLyAgICAgICAgIDxsaSBjbGFzcz1cImxpc3RfX2l0ZW1cIj48YSBjbGFzcz1cImxpc3RfX2xpbmsgbGlzdF9fbGluay1naXRodWJcIiBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL01hbGVyeVZhbGVyeVwiPjwvYT48L2xpPlxuLy8gICAgICAgPC91bD5cbi8vICAgICA8L25hdj5cbi8vICAgICA8L2hlYWRlcj5cbi8vICAgICA8L2Rpdj5cbi8vICAgYCxcbi8vICAgKTtcbi8vIH1cbi8vIGV4cG9ydCB7IGNyZWF0ZUhlYWRlciB9O1xuIiwiaW1wb3J0IHsgVmlldyB9IGZyb20gJy4vdmlldyc7XG5jbGFzcyBNYWluIGV4dGVuZHMgVmlldyB7XG4gICAgLy8gY29uc3RydWN0b3IoKSB7fVxuICAgIHJlbmRlcihwYXJlbnQpIHtcbiAgICAgICAgdGhpcy5tYWluID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdkaXYnLCAnY29udGVudC1ib3gnKTtcbiAgICAgICAgY29uc3QgY29udGVudEJveCA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnZGl2JywgJ2NvbnRlbnQtYm94Jyk7XG4gICAgICAgIHRoaXMuaGVscGVyID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdidXR0b24nLCAnaGVscC1idXR0b24nLCB7fSwgJ2hlbHAgbWUhJyk7XG4gICAgICAgIHRoaXMuc3ViSGVhZGluZyA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnaDInLCAnc3ViLWhlYWRpbmcnLCB7IHRleHRDb250ZW50OiAnTmFtZSBvZiBsZXZlbCcgfSk7XG4gICAgICAgIHBhcmVudC5hcHBlbmQodGhpcy5tYWluKTtcbiAgICAgICAgdGhpcy5tYWluLmFwcGVuZChjb250ZW50Qm94KTtcbiAgICAgICAgY29udGVudEJveC5hcHBlbmQodGhpcy5zdWJIZWFkaW5nLCB0aGlzLmhlbHBlcik7XG4gICAgICAgIHRoaXMuaGVscGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkhlbHBDYWxsKTtcbiAgICAgICAgdGhpcy5vbkxldmVsQ2hhbmdlKCk7XG4gICAgfVxuICAgIC8vIFRPRE8gYWRkIGNvcnJlY3QgdHlwZSBhbmQgdmFsdWVcbiAgICBjaGFuZ2VIZWFkZXIobGV2ZWwpIHtcbiAgICAgICAgdGhpcy5zdWJIZWFkaW5nLnRleHRDb250ZW50ID0gbGV2ZWwuZG9UaGlzO1xuICAgIH1cbiAgICBvbkxldmVsQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLmVtaXR0ZXIuc3Vic2NyaWJlKCd1cGRhdGVMZXZlbCcsIChsZXZlbCkgPT4gdGhpcy5jaGFuZ2VIZWFkZXIobGV2ZWwpKTtcbiAgICB9XG4gICAgb25IZWxwQ2FsbCgpIHsgfVxufVxuZXhwb3J0IHsgTWFpbiB9O1xuIiwiLy8gaW1wb3J0IHsgbGV2ZWxzIH0gZnJvbSAnLi9sZXZlbHMnO1xuaW1wb3J0IHsgVmlldyB9IGZyb20gJy4vdmlldyc7XG5jbGFzcyBUYWJsZSBleHRlbmRzIFZpZXcge1xuICAgIHJlbmRlcihwYXJlbnQpIHtcbiAgICAgICAgY29uc3QgdGFibGVXcmFwcGVyID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdkaXYnLCAncGVyc3BlY3RpdmUgdGFibGUtd3JhcHBlcicpO1xuICAgICAgICBjb25zdCB0YWJsZUJveCA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnZGl2JywgJ3RhYmxlLWJveCcpO1xuICAgICAgICB0aGlzLnRhYmxlID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdkaXYnLCAndGFibGUnKTtcbiAgICAgICAgdGhpcy50YWJsZVRvcCA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnZGl2JywgJ3RhYmxlLXRvcCcpO1xuICAgICAgICBjb25zdCB0YWJsZUJvdHRvbSA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnZGl2JywgJ3RhYmxlLWJvdHRvbScpO1xuICAgICAgICBjb25zdCB0YWJsZUxlZnRMZWcgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ2RpdicsICd0YWJsZS1sZWcnKTtcbiAgICAgICAgY29uc3QgdGFibGVSaWdodExlZyA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnZGl2JywgJ3RhYmxlLWxlZycpO1xuICAgICAgICBwYXJlbnQuYXBwZW5kKHRhYmxlV3JhcHBlcik7XG4gICAgICAgIHRhYmxlV3JhcHBlci5hcHBlbmQodGFibGVCb3gpO1xuICAgICAgICB0YWJsZUJveC5hcHBlbmQodGhpcy50YWJsZSwgdGhpcy50YWJsZVRvcCk7XG4gICAgICAgIHRhYmxlV3JhcHBlci5hcHBlbmQodGFibGVCb3R0b20pO1xuICAgICAgICB0YWJsZUJvdHRvbS5hcHBlbmQodGFibGVMZWZ0TGVnLCB0YWJsZVJpZ2h0TGVnKTtcbiAgICAgICAgdGhpcy5vbkxldmVsQ2hhbmdlKCk7XG4gICAgICAgIHRoaXMub25Mb3NlTGV2ZWwoKTtcbiAgICAgICAgdGhpcy5vbldpbkxldmVsKCk7XG4gICAgICAgIC8vIHRoaXMudGFibGVUb3AuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5zaG93VGFibGUpO1xuICAgIH1cbiAgICBzaG93QXBwbGUobGV2ZWwpIHtcbiAgICAgICAgdGhpcy50YWJsZVRvcC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgdGhpcy50YWJsZVRvcC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBsZXZlbC5ib2FyZE1hcmt1cCk7XG4gICAgICAgIHRoaXMuZ2V0VGFibGVFbGVtZW50c0FuaW1hdGlvbihsZXZlbCwgJ2RhbmNlJyk7XG4gICAgfVxuICAgIG9uTGV2ZWxDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuZW1pdHRlci5zdWJzY3JpYmUoJ3VwZGF0ZUxldmVsJywgKGxldmVsKSA9PiB0aGlzLnNob3dBcHBsZShsZXZlbCkpO1xuICAgIH1cbiAgICBvbldpbkxldmVsKCkge1xuICAgICAgICB0aGlzLmVtaXR0ZXIuc3Vic2NyaWJlKCd3aW5MZXZlbCcsIChsZXZlbCkgPT4gdGhpcy5nZXRUYWJsZUVsZW1lbnRzQW5pbWF0aW9uKGxldmVsLCAnY2xlYW4nKSk7XG4gICAgfVxuICAgIG9uTG9zZUxldmVsKCkge1xuICAgICAgICB0aGlzLmVtaXR0ZXIuc3Vic2NyaWJlKCdsb3NlTGV2ZWwnLCAobGV2ZWwpID0+IHRoaXMuZ2V0VGFibGVFbGVtZW50c0FuaW1hdGlvbihsZXZlbCwgJ3NoYWtlJykpO1xuICAgIH1cbiAgICBnZXRUYWJsZUVsZW1lbnRzQW5pbWF0aW9uKGxldmVsLCBhbmltYXRpb24pIHtcbiAgICAgICAgY29uc3QgdGFibGVFbGVtZW50ID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC50YWJsZS10b3AgJHtsZXZlbC5zZWxlY3Rvcn1gKV07XG4gICAgICAgIGlmICh0YWJsZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRhYmxlRWxlbWVudC5mb3JFYWNoKChlbGVtZW50KSA9PiBlbGVtZW50LmNsYXNzTGlzdC5hZGQoYCR7YW5pbWF0aW9ufWApKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYW5pbWF0aW9uID09PSAnc2hha2UnKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0YWJsZUVsZW1lbnQuZm9yRWFjaCgoZWxlbWVudCkgPT4gZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGAke2FuaW1hdGlvbn1gKSk7XG4gICAgICAgICAgICB9LCAzMDApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhbmltYXRpb24gPT09ICdjbGVhbicpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRhYmxlRWxlbWVudC5mb3JFYWNoKChlbGVtZW50KSA9PiBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2RhbmNlJykpO1xuICAgICAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkhvdmVyRWRpdG9yKCkge1xuICAgICAgICB0aGlzLmVtaXR0ZXIuc3Vic2NyaWJlKCdob3ZlckVkaXRvcicsICh0YXJnZXQpID0+IHRoaXMuc2hvd1RhYmxlKHRhcmdldCkpO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzLCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgc2hvd1RhYmxlKHRhcmdldCkge1xuICAgICAgICBpZiAodGFyZ2V0ICE9PSAnZGl2Jykge1xuICAgICAgICAgICAgY29uc29sZS5sb2codGFyZ2V0LCB0YXJnZXQudG9FbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCB7IFRhYmxlIH07XG4iLCJpbXBvcnQgeyBWaWV3IH0gZnJvbSAnLi92aWV3Jztcbi8vIGltcG9ydCB7IGxldmVscyB9IGZyb20gJy4vbGV2ZWxzJztcbmNsYXNzIEVkaXRvciBleHRlbmRzIFZpZXcge1xuICAgIHJlbmRlcihwYXJlbnQpIHtcbiAgICAgICAgdGhpcy5lZGl0b3IgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ3NlY3Rpb24nLCAnZWRpdG9yX193cmFwcGVyJyk7XG4gICAgICAgIHRoaXMuZWRpdG9yQ3NzID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdkaXYnLCAnZWRpdG9yLWNzcycpO1xuICAgICAgICBjb25zdCBlZGl0b3JIZWFkaW5nID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdkaXYnLCAnZWRpdG9yX19oZWFkaW5nJyk7XG4gICAgICAgIGNvbnN0IHNwYW5UZXh0Q3NzID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdzcGFuJywgJ2VkaXRvcl9faGVhZGluZycsIHsgdGV4dENvbnRlbnQ6ICdDU1MgRWRpdG9yJyB9KTtcbiAgICAgICAgY29uc3QgbnVtYmVyc0xpbmVzQ1NTID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdzcGFuJywgJ2VkaXRvcl9fbGluZXMtbnVtYmVycycpO1xuICAgICAgICBjb25zdCBwcmUgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ3ByZScsICdjb2RlJywgeyB0ZXh0Q29udGVudDogJy8qVHlwZSBpbiBhIENTUyBzZWxlY3RvciovJyB9KTtcbiAgICAgICAgdGhpcy50ZXh0QXJlYSA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgndGV4dGFyZWEnLCAnZWRpdG9yX190ZXh0LWFyaWEnKTtcbiAgICAgICAgdGhpcy5lbnRlckJ0biA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnYnV0dG9uJywgJ2VudGVyLWJ1dHRvbicsIHtcbiAgICAgICAgICAgIHRleHRDb250ZW50OiAnRW50ZXInLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lZGl0b3JIVE1MID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdkaXYnLCAndmlld2VyLWNzcycpO1xuICAgICAgICBjb25zdCB2aWV3ZXJIZWFkaW5nID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdkaXYnLCAnZWRpdG9yX19oZWFkaW5nJyk7XG4gICAgICAgIGNvbnN0IHNwYW5UZXh0SFRNTCA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnc3BhbicsICdlZGl0b3JfX2hlYWRpbmcnLCB7IHRleHRDb250ZW50OiAnSFRNTCB2aWV3ZXInIH0pO1xuICAgICAgICBjb25zdCBudW1iZXJzTGluZXNIVE1MID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdzcGFuJywgJ3ZpZXdlcl9fbGluZXMtbnVtYmVycycpO1xuICAgICAgICBjb25zdCBodG1sQm94ID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdkaXYnLCAnaHRtbC1ib3gnKTtcbiAgICAgICAgdGhpcy5odG1sQ29kZSA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgncHJlJywgJ2h0bWwtY29kZScpO1xuICAgICAgICBwYXJlbnQuYXBwZW5kKHRoaXMuZWRpdG9yKTtcbiAgICAgICAgdGhpcy5lZGl0b3IuYXBwZW5kKHRoaXMuZWRpdG9yQ3NzLCB0aGlzLmVkaXRvckhUTUwpO1xuICAgICAgICB0aGlzLmVkaXRvckNzcy5hcHBlbmQoZWRpdG9ySGVhZGluZywgbnVtYmVyc0xpbmVzQ1NTLCBwcmUsIHRoaXMudGV4dEFyZWEsIHRoaXMuZW50ZXJCdG4pO1xuICAgICAgICBlZGl0b3JIZWFkaW5nLmFwcGVuZChzcGFuVGV4dENzcyk7XG4gICAgICAgIHRoaXMuZWRpdG9ySFRNTC5hcHBlbmQodmlld2VySGVhZGluZywgbnVtYmVyc0xpbmVzSFRNTCwgaHRtbEJveCk7XG4gICAgICAgIGh0bWxCb3guYXBwZW5kKHRoaXMuaHRtbENvZGUpO1xuICAgICAgICB2aWV3ZXJIZWFkaW5nLmFwcGVuZChzcGFuVGV4dEhUTUwpO1xuICAgICAgICB0aGlzLmNyZWF0ZUxpbmVzTnVtYmVycyhudW1iZXJzTGluZXNDU1MsIG51bWJlcnNMaW5lc0hUTUwpO1xuICAgICAgICB0aGlzLmVudGVyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jaGVja1NlbGVjdG9yKHRoaXMuY29udHJvbGxlci5jdXJyZW50TGV2ZWwsIHRoaXMudGV4dEFyZWEudmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50ZXh0QXJlYS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChlLmNvZGUgPT09ICdFbnRlcicpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja1NlbGVjdG9yKHRoaXMuY29udHJvbGxlci5jdXJyZW50TGV2ZWwsIHRoaXMudGV4dEFyZWEudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbkxldmVsQ2hhbmdlKCk7XG4gICAgfVxuICAgIGNyZWF0ZUxpbmVzTnVtYmVycyhudW1iZXJzTGluZXNDLCBudW1iZXJzTGluZXNIKSB7XG4gICAgICAgIGNvbnN0IGxpbmVzID0gQXJyYXkoMjApXG4gICAgICAgICAgICAuZmlsbCgwKVxuICAgICAgICAgICAgLm1hcCgoZWwsIGkpID0+IGkgKyAxKTtcbiAgICAgICAgbGluZXMuZm9yRWFjaCgobGluZSkgPT4ge1xuICAgICAgICAgICAgbnVtYmVyc0xpbmVzQy5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGAke2xpbmV9PGJyPmApO1xuICAgICAgICAgICAgbnVtYmVyc0xpbmVzSC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGAke2xpbmV9PGJyPmApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2hvd0NvZGUobGV2ZWwpIHtcbiAgICAgICAgdGhpcy50ZXh0QXJlYS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgdGhpcy5odG1sQ29kZS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgdGhpcy5odG1sQ29kZS5pbnNlcnRBZGphY2VudFRleHQoJ2FmdGVyYmVnaW4nLCBgPGRpdiBjbGFzcyA9IFwidGFibGVcIj5cXG4ke2xldmVsLmJvYXJkTWFya3VwfVxcbjwvZGl2PmApO1xuICAgIH1cbiAgICBvbkxldmVsQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLmVtaXR0ZXIuc3Vic2NyaWJlKCd1cGRhdGVMZXZlbCcsIChsZXZlbCkgPT4gdGhpcy5zaG93Q29kZShsZXZlbCkpO1xuICAgIH1cbiAgICBnZXRUZXh0QXJpYUNvbnRlbnQoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCd0ZXh0YXJpYScsIHRoaXMudGV4dEFyZWEudmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0QXJlYS52YWx1ZTtcbiAgICB9XG4gICAgY2hlY2tTZWxlY3RvcihsZXZlbCwgYW5zd2VyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjaGVjaycsIGxldmVsKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2NoZWNrIGFuc3dlcicsIGFuc3dlcik7XG4gICAgICAgIGlmIChsZXZlbC5zZWxlY3RvciAhPT0gYW5zd2VyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTExMT09PT09PU1NTRUVF8J+SpScpO1xuICAgICAgICAgICAgdGhpcy5lbWl0dGVyLmVtaXQoJ2xvc2VMZXZlbCcsIGxldmVsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGV2ZWwuc2VsZWN0b3IgPT09IGFuc3dlcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1dXV1dJSUlOTk5OTvCfjorwn46K8J+OivCfjorwn46KJyk7XG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuZ2V0Q29tcGxldGVkTGV2ZWxzKGxldmVsKTtcbiAgICAgICAgICAgIHRoaXMudGV4dEFyZWEudmFsdWUgPSAnJztcbiAgICAgICAgICAgIHRoaXMuZW1pdHRlci5lbWl0KCd3aW5MZXZlbCcsIGxldmVsKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCB7IEVkaXRvciB9O1xuIiwiY29uc3QgbGV2ZWxzID0gW1xuICAgIHtcbiAgICAgICAgaWQ6IDAsXG4gICAgICAgIGhlbHBUaXRsZTogJ1NlbGVjdCBlbGVtZW50cyBieSB0aGVpciB0eXBlJyxcbiAgICAgICAgc2VsZWN0b3JOYW1lOiAnVHlwZSBTZWxlY3RvcicsXG4gICAgICAgIGRvVGhpczogJ1NlbGVjdCB0aGUgcGxhdGVzJyxcbiAgICAgICAgc2VsZWN0b3I6ICdwbGF0ZScsXG4gICAgICAgIHN5bnRheDogJ0EnLFxuICAgICAgICBoZWxwOiAnU2VsZWN0cyBhbGwgZWxlbWVudHMgb2YgdHlwZSA8c3Ryb25nPkE8L3N0cm9uZz4uIFR5cGUgcmVmZXJzIHRvIHRoZSB0eXBlIG9mIHRhZywgc28gPHRhZz5kaXY8L3RhZz4sIDx0YWc+cDwvdGFnPiBhbmQgPHRhZz51bDwvdGFnPiBhcmUgYWxsIGRpZmZlcmVudCBlbGVtZW50IHR5cGVzLicsXG4gICAgICAgIGV4YW1wbGVzOiBbXG4gICAgICAgICAgICAnPHN0cm9uZz5kaXY8L3N0cm9uZz4gc2VsZWN0cyBhbGwgPHRhZz5kaXY8L3RhZz4gZWxlbWVudHMuJyxcbiAgICAgICAgICAgICc8c3Ryb25nPnA8L3N0cm9uZz4gc2VsZWN0cyBhbGwgPHRhZz5wPC90YWc+IGVsZW1lbnRzLicsXG4gICAgICAgIF0sXG4gICAgICAgIGJvYXJkTWFya3VwOiBgXG4gICAgPHBsYXRlPjwvcGxhdGU+XG4gICAgPHBsYXRlPjwvcGxhdGU+XG4gICAgYCxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgaWQ6IDEsXG4gICAgICAgIGRvVGhpczogJ1NlbGVjdCB0aGUgYmVudG8gYm94ZXMnLFxuICAgICAgICBzZWxlY3RvcjogJ2JlbnRvJyxcbiAgICAgICAgc3ludGF4OiAnQScsXG4gICAgICAgIGhlbHBUaXRsZTogJ1NlbGVjdCBlbGVtZW50cyBieSB0aGVpciB0eXBlJyxcbiAgICAgICAgc2VsZWN0b3JOYW1lOiAnVHlwZSBTZWxlY3RvcicsXG4gICAgICAgIGhlbHA6ICdTZWxlY3RzIGFsbCBlbGVtZW50cyBvZiB0eXBlIDxzdHJvbmc+QTwvc3Ryb25nPi4gVHlwZSByZWZlcnMgdG8gdGhlIHR5cGUgb2YgdGFnLCBzbyA8dGFnPmRpdjwvdGFnPiwgPHRhZz5wPC90YWc+IGFuZCA8dGFnPnVsPC90YWc+IGFyZSBhbGwgZGlmZmVyZW50IGVsZW1lbnQgdHlwZXMuJyxcbiAgICAgICAgZXhhbXBsZXM6IFtcbiAgICAgICAgICAgICc8c3Ryb25nPmRpdjwvc3Ryb25nPiBzZWxlY3RzIGFsbCA8dGFnPmRpdjwvdGFnPiBlbGVtZW50cy4nLFxuICAgICAgICAgICAgJzxzdHJvbmc+cDwvc3Ryb25nPiBzZWxlY3RzIGFsbCA8dGFnPnA8L3RhZz4gZWxlbWVudHMuJyxcbiAgICAgICAgXSxcbiAgICAgICAgYm9hcmRNYXJrdXA6IGBcbiAgICA8YmVudG8+PC9iZW50bz5cbiAgICA8cGxhdGU+PC9wbGF0ZT5cbiAgICA8YmVudG8+PC9iZW50bz5cbiAgICBgLFxuICAgIH0sXG4gICAge1xuICAgICAgICBpZDogMixcbiAgICAgICAgZG9UaGlzOiAnU2VsZWN0IHRoZSBmYW5jeSBwbGF0ZScsXG4gICAgICAgIHNlbGVjdG9yOiAnI2ZhbmN5JyxcbiAgICAgICAgc2VsZWN0b3JOYW1lOiAnSUQgU2VsZWN0b3InLFxuICAgICAgICBoZWxwVGl0bGU6ICdTZWxlY3QgZWxlbWVudHMgd2l0aCBhbiBJRCcsXG4gICAgICAgIHN5bnRheDogJyNpZCcsXG4gICAgICAgIGhlbHA6ICdTZWxlY3RzIHRoZSBlbGVtZW50IHdpdGggYSBzcGVjaWZpYyA8c3Ryb25nPmlkPC9zdHJvbmc+LiBZb3UgY2FuIGFsc28gY29tYmluZSB0aGUgSUQgc2VsZWN0b3Igd2l0aCB0aGUgdHlwZSBzZWxlY3Rvci4nLFxuICAgICAgICBleGFtcGxlczogW1xuICAgICAgICAgICAgJzxzdHJvbmc+I2Nvb2w8L3N0cm9uZz4gc2VsZWN0cyBhbnkgZWxlbWVudCB3aXRoIDxzdHJvbmc+aWQ9XCJjb29sXCI8L3N0cm9uZz4nLFxuICAgICAgICAgICAgJzxzdHJvbmc+dWwjbG9uZzwvc3Ryb25nPiBzZWxlY3RzIDx0YWc+dWwgaWQ9XCJsb25nXCI8L3RhZz4nLFxuICAgICAgICBdLFxuICAgICAgICBib2FyZE1hcmt1cDogYFxuICAgIDxwbGF0ZSBpZD1cImZhbmN5XCI+PC9wbGF0ZT5cbiAgICA8cGxhdGU+PC9wbGF0ZT5cbiAgICA8YmVudG8+PC9iZW50bz5cbiAgICBgLFxuICAgIH0sXG4gICAge1xuICAgICAgICBpZDogMyxcbiAgICAgICAgZG9UaGlzOiAnU2VsZWN0IHRoZSBzbWFsbCBhcHBsZXMnLFxuICAgICAgICBzZWxlY3RvcjogJy5zbWFsbCcsXG4gICAgICAgIHNlbGVjdG9yTmFtZTogJ0NsYXNzIFNlbGVjdG9yJyxcbiAgICAgICAgaGVscFRpdGxlOiAnU2VsZWN0IGVsZW1lbnRzIGJ5IHRoZWlyIGNsYXNzJyxcbiAgICAgICAgc3ludGF4OiAnLmNsYXNzbmFtZScsXG4gICAgICAgIGhlbHA6ICdUaGUgY2xhc3Mgc2VsZWN0b3Igc2VsZWN0cyBhbGwgZWxlbWVudHMgd2l0aCB0aGF0IGNsYXNzIGF0dHJpYnV0ZS4gRWxlbWVudHMgY2FuIG9ubHkgaGF2ZSBvbmUgSUQsIGJ1dCBtYW55IGNsYXNzZXMuJyxcbiAgICAgICAgZXhhbXBsZXM6IFsnPHN0cm9uZz4ubmVhdG88L3N0cm9uZz4gc2VsZWN0cyBhbGwgZWxlbWVudHMgd2l0aCA8c3Ryb25nPmNsYXNzPVwibmVhdG9cIjwvc3Ryb25nPiddLFxuICAgICAgICBib2FyZE1hcmt1cDogYFxuICAgIDxhcHBsZT48L2FwcGxlPlxuICAgIDxhcHBsZSBjbGFzcz1cInNtYWxsXCI+PC9hcHBsZT5cbiAgICA8cGxhdGU+XG4gICAgICA8YXBwbGUgY2xhc3M9XCJzbWFsbFwiPjwvYXBwbGU+XG4gICAgPC9wbGF0ZT5cbiAgICA8cGxhdGU+PC9wbGF0ZT5cbiAgICBgLFxuICAgIH0sXG4gICAge1xuICAgICAgICBpZDogNCxcbiAgICAgICAgZG9UaGlzOiAnU2VsZWN0IHRoZSBzbWFsbCBvcmFuZ2VzJyxcbiAgICAgICAgc2VsZWN0b3I6ICdvcmFuZ2Uuc21hbGwnLFxuICAgICAgICBoZWxwVGl0bGU6ICdDb21iaW5lIHRoZSBDbGFzcyBTZWxlY3RvcicsXG4gICAgICAgIHN5bnRheDogJ0EuY2xhc3NOYW1lJyxcbiAgICAgICAgaGVscDogJ1lvdSBjYW4gY29tYmluZSB0aGUgY2xhc3Mgc2VsZWN0b3Igd2l0aCBvdGhlciBzZWxlY3RvcnMsIGxpa2UgdGhlIHR5cGUgc2VsZWN0b3IuJyxcbiAgICAgICAgZXhhbXBsZXM6IFtcbiAgICAgICAgICAgICc8c3Ryb25nPnVsLmltcG9ydGFudDwvc3Ryb25nPiBzZWxlY3RzIGFsbCA8dGFnPnVsPC90YWc+IGVsZW1lbnRzIHRoYXQgaGF2ZSA8c3Ryb25nPmNsYXNzPVwiaW1wb3J0YW50XCI8L3N0cm9uZz4nLFxuICAgICAgICAgICAgJzxzdHJvbmc+I2JpZy53aWRlPC9zdHJvbmc+IHNlbGVjdHMgYWxsIGVsZW1lbnRzIHdpdGggPHN0cm9uZz5pZD1cImJpZ1wiPC9zdHJvbmc+IHRoYXQgYWxzbyBoYXZlIDxzdHJvbmc+Y2xhc3M9XCJ3aWRlXCI8L3N0cm9uZz4nLFxuICAgICAgICBdLFxuICAgICAgICBib2FyZE1hcmt1cDogYFxuICAgIDxhcHBsZT48L2FwcGxlPlxuICAgIDxhcHBsZSBjbGFzcz1cInNtYWxsXCI+PC9hcHBsZT5cbiAgICA8YmVudG8+XG4gICAgICA8b3JhbmdlIGNsYXNzPVwic21hbGxcIj48L29yYW5nZT5cbiAgICA8L2JlbnRvPlxuICAgIDxwbGF0ZT5cbiAgICAgIDxvcmFuZ2U+PC9vcmFuZ2U+XG4gICAgPC9wbGF0ZT5cbiAgICA8cGxhdGU+XG4gICAgICA8b3JhbmdlIGNsYXNzPVwic21hbGxcIj48L29yYW5nZT5cbiAgICA8L3BsYXRlPmAsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGlkOiA1LFxuICAgICAgICBkb1RoaXM6ICdTZWxlY3QgdGhlIHNtYWxsIG9yYW5nZXMgaW4gdGhlIGJlbnRvcycsXG4gICAgICAgIHNlbGVjdG9yOiAnYmVudG8gb3JhbmdlLnNtYWxsJyxcbiAgICAgICAgc3ludGF4OiAnUHV0IHlvdXIgYmFjayBpbnRvIGl0IScsXG4gICAgICAgIGhlbHBUaXRsZTogJ1lvdSBjYW4gZG8gaXQuLi4nLFxuICAgICAgICBoZWxwOiAnQ29tYmluZSB3aGF0IHlvdSBsZWFybmVkIGluIHRoZSBsYXN0IGZldyBsZXZlbHMgdG8gc29sdmUgdGhpcyBvbmUhJyxcbiAgICAgICAgYm9hcmRNYXJrdXA6IGBcbiAgICA8YmVudG8+XG4gICAgICA8b3JhbmdlPjwvb3JhbmdlPlxuICAgIDwvYmVudG8+XG4gICAgPG9yYW5nZSBjbGFzcz1cInNtYWxsXCI+PC9vcmFuZ2U+XG4gICAgPGJlbnRvPlxuICAgICAgPG9yYW5nZSBjbGFzcz1cInNtYWxsXCI+PC9vcmFuZ2U+XG4gICAgPC9iZW50bz5cbiAgICA8YmVudG8+XG4gICAgICA8YXBwbGUgY2xhc3M9XCJzbWFsbFwiPjwvYXBwbGU+XG4gICAgPC9iZW50bz5cbiAgICA8YmVudG8+XG4gICAgICA8b3JhbmdlIGNsYXNzPVwic21hbGxcIj48L29yYW5nZT5cbiAgICA8L2JlbnRvPlxuICAgIGAsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGlkOiA2LFxuICAgICAgICBkb1RoaXM6ICdTZWxlY3QgYWxsIHRoZSBwbGF0ZXMgYW5kIGJlbnRvcycsXG4gICAgICAgIHNlbGVjdG9yOiAncGxhdGUsYmVudG8nLFxuICAgICAgICBzZWxlY3Rvck5hbWU6ICdDb21tYSBDb21iaW5hdG9yJyxcbiAgICAgICAgaGVscFRpdGxlOiAnQ29tYmluZSwgc2VsZWN0b3JzLCB3aXRoLi4uIGNvbW1hcyEnLFxuICAgICAgICBzeW50YXg6ICdBLCBCJyxcbiAgICAgICAgaGVscDogJ1RoYW5rcyB0byBTaGF0bmVyIHRlY2hub2xvZ3ksIHRoaXMgc2VsZWN0cyBhbGwgPHN0cm9uZz5BPC9zdHJvbmc+IGFuZCA8c3Ryb25nPkI8L3N0cm9uZz4gZWxlbWVudHMuIFlvdSBjYW4gY29tYmluZSBhbnkgc2VsZWN0b3JzIHRoaXMgd2F5LCBhbmQgeW91IGNhbiBzcGVjaWZ5IG1vcmUgdGhhbiB0d28uJyxcbiAgICAgICAgZXhhbXBsZXM6IFtcbiAgICAgICAgICAgICc8c3Ryb25nPnAsIC5mdW48L3N0cm9uZz4gc2VsZWN0cyBhbGwgPHRhZz5wPC90YWc+IGVsZW1lbnRzIGFzIHdlbGwgYXMgYWxsIGVsZW1lbnRzIHdpdGggPHN0cm9uZz5jbGFzcz1cImZ1blwiPC9zdHJvbmc+JyxcbiAgICAgICAgICAgICc8c3Ryb25nPmEsIHAsIGRpdjwvc3Ryb25nPiBzZWxlY3RzIGFsbCA8dGFnPmE8L3RhZz4sIDx0YWc+cDwvdGFnPiBhbmQgPHRhZz5kaXY8L3RhZz4gZWxlbWVudHMnLFxuICAgICAgICBdLFxuICAgICAgICBib2FyZE1hcmt1cDogYFxuICAgIDxwaWNrbGU+PC9waWNrbGU+XG4gICAgPHBsYXRlPlxuICAgICAgPHBpY2tsZT48L3BpY2tsZT5cbiAgICA8L3BsYXRlPlxuICAgIDxiZW50bz5cbiAgICAgIDxwaWNrbGU+PC9waWNrbGU+XG4gICAgPC9iZW50bz5cbiAgICA8cGxhdGU+XG4gICAgICA8cGlja2xlPjwvcGlja2xlPlxuICAgIDwvcGxhdGU+XG4gICAgPHBpY2tsZT48L3BpY2tsZT5cbiAgICBgLFxuICAgIH0sXG4gICAge1xuICAgICAgICBpZDogNyxcbiAgICAgICAgZG9UaGlzOiAnU2VsZWN0IGFsbCB0aGUgdGhpbmdzIScsXG4gICAgICAgIHNlbGVjdG9yOiAnKicsXG4gICAgICAgIHNlbGVjdG9yTmFtZTogJ1RoZSBVbml2ZXJzYWwgU2VsZWN0b3InLFxuICAgICAgICBoZWxwVGl0bGU6ICdZb3UgY2FuIHNlbGVjdCBldmVyeXRoaW5nIScsXG4gICAgICAgIHN5bnRheDogJyonLFxuICAgICAgICBoZWxwOiAnWW91IGNhbiBzZWxlY3QgYWxsIGVsZW1lbnRzIHdpdGggdGhlIHVuaXZlcnNhbCBzZWxlY3RvciEgJyxcbiAgICAgICAgZXhhbXBsZXM6IFsnPHN0cm9uZz5wICo8L3N0cm9uZz4gc2VsZWN0cyBhbnkgZWxlbWVudCBpbnNpZGUgYWxsIDx0YWc+cDwvdGFnPiBlbGVtZW50cy4nXSxcbiAgICAgICAgYm9hcmRNYXJrdXA6IGBcbiAgICA8YXBwbGU+PC9hcHBsZT5cbiAgICA8cGxhdGU+XG4gICAgICA8b3JhbmdlIGNsYXNzPVwic21hbGxcIj48L29yYW5nZT5cbiAgICA8L3BsYXRlPlxuICAgIDxiZW50bz48L2JlbnRvPlxuICAgIDxiZW50bz5cbiAgICAgIDxvcmFuZ2U+PC9vcmFuZ2U+XG4gICAgPC9iZW50bz5cbiAgICBgLFxuICAgIH0sXG4gICAge1xuICAgICAgICBpZDogOCxcbiAgICAgICAgc2VsZWN0b3JOYW1lOiAnRmlyc3QgQ2hpbGQgUHNldWRvLXNlbGVjdG9yJyxcbiAgICAgICAgaGVscFRpdGxlOiAnU2VsZWN0IGEgZmlyc3QgY2hpbGQgZWxlbWVudCBpbnNpZGUgb2YgYW5vdGhlciBlbGVtZW50JyxcbiAgICAgICAgZG9UaGlzOiAnU2VsZWN0IHRoZSB0b3Agb3JhbmdlJyxcbiAgICAgICAgc2VsZWN0b3I6ICdwbGF0ZSA6Zmlyc3QtY2hpbGQnLFxuICAgICAgICBzeW50YXg6ICc6Zmlyc3QtY2hpbGQnLFxuICAgICAgICBoZWxwOiAnWW91IGNhbiBzZWxlY3QgdGhlIGZpcnN0IGNoaWxkIGVsZW1lbnQuIEEgY2hpbGQgZWxlbWVudCBpcyBhbnkgZWxlbWVudCB0aGF0IGlzIGRpcmVjdGx5IG5lc3RlZCBpbiBhbm90aGVyIGVsZW1lbnQuIFlvdSBjYW4gY29tYmluZSB0aGlzIHBzZXVkby1zZWxlY3RvciB3aXRoIG90aGVyIHNlbGVjdG9ycy4nLFxuICAgICAgICBleGFtcGxlczogW1xuICAgICAgICAgICAgJzxzdHJvbmc+OmZpcnN0LWNoaWxkPC9zdHJvbmc+IHNlbGVjdHMgYWxsIGZpcnN0IGNoaWxkIGVsZW1lbnRzLicsXG4gICAgICAgICAgICAnPHN0cm9uZz5wOmZpcnN0LWNoaWxkPC9zdHJvbmc+IHNlbGVjdHMgYWxsIGZpcnN0IGNoaWxkIDx0YWc+cDwvdGFnPiBlbGVtZW50cy4nLFxuICAgICAgICAgICAgJzxzdHJvbmc+ZGl2IHA6Zmlyc3QtY2hpbGQ8L3N0cm9uZz4gc2VsZWN0cyBhbGwgZmlyc3QgY2hpbGQgPHRhZz5wPC90YWc+IGVsZW1lbnRzIHRoYXQgYXJlIGluIGEgPHRhZz5kaXY8L3RhZz4uJyxcbiAgICAgICAgXSxcbiAgICAgICAgYm9hcmRNYXJrdXA6IGBcbiAgICA8YmVudG8+PC9iZW50bz5cbiAgICA8cGxhdGU+PC9wbGF0ZT5cbiAgICA8cGxhdGU+XG4gICAgICA8b3JhbmdlPjwvb3JhbmdlPlxuICAgICAgPG9yYW5nZT48L29yYW5nZT5cbiAgICAgIDxvcmFuZ2U+PC9vcmFuZ2U+XG4gICAgPC9wbGF0ZT5cbiAgICA8cGlja2xlIGNsYXNzPVwic21hbGxcIj48L3BpY2tsZT5gLFxuICAgIH0sXG4gICAge1xuICAgICAgICBpZDogOSxcbiAgICAgICAgc2VsZWN0b3JOYW1lOiAnR2VuZXJhbCBTaWJsaW5nIFNlbGVjdG9yJyxcbiAgICAgICAgaGVscFRpdGxlOiAnU2VsZWN0IGVsZW1lbnRzIHRoYXQgZm9sbG93cyBhbm90aGVyIGVsZW1lbnQnLFxuICAgICAgICBzeW50YXg6ICdBIH4gQicsXG4gICAgICAgIGRvVGhpczogJ1NlbGVjdCB0aGUgcGlja2xlcyBiZXNpZGUgdGhlIGJlbnRvJyxcbiAgICAgICAgc2VsZWN0b3I6ICdiZW50byB+IHBpY2tsZScsXG4gICAgICAgIGhlbHA6ICdZb3UgY2FuIHNlbGVjdCBhbGwgc2libGluZ3Mgb2YgYW4gZWxlbWVudCB0aGF0IGZvbGxvdyBpdC4gVGhpcyBpcyBsaWtlIHRoZSBBZGphY2VudCBTZWxlY3RvciAoQSArIEIpIGV4Y2VwdCBpdCBnZXRzIGFsbCBvZiB0aGUgZm9sbG93aW5nIGVsZW1lbnRzIGluc3RlYWQgb2Ygb25lLicsXG4gICAgICAgIGV4YW1wbGVzOiBbJzxzdHJvbmc+QSB+IEI8L3N0cm9uZz4gc2VsZWN0cyBhbGwgPHN0cm9uZz5CPC9zdHJvbmc+IHRoYXQgZm9sbG93IGEgPHN0cm9uZz5BPC9zdHJvbmc+J10sXG4gICAgICAgIGJvYXJkTWFya3VwOiBgXG4gICAgPHBpY2tsZT48L3BpY2tsZT5cbiAgICA8YmVudG8+XG4gICAgICA8b3JhbmdlIGNsYXNzPVwic21hbGxcIj48L29yYW5nZT5cbiAgICA8L2JlbnRvPlxuICAgIDxwaWNrbGUgY2xhc3M9XCJzbWFsbFwiPjwvcGlja2xlPlxuICAgIDxwaWNrbGU+PC9waWNrbGU+XG4gICAgPHBsYXRlPlxuICAgICAgPHBpY2tsZT48L3BpY2tsZT5cbiAgICA8L3BsYXRlPlxuICAgIDxwbGF0ZT5cbiAgICAgIDxwaWNrbGUgY2xhc3M9XCJzbWFsbFwiPjwvcGlja2xlPlxuICAgIDwvcGxhdGU+XG4gICAgYCxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgaWQ6IDEwLFxuICAgICAgICBzZWxlY3Rvck5hbWU6ICdOdGggb2YgVHlwZSBTZWxlY3RvcicsXG4gICAgICAgIGRvVGhpczogJ1NlbGVjdCBhbGwgZXZlbiBwbGF0ZXMnLFxuICAgICAgICBzZWxlY3RvcjogJ3BsYXRlOm50aC1vZi10eXBlKGV2ZW4pJyxcbiAgICAgICAgc3ludGF4OiAnOm50aC1vZi10eXBlKEEpJyxcbiAgICAgICAgaGVscDogJ1NlbGVjdHMgYSBzcGVjaWZpYyBlbGVtZW50IGJhc2VkIG9uIGl0cyB0eXBlIGFuZCBvcmRlciBpbiBhbm90aGVyIGVsZW1lbnQgLSBvciBldmVuIG9yIG9kZCBpbnN0YW5jZXMgb2YgdGhhdCBlbGVtZW50LicsXG4gICAgICAgIGV4YW1wbGVzOiBbXG4gICAgICAgICAgICAnPHN0cm9uZz5kaXY6bnRoLW9mLXR5cGUoMik8L3N0cm9uZz4gc2VsZWN0cyB0aGUgc2Vjb25kIGluc3RhbmNlIG9mIGEgZGl2LicsXG4gICAgICAgICAgICAnPHN0cm9uZz4uZXhhbXBsZTpudGgtb2YtdHlwZShvZGQpPC9zdHJvbmc+IHNlbGVjdHMgYWxsIG9kZCBpbnN0YW5jZXMgb2YgYSB0aGUgZXhhbXBsZSBjbGFzcy4nLFxuICAgICAgICBdLFxuICAgICAgICBib2FyZE1hcmt1cDogYFxuICAgIDxwbGF0ZT48L3BsYXRlPlxuICAgIDxwbGF0ZT48L3BsYXRlPlxuICAgIDxwbGF0ZT48L3BsYXRlPlxuICAgIDxwbGF0ZT48L3BsYXRlPlxuICAgIGAsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGlkOiAxMSxcbiAgICAgICAgc2VsZWN0b3JOYW1lOiAnT25seSBvZiBUeXBlIFNlbGVjdG9yJyxcbiAgICAgICAgaGVscFRpdGxlOiAnU2VsZWN0IGVsZW1lbnRzIHRoYXQgYXJlIHRoZSBvbmx5IG9uZXMgb2YgdGhlaXIgdHlwZSB3aXRoaW4gb2YgdGhlaXIgcGFyZW50IGVsZW1lbnQnLFxuICAgICAgICBzZWxlY3RvcjogJ2FwcGxlOm9ubHktb2YtdHlwZScsXG4gICAgICAgIHN5bnRheDogJzpvbmx5LW9mLXR5cGUnLFxuICAgICAgICBkb1RoaXM6ICdTZWxlY3QgdGhlIGFwcGxlIG9uIHRoZSBtaWRkbGUgcGxhdGUnLFxuICAgICAgICBoZWxwOiAnU2VsZWN0cyB0aGUgb25seSBlbGVtZW50IG9mIGl0cyB0eXBlIHdpdGhpbiBhbm90aGVyIGVsZW1lbnQuJyxcbiAgICAgICAgZXhhbXBsZXM6IFtcbiAgICAgICAgICAgICc8c3Ryb25nPnAgc3Bhbjpvbmx5LW9mLXR5cGU8L3N0cm9uZz4gc2VsZWN0cyBhIDx0YWc+c3BhbjwvdGFnPiB3aXRoaW4gYW55IDx0YWc+cDwvdGFnPiBpZiBpdCBpcyB0aGUgb25seSA8dGFnPnNwYW48L3RhZz4gaW4gdGhlcmUuJyxcbiAgICAgICAgXSxcbiAgICAgICAgYm9hcmRNYXJrdXA6IGBcbiAgICA8cGxhdGUgaWQ9XCJmYW5jeVwiPlxuICAgICAgPGFwcGxlIGNsYXNzPVwic21hbGxcIj48L2FwcGxlPlxuICAgICAgPGFwcGxlPjwvYXBwbGU+XG4gICAgPC9wbGF0ZT5cbiAgICA8cGxhdGU+XG4gICAgICA8YXBwbGUgY2xhc3M9XCJzbWFsbFwiPjwvYXBwbGU+XG4gICAgPC9wbGF0ZT5cbiAgICA8cGxhdGU+XG4gICAgICA8cGlja2xlPjwvcGlja2xlPlxuICAgIDwvcGxhdGU+XG4gICAgYCxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgaWQ6IDEyLFxuICAgICAgICBzZWxlY3Rvck5hbWU6ICdFbXB0eSBTZWxlY3RvcicsXG4gICAgICAgIGhlbHBUaXRsZTogXCJTZWxlY3QgZWxlbWVudHMgdGhhdCBkb24ndCBoYXZlIGNoaWxkcmVuXCIsXG4gICAgICAgIGRvVGhpczogJ1NlbGVjdCB0aGUgZW1wdHkgYmVudG9zJyxcbiAgICAgICAgc2VsZWN0b3I6ICdiZW50bzplbXB0eScsXG4gICAgICAgIHN5bnRheDogJzplbXB0eScsXG4gICAgICAgIGhlbHA6IFwiU2VsZWN0cyBlbGVtZW50cyB0aGF0IGRvbid0IGhhdmUgYW55IG90aGVyIGVsZW1lbnRzIGluc2lkZSBvZiB0aGVtLlwiLFxuICAgICAgICBleGFtcGxlczogWyc8c3Ryb25nPmRpdjplbXB0eTwvc3Ryb25nPiBzZWxlY3RzIGFsbCBlbXB0eSA8dGFnPmRpdjwvdGFnPiBlbGVtZW50cy4nXSxcbiAgICAgICAgYm9hcmRNYXJrdXA6IGBcbiAgICA8YmVudG8+PC9iZW50bz5cbiAgICA8YmVudG8+XG4gICAgICA8cGlja2xlIGNsYXNzPVwic21hbGxcIj48L3BpY2tsZT5cbiAgICA8L2JlbnRvPlxuICAgIDxwbGF0ZT48L3BsYXRlPlxuICAgIDxiZW50bz48L2JlbnRvPmAsXG4gICAgfSxcbl07XG5leHBvcnQgeyBsZXZlbHMgfTtcbiIsImltcG9ydCB7IGxldmVscyB9IGZyb20gJy4vbGV2ZWxzJztcbmltcG9ydCB7IFZpZXcgfSBmcm9tICcuL3ZpZXcnO1xuLy8gaW1wb3J0IHsgY29udHJvbGxlciB9IGZyb20gJy4vY29udHJvbGxlcic7XG5jbGFzcyBBc2lkZSBleHRlbmRzIFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmFyckxldmVscyA9IFtdO1xuICAgIH1cbiAgICByZW5kZXIocGFyZW50KSB7XG4gICAgICAgIHRoaXMuYXNpZGUgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ2FzaWRlJywgJ2xldmVscy1vZi1nYW1lX193cmFwcGVyJyk7XG4gICAgICAgIGNvbnN0IGFzaWRlSGVhZGluZyA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnaDInLCAnc3ViLWhlYWRpbmcnLCB7XG4gICAgICAgICAgICB0ZXh0Q29udGVudDogJ0Nob29zZSBhIGxldmVsJyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGV2ZWxzTGlzdCA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgndWwnLCAnbGV2ZWxzLWxpc3QnKTtcbiAgICAgICAgcGFyZW50LmFwcGVuZCh0aGlzLmFzaWRlKTtcbiAgICAgICAgdGhpcy5hc2lkZS5hcHBlbmQoYXNpZGVIZWFkaW5nLCB0aGlzLmxldmVsc0xpc3QpO1xuICAgICAgICB0aGlzLmFkZExldmVscyhsZXZlbHMsIHRoaXMubGV2ZWxzTGlzdCk7XG4gICAgICAgIHRoaXMubGV2ZWxzTGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZ2V0RGF0YUxldmVsLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLm9uV2luTGV2ZWwoKTtcbiAgICB9XG4gICAgYWRkTGV2ZWxzKGxpc3QsIGxldmVsc0xpc3QpIHtcbiAgICAgICAgbGlzdC5mb3JFYWNoKChlbGVtZW50LCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnc3BhbicsICdsZXZlbHMtbnVtYmVyJywgeyB0ZXh0Q29udGVudDogU3RyaW5nKE51bWJlcihpICsgMSkpIH0pO1xuICAgICAgICAgICAgY29uc3QgY2hlY2tNYXJrID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdzcGFuJywgJ2NoZWNrbWFyaycpO1xuICAgICAgICAgICAgY29uc3QgbGlua0xldmVsID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdhJywgJ2xldmVsc19fbGluaycsIHsgdGV4dENvbnRlbnQ6IGVsZW1lbnQuc3ludGF4IH0pO1xuICAgICAgICAgICAgdGhpcy5sZXZlbE5hbWUgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ2xpJywgJ2xldmVscy1saXN0X19uYW1lJywgeyBpZDogU3RyaW5nKGkpIH0pO1xuICAgICAgICAgICAgbGV2ZWxzTGlzdC5hcHBlbmQodGhpcy5sZXZlbE5hbWUpO1xuICAgICAgICAgICAgdGhpcy5sZXZlbE5hbWUuYXBwZW5kKGNoZWNrTWFyaywgaW5kZXgsIGxpbmtMZXZlbCk7XG4gICAgICAgICAgICB0aGlzLmFyckxldmVscy5wdXNoKHRoaXMubGV2ZWxOYW1lKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldEhlYWRpbmcoaWQpIHtcbiAgICAgICAgcmV0dXJuIGxldmVsc1tpZF0uZG9UaGlzO1xuICAgIH1cbiAgICBnZXRNYXJrdXBFZGl0b3IoaWQpIHtcbiAgICAgICAgcmV0dXJuIGxldmVsc1tpZF0uYm9hcmRNYXJrdXA7XG4gICAgfVxuICAgIGdldFNlbGVjdG9yKGlkKSB7XG4gICAgICAgIHJldHVybiBsZXZlbHNbaWRdLnNlbGVjdG9yO1xuICAgIH1cbiAgICBnZXREYXRhTGV2ZWwoZSkge1xuICAgICAgICBjb25zdCBldmVudFRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgICBjb25zdCBsZXZlbE5hbWUgPSBldmVudFRhcmdldC5jbG9zZXN0KCcubGV2ZWxzLWxpc3RfX25hbWUnKTtcbiAgICAgICAgdGhpcy5sZXZlbElEID0gK2xldmVsTmFtZS5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgICAgIHRoaXMub25MZXZlbENoYW5nZShsZXZlbHNbdGhpcy5sZXZlbElEXSk7XG4gICAgICAgIGxldmVsTmFtZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgY29uc29sZS5sb2cobGV2ZWxzW3RoaXMubGV2ZWxJRF0uaWQpO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIudXBEYXRlbGV2ZWwobGV2ZWxzW3RoaXMubGV2ZWxJRF0pO1xuICAgICAgICByZXR1cm4gbGV2ZWxzW3RoaXMubGV2ZWxJRF07XG4gICAgfVxuICAgIG9uTGV2ZWxDaGFuZ2UobGV2ZWwpIHtcbiAgICAgICAgdGhpcy5lbWl0dGVyLmVtaXQoJ3VwZGF0ZUxldmVsJywgbGV2ZWwpO1xuICAgICAgICB0aGlzLmFyckxldmVscy5mb3JFYWNoKChsZXZlbE5hbWUpID0+IHtcbiAgICAgICAgICAgIGlmIChsZXZlbE5hbWUuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSlcbiAgICAgICAgICAgICAgICBsZXZlbE5hbWUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbldpbkxldmVsKCkge1xuICAgICAgICB0aGlzLmVtaXR0ZXIuc3Vic2NyaWJlKCd3aW5MZXZlbCcsIChsZXZlbCkgPT4gdGhpcy5hZGRDb21wbGV0ZWRDbGFzcyhsZXZlbCkpO1xuICAgICAgICBpZiAodGhpcy5sZXZlbElEIDwgbGV2ZWxzLmxlbmd0aCAtIDEpXG4gICAgICAgICAgICB0aGlzLmxldmVsSUQgKz0gMTtcbiAgICB9XG4gICAgYWRkQ29tcGxldGVkQ2xhc3MobGV2ZWwpIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoU3RyaW5nKGxldmVsLmlkKSkuY2xhc3NMaXN0LmFkZCgnY29tcGxldGVkJyk7XG4gICAgfVxufVxuZXhwb3J0IHsgQXNpZGUgfTtcbiIsImltcG9ydCB7IFZpZXcgfSBmcm9tICcuL3ZpZXcnO1xuY2xhc3MgRm9vdGVyIGV4dGVuZHMgVmlldyB7XG4gICAgcmVuZGVyKHBhcmVudCkge1xuICAgICAgICB0aGlzLmZvb3RlciA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnZm9vdGVyJywgJ2Zvb3RlcicpO1xuICAgICAgICBjb25zdCBmb290ZXJDb250ZW50Qm94ID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdkaXYnLCAnZm9vdGVyX19jb250ZW50LXdyYXBwdGVyJyk7XG4gICAgICAgIGNvbnN0IHRleEJveCA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnZGl2JywgJ2Zvb3Rlcl9fdGV4dC13cmFwcHRlcicpO1xuICAgICAgICBjb25zdCBsaW5rVG9PcmlnaW4gPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ2EnLCAnZm9vdGVyX19saW5rJywge1xuICAgICAgICAgICAgdGV4dENvbnRlbnQ6ICdDU1MgRGluZXIgY2xvbmUnLFxuICAgICAgICAgICAgaHJlZjogJ2h0dHBzOi8vZmx1a2VvdXQuZ2l0aHViLmlvLycsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB0ZXh0Q29udGVudCA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnc3BhbicsICd0ZXh0LWNvbnRlbnQnLCB7XG4gICAgICAgICAgICB0ZXh0Q29udGVudDogJyBpcyBtYWRlIGJ5ICcsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBsaW5rVG9TdHVkZW50ID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdhJywgJ2Zvb3Rlcl9fbGluaycsIHtcbiAgICAgICAgICAgIHRleHRDb250ZW50OiAnTWFsZXJ5VmFsZXJ5JyxcbiAgICAgICAgICAgIGhyZWY6ICdodHRwczovL2dpdGh1Yi5jb20vTWFsZXJ5VmFsZXJ5JyxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHllYXIgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ3NwYW4nLCAnZm9vdGVyX195ZWFyJywge1xuICAgICAgICAgICAgdGV4dENvbnRlbnQ6IGAke25ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKX1gLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaW1nU2Nob29sID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdhJywgJ2Zvb3Rlcl9fbGluay1zY2hvbGwnLCB7XG4gICAgICAgICAgICBocmVmOiAnaHR0cHM6Ly9ycy5zY2hvb2wvanMvJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGltZ0dpdGh1YiA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnYScsICdmb290ZXJfX2xpbmstZ2l0aHViJywge1xuICAgICAgICAgICAgaHJlZjogJ2h0dHBzOi8vZmx1a2VvdXQuZ2l0aHViLmlvLycsXG4gICAgICAgIH0pO1xuICAgICAgICBwYXJlbnQuYXBwZW5kKHRoaXMuZm9vdGVyKTtcbiAgICAgICAgdGhpcy5mb290ZXIuYXBwZW5kKGZvb3RlckNvbnRlbnRCb3gpO1xuICAgICAgICB0ZXhCb3guYXBwZW5kKGxpbmtUb09yaWdpbiwgdGV4dENvbnRlbnQsIGxpbmtUb1N0dWRlbnQsIHllYXIpO1xuICAgICAgICBmb290ZXJDb250ZW50Qm94LmFwcGVuZChpbWdTY2hvb2wsIHRleEJveCwgaW1nR2l0aHViKTtcbiAgICB9XG59XG5leHBvcnQgeyBGb290ZXIgfTtcbiIsImNsYXNzIEV2ZW50RW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzID0ge307XG4gICAgfVxuICAgIHN1YnNjcmliZShldmVudE5hbWUsIFxuICAgIC8vIFRPRE8gcmV0dXJuIHR5cGVzIGFmdGVyIGNoZWNrXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBmbikge1xuICAgICAgICBpZiAoIXRoaXMuZXZlbnRzW2V2ZW50TmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50c1tldmVudE5hbWVdLnB1c2goZm4pO1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmV2ZW50cyk7XG4gICAgfVxuICAgIHVuc3Vic2NyaWJlKGV2ZW50TmFtZSwgZm4pIHtcbiAgICAgICAgdGhpcy5ldmVudHNbZXZlbnROYW1lXSA9IHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0uZmlsdGVyKChldmVudENhbGxiYWNrKSA9PiBmbiAhPT0gZXZlbnRDYWxsYmFjayk7XG4gICAgfVxuICAgIGVtaXQoZXZlbnROYW1lLCBhcmdzKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5ldmVudHNbZXZlbnROYW1lXTtcbiAgICAgICAgaWYgKGV2ZW50KVxuICAgICAgICAgICAgZXZlbnQuZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrLmNhbGwodGhpcywgYXJncykpO1xuICAgIH1cbn1cbmV4cG9ydCB7IEV2ZW50RW1pdHRlciB9O1xuIiwiaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnLi9lbWl0dGVyJztcbmltcG9ydCB7IGxldmVscyB9IGZyb20gJy4vbGV2ZWxzJztcbmV4cG9ydCBjbGFzcyBDb250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jb21wbGl0ZWRMZXZlbHMgPSBbXTtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgfVxuICAgIC8vIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vICAgW3RoaXMuY3VycmVudExldmVsXSA9IGxldmVscztcbiAgICAvLyB9XG4gICAgdXBEYXRlbGV2ZWwodGFrZW5MZXZlbCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRMZXZlbCA9IGxldmVscy5maW5kKChsZXZlbCkgPT4gbGV2ZWwuaWQgPT09IHRha2VuTGV2ZWwuaWQpO1xuICAgICAgICBjb25zb2xlLmxvZygnY29udHJvbGxlcicsIHRoaXMuY3VycmVudExldmVsKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudExldmVsO1xuICAgIH1cbiAgICBnZXRDb21wbGV0ZWRMZXZlbHMobGV2ZWwpIHtcbiAgICAgICAgdGhpcy5jb21wbGl0ZWRMZXZlbHMucHVzaChsZXZlbCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBsaXRlZExldmVscztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBcHAgfSBmcm9tICcuL2NvbXBvbmVudHMvYXBwJztcbmNvbnN0IGFwcCA9IG5ldyBBcHAoKTtcbmFwcC5yZW5kZXIoKTtcbiIsImltcG9ydCB7IEhlYWRlciB9IGZyb20gJy4vaGVhZGVyJztcbmltcG9ydCB7IE1haW4gfSBmcm9tICcuL21haW4nO1xuaW1wb3J0IHsgVGFibGUgfSBmcm9tICcuL3RhYmxlJztcbmltcG9ydCB7IEVkaXRvciB9IGZyb20gJy4vZWRpdG9yJztcbmltcG9ydCB7IEFzaWRlIH0gZnJvbSAnLi9hc2lkZSc7XG5pbXBvcnQgeyBGb290ZXIgfSBmcm9tICcuL2Zvb3Rlcic7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICcuL2VtaXR0ZXInO1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gJy4vY29udHJvbGxlcic7XG5jbGFzcyBBcHAge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKCk7XG4gICAgICAgIHRoaXMuaGVhZGVyID0gbmV3IEhlYWRlcigpO1xuICAgICAgICB0aGlzLm1haW4gPSBuZXcgTWFpbih0aGlzLmVtaXR0ZXIsIHRoaXMuY29udHJvbGxlcik7XG4gICAgICAgIHRoaXMudGFibGUgPSBuZXcgVGFibGUodGhpcy5lbWl0dGVyLCB0aGlzLmNvbnRyb2xsZXIpO1xuICAgICAgICB0aGlzLmVkaXRvciA9IG5ldyBFZGl0b3IodGhpcy5lbWl0dGVyLCB0aGlzLmNvbnRyb2xsZXIpO1xuICAgICAgICB0aGlzLmFzaWRlID0gbmV3IEFzaWRlKHRoaXMuZW1pdHRlciwgdGhpcy5jb250cm9sbGVyKTtcbiAgICAgICAgdGhpcy5mb290ZXIgPSBuZXcgRm9vdGVyKCk7XG4gICAgICAgIHRoaXMuY3VycmVudExldmVsID0gMDtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBtYWluQ29udGVpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnN0IGZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGZpZWxkLmNsYXNzTGlzdC5hZGQoJ2dhbWUtZmllbGRfX3dyYXBwZXInKTtcbiAgICAgICAgbWFpbkNvbnRlaW5lci5jbGFzc0xpc3QuYWRkKCd3cmFwcGVyJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKG1haW5Db250ZWluZXIpO1xuICAgICAgICBtYWluQ29udGVpbmVyLmFwcGVuZChmaWVsZCk7XG4gICAgICAgIHRoaXMuaGVhZGVyLnJlbmRlcihmaWVsZCk7XG4gICAgICAgIHRoaXMubWFpbi5yZW5kZXIoZmllbGQpO1xuICAgICAgICB0aGlzLnRhYmxlLnJlbmRlcih0aGlzLm1haW4ubWFpbik7XG4gICAgICAgIHRoaXMuZWRpdG9yLnJlbmRlcih0aGlzLm1haW4ubWFpbik7XG4gICAgICAgIHRoaXMuZm9vdGVyLnJlbmRlcihmaWVsZCk7XG4gICAgICAgIHRoaXMuYXNpZGUucmVuZGVyKG1haW5Db250ZWluZXIpO1xuICAgIH1cbiAgICBjaG9vc2VMZXZlbChlKSB7XG4gICAgICAgIGNvbnN0IG1haW5IZWFkaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN1Yi1oZWFkaW5nJyk7XG4gICAgICAgIGNvbnN0IGh0bWxDb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmh0bWwtY29kZScpO1xuICAgICAgICBjb25zdCBlbGVtZW50VGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhYmxlLXRvcCcpO1xuICAgICAgICBjb25zdCBsaXN0SXRlbSA9IGVsZW1lbnRUYXJnZXQuY2xvc2VzdCgnLmxldmVscy1saXN0X19uYW1lJyk7XG4gICAgICAgIHRhYmxlLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBodG1sQ29kZS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgaWYgKGxpc3RJdGVtKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubGV2ZWxzLWxpc3RfX25hbWUnKTtcbiAgICAgICAgICAgIGxpc3RJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSlcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgaWQgPSArbGlzdEl0ZW0uaWQ7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRMZXZlbCA9IGlkO1xuICAgICAgICAgICAgbGlzdEl0ZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICBtYWluSGVhZGluZy50ZXh0Q29udGVudCA9IHRoaXMuYXNpZGUuZ2V0SGVhZGluZyh0aGlzLmN1cnJlbnRMZXZlbCk7XG4gICAgICAgICAgICB0YWJsZS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBgJHt0aGlzLmFzaWRlLmdldE1hcmt1cEVkaXRvcih0aGlzLmN1cnJlbnRMZXZlbCl9YCk7XG4gICAgICAgICAgICBodG1sQ29kZS5pbnNlcnRBZGphY2VudFRleHQoJ2FmdGVyYmVnaW4nLCBgPGRpdiBjbGFzcz1cInRhYmxlXCI+JHt0aGlzLmFzaWRlLmdldE1hcmt1cEVkaXRvcih0aGlzLmN1cnJlbnRMZXZlbCl9XFxuPC9kaXY+YCk7XG4gICAgICAgICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIC8vIH0sIDIwMCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgeyBBcHAgfTtcbiJdLCJuYW1lcyI6WyJWaWV3IiwiY29uc3RydWN0b3IiLCJlbWl0dGVyIiwiY29udHJvbGxlciIsInRoaXMiLCJyZW5kZXJDb21wb25lbnQiLCJ0YWciLCJjbGFzc05hbWUiLCJhdHRyaWJ1dGVzIiwidGV4dENvbnRlbnQiLCJjb21wb25lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJPYmplY3QiLCJhc3NpZ24iLCJIZWFkZXIiLCJyZW5kZXIiLCJwYXJlbnQiLCJoZWFkZXIiLCJzdXBlciIsImhlYWRpbmciLCJuYXZIZWFkZXIiLCJuYXZMaXN0IiwibGlzdEVsZW1UdyIsImxpc3RFbGVtRmIiLCJsaW5rVG9Ud2l0dGVyIiwiaHJlZiIsImxpbmtUb0ZiIiwiYXBwZW5kIiwiTWFpbiIsIm1haW4iLCJjb250ZW50Qm94IiwiaGVscGVyIiwic3ViSGVhZGluZyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbkhlbHBDYWxsIiwib25MZXZlbENoYW5nZSIsImNoYW5nZUhlYWRlciIsImxldmVsIiwiZG9UaGlzIiwic3Vic2NyaWJlIiwiVGFibGUiLCJ0YWJsZVdyYXBwZXIiLCJ0YWJsZUJveCIsInRhYmxlIiwidGFibGVUb3AiLCJ0YWJsZUJvdHRvbSIsInRhYmxlTGVmdExlZyIsInRhYmxlUmlnaHRMZWciLCJvbkxvc2VMZXZlbCIsIm9uV2luTGV2ZWwiLCJzaG93QXBwbGUiLCJpbm5lckhUTUwiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJib2FyZE1hcmt1cCIsImdldFRhYmxlRWxlbWVudHNBbmltYXRpb24iLCJhbmltYXRpb24iLCJ0YWJsZUVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2VsZWN0b3IiLCJmb3JFYWNoIiwiZWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInNldFRpbWVvdXQiLCJyZW1vdmUiLCJvbkhvdmVyRWRpdG9yIiwidGFyZ2V0Iiwic2hvd1RhYmxlIiwiY29uc29sZSIsImxvZyIsInRvRWxlbWVudCIsIkVkaXRvciIsImVkaXRvciIsImVkaXRvckNzcyIsImVkaXRvckhlYWRpbmciLCJzcGFuVGV4dENzcyIsIm51bWJlcnNMaW5lc0NTUyIsInByZSIsInRleHRBcmVhIiwiZW50ZXJCdG4iLCJlZGl0b3JIVE1MIiwidmlld2VySGVhZGluZyIsInNwYW5UZXh0SFRNTCIsIm51bWJlcnNMaW5lc0hUTUwiLCJodG1sQm94IiwiaHRtbENvZGUiLCJjcmVhdGVMaW5lc051bWJlcnMiLCJjaGVja1NlbGVjdG9yIiwiY3VycmVudExldmVsIiwidmFsdWUiLCJlIiwiY29kZSIsInByZXZlbnREZWZhdWx0IiwibnVtYmVyc0xpbmVzQyIsIm51bWJlcnNMaW5lc0giLCJBcnJheSIsImZpbGwiLCJtYXAiLCJlbCIsImkiLCJsaW5lIiwic2hvd0NvZGUiLCJpbnNlcnRBZGphY2VudFRleHQiLCJnZXRUZXh0QXJpYUNvbnRlbnQiLCJhbnN3ZXIiLCJlbWl0IiwiZ2V0Q29tcGxldGVkTGV2ZWxzIiwibGV2ZWxzIiwiaWQiLCJoZWxwVGl0bGUiLCJzZWxlY3Rvck5hbWUiLCJzeW50YXgiLCJoZWxwIiwiZXhhbXBsZXMiLCJBc2lkZSIsImFyZ3VtZW50cyIsImFyckxldmVscyIsImFzaWRlIiwiYXNpZGVIZWFkaW5nIiwibGV2ZWxzTGlzdCIsImFkZExldmVscyIsImdldERhdGFMZXZlbCIsImJpbmQiLCJsaXN0IiwiaW5kZXgiLCJTdHJpbmciLCJOdW1iZXIiLCJjaGVja01hcmsiLCJsaW5rTGV2ZWwiLCJsZXZlbE5hbWUiLCJwdXNoIiwiZ2V0SGVhZGluZyIsImdldE1hcmt1cEVkaXRvciIsImdldFNlbGVjdG9yIiwiY2xvc2VzdCIsImxldmVsSUQiLCJnZXRBdHRyaWJ1dGUiLCJ1cERhdGVsZXZlbCIsImNvbnRhaW5zIiwiYWRkQ29tcGxldGVkQ2xhc3MiLCJsZW5ndGgiLCJnZXRFbGVtZW50QnlJZCIsIkZvb3RlciIsImZvb3RlciIsImZvb3RlckNvbnRlbnRCb3giLCJ0ZXhCb3giLCJsaW5rVG9PcmlnaW4iLCJsaW5rVG9TdHVkZW50IiwieWVhciIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImltZ1NjaG9vbCIsImltZ0dpdGh1YiIsIkV2ZW50RW1pdHRlciIsImV2ZW50cyIsImV2ZW50TmFtZSIsImZuIiwidW5zdWJzY3JpYmUiLCJmaWx0ZXIiLCJldmVudENhbGxiYWNrIiwiYXJncyIsImV2ZW50IiwiY2FsbGJhY2siLCJjYWxsIiwiQ29udHJvbGxlciIsImNvbXBsaXRlZExldmVscyIsImV2ZW50RW1pdHRlciIsInRha2VuTGV2ZWwiLCJmaW5kIiwibWFpbkNvbnRlaW5lciIsImZpZWxkIiwiYm9keSIsImNob29zZUxldmVsIiwibWFpbkhlYWRpbmciLCJxdWVyeVNlbGVjdG9yIiwiZWxlbWVudFRhcmdldCIsImxpc3RJdGVtIiwiaXRlbSJdLCJzb3VyY2VSb290IjoiIn0=