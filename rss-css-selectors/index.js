(()=>{"use strict";(()=>{class e{constructor(e,t){this.emitter=e,this.controller=t}renderComponent(e,t,n,s){const l=document.createElement(e);return l.className=t,s&&(l.textContent=s),n&&Object.assign(l,n),l}}class t extends e{render(e){this.header=super.renderComponent("header","header");const t=super.renderComponent("h1","heading",{textContent:"CSS Selectors"}),n=super.renderComponent("nav","nav"),s=super.renderComponent("ul","nav__list list"),l=super.renderComponent("li","list__item"),o=super.renderComponent("li","list__item"),a=super.renderComponent("a","list__link list__link-tw",{href:"https://twitter.com/?lang=ru"}),r=super.renderComponent("a","list__link list__link-fb",{href:"https://www.facebook.com/"});e.append(this.header),this.header.append(t,n),n.append(s),s.append(l,o),o.append(a),l.append(r)}}class n extends e{render(e){this.main=super.renderComponent("div","content-box");const t=super.renderComponent("div","content-box");this.helper=super.renderComponent("button","help-button",{},"help me!"),this.subHeading=super.renderComponent("h2","sub-heading",{textContent:"Name of level"}),e.append(this.main),this.main.append(t),t.append(this.subHeading,this.helper),this.helper.addEventListener("click",this.onHelpCall),this.onLevelChange()}changeHeader(e){this.subHeading.textContent=e.doThis}onLevelChange(){this.emitter.subscribe("updateLevel",(e=>this.changeHeader(e)))}onHelpCall(){}}class s extends e{render(e){const t=super.renderComponent("div","perspective table-wrapper"),n=super.renderComponent("div","table-box");this.table=super.renderComponent("div","table"),this.tableTop=super.renderComponent("div","table-top");const s=super.renderComponent("div","table-bottom"),l=super.renderComponent("div","table-leg"),o=super.renderComponent("div","table-leg");e.append(t),t.append(n),n.append(this.table,this.tableTop),t.append(s),s.append(l,o),this.onLevelChange(),this.onLoseLevel(),this.onWinLevel()}showApple(e){this.tableTop.innerHTML="",this.tableTop.insertAdjacentHTML("afterbegin",e.boardMarkup),this.getTableElementsAnimation(e,"dance")}onLevelChange(){this.emitter.subscribe("updateLevel",(e=>this.showApple(e)))}onWinLevel(){this.emitter.subscribe("winLevel",(e=>this.getTableElementsAnimation(e,"clean")))}onLoseLevel(){this.emitter.subscribe("loseLevel",(e=>this.getTableElementsAnimation(e,"shake")))}getTableElementsAnimation(e,t){const n=[...document.querySelectorAll(`.table-top ${e.selector}`)];n&&n.forEach((e=>e.classList.add(`${t}`))),"shake"===t&&setTimeout((()=>{n.forEach((e=>e.classList.remove(`${t}`)))}),300),"clean"===t&&setTimeout((()=>{n.forEach((e=>e.classList.remove("dance")))}),300)}onHoverEditor(){this.emitter.subscribe("hoverEditor",(e=>this.showTable(e)))}showTable(e){"div"!==e&&console.log(e,e.toElement)}}class l extends e{render(e){this.editor=super.renderComponent("section","editor__wrapper"),this.editorCss=super.renderComponent("div","editor-css");const t=super.renderComponent("div","editor__heading"),n=super.renderComponent("span","editor__heading",{textContent:"CSS Editor"}),s=super.renderComponent("span","editor__lines-numbers"),l=super.renderComponent("pre","code",{textContent:"/*Type in a CSS selector*/"});this.textArea=super.renderComponent("textarea","editor__text-aria"),this.textArea.focus(),this.enterBtn=super.renderComponent("button","enter-button",{textContent:"Enter"}),this.editorHTML=super.renderComponent("div","viewer-css");const o=super.renderComponent("div","editor__heading"),a=super.renderComponent("span","editor__heading",{textContent:"HTML viewer"}),r=super.renderComponent("span","viewer__lines-numbers"),i=super.renderComponent("div","html-box");this.htmlCode=super.renderComponent("pre","html-code"),e.append(this.editor),this.editor.append(this.editorCss,this.editorHTML),this.editorCss.append(t,s,l,this.textArea,this.enterBtn),t.append(n),this.editorHTML.append(o,r,i),i.append(this.htmlCode),o.append(a),this.createLinesNumbers(s,r),this.enterBtn.addEventListener("click",(()=>{this.checkSelector(this.controller.currentLevel,this.textArea.value)})),this.textArea.addEventListener("keydown",(e=>{"Enter"===e.code&&(e.preventDefault(),this.checkSelector(this.controller.currentLevel,this.textArea.value))})),this.onLevelChange()}createLinesNumbers(e,t){Array(20).fill(0).map(((e,t)=>t+1)).forEach((n=>{e.insertAdjacentHTML("beforeend",`${n}<br>`),t.insertAdjacentHTML("beforeend",`${n}<br>`)}))}showCode(e){this.textArea.innerHTML="",this.htmlCode.innerHTML="",this.htmlCode.insertAdjacentText("afterbegin",`<div class = "table">\n${e.boardMarkup}\n</div>`)}onLevelChange(){this.emitter.subscribe("updateLevel",(e=>this.showCode(e)))}getTextAriaContent(){return console.log("textaria",this.textArea.value),this.textArea.value}checkSelector(e,t){console.log("check",e),console.log("check answer",t),e.selector!==t&&(console.log("LLLOOOOOOSSSEEEðŸ’¥"),this.emitter.emit("loseLevel",e)),e.selector===t&&(console.log("WWWWIIINNNNNðŸŽŠðŸŽŠðŸŽŠðŸŽŠðŸŽŠ"),this.controller.getCompletedLevels(e),this.textArea.value="",this.emitter.emit("winLevel",e))}}const o=[{id:0,helpTitle:"Select elements by their type",selectorName:"Type Selector",doThis:"Select the plates",selector:"plate",syntax:"A",help:"Selects all elements of type <strong>A</strong>. Type refers to the type of tag, so <tag>div</tag>, <tag>p</tag> and <tag>ul</tag> are all different element types.",examples:["<strong>div</strong> selects all <tag>div</tag> elements.","<strong>p</strong> selects all <tag>p</tag> elements."],boardMarkup:"\n    <plate></plate>\n    <plate></plate>\n    "},{id:1,doThis:"Select the bento boxes",selector:"bento",syntax:"A",helpTitle:"Select elements by their type",selectorName:"Type Selector",help:"Selects all elements of type <strong>A</strong>. Type refers to the type of tag, so <tag>div</tag>, <tag>p</tag> and <tag>ul</tag> are all different element types.",examples:["<strong>div</strong> selects all <tag>div</tag> elements.","<strong>p</strong> selects all <tag>p</tag> elements."],boardMarkup:"\n    <bento></bento>\n    <plate></plate>\n    <bento></bento>\n    "},{id:2,doThis:"Select the fancy plate",selector:"#fancy",selectorName:"ID Selector",helpTitle:"Select elements with an ID",syntax:"#id",help:"Selects the element with a specific <strong>id</strong>. You can also combine the ID selector with the type selector.",examples:['<strong>#cool</strong> selects any element with <strong>id="cool"</strong>','<strong>ul#long</strong> selects <tag>ul id="long"</tag>'],boardMarkup:'\n    <plate id="fancy"></plate>\n    <plate></plate>\n    <bento></bento>\n    '},{id:3,doThis:"Select the small apples",selector:".small",selectorName:"Class Selector",helpTitle:"Select elements by their class",syntax:".classname",help:"The class selector selects all elements with that class attribute. Elements can only have one ID, but many classes.",examples:['<strong>.neato</strong> selects all elements with <strong>class="neato"</strong>'],boardMarkup:'\n    <apple></apple>\n    <apple class="small"></apple>\n    <plate>\n      <apple class="small"></apple>\n    </plate>\n    <plate></plate>\n    '},{id:4,doThis:"Select the small oranges",selector:"orange.small",helpTitle:"Combine the Class Selector",syntax:"A.className",help:"You can combine the class selector with other selectors, like the type selector.",examples:['<strong>ul.important</strong> selects all <tag>ul</tag> elements that have <strong>class="important"</strong>','<strong>#big.wide</strong> selects all elements with <strong>id="big"</strong> that also have <strong>class="wide"</strong>'],boardMarkup:'\n    <apple></apple>\n    <apple class="small"></apple>\n    <bento>\n      <orange class="small"></orange>\n    </bento>\n    <plate>\n      <orange></orange>\n    </plate>\n    <plate>\n      <orange class="small"></orange>\n    </plate>'},{id:5,doThis:"Select the small oranges in the bentos",selector:"bento orange.small",syntax:"Put your back into it!",helpTitle:"You can do it...",help:"Combine what you learned in the last few levels to solve this one!",boardMarkup:'\n    <bento>\n      <orange></orange>\n    </bento>\n    <orange class="small"></orange>\n    <bento>\n      <orange class="small"></orange>\n    </bento>\n    <bento>\n      <apple class="small"></apple>\n    </bento>\n    <bento>\n      <orange class="small"></orange>\n    </bento>\n    '},{id:6,doThis:"Select all the plates and bentos",selector:"plate,bento",selectorName:"Comma Combinator",helpTitle:"Combine, selectors, with... commas!",syntax:"A, B",help:"Thanks to Shatner technology, this selects all <strong>A</strong> and <strong>B</strong> elements. You can combine any selectors this way, and you can specify more than two.",examples:['<strong>p, .fun</strong> selects all <tag>p</tag> elements as well as all elements with <strong>class="fun"</strong>',"<strong>a, p, div</strong> selects all <tag>a</tag>, <tag>p</tag> and <tag>div</tag> elements"],boardMarkup:"\n    <pickle></pickle>\n    <plate>\n      <pickle></pickle>\n    </plate>\n    <bento>\n      <pickle></pickle>\n    </bento>\n    <plate>\n      <pickle></pickle>\n    </plate>\n    <pickle></pickle>\n    "},{id:7,doThis:"Select all the things!",selector:"*",selectorName:"The Universal Selector",helpTitle:"You can select everything!",syntax:"*",help:"You can select all elements with the universal selector! ",examples:["<strong>p *</strong> selects any element inside all <tag>p</tag> elements."],boardMarkup:'\n    <apple></apple>\n    <plate>\n      <orange class="small"></orange>\n    </plate>\n    <bento></bento>\n    <bento>\n      <orange></orange>\n    </bento>\n    '},{id:8,selectorName:"First Child Pseudo-selector",helpTitle:"Select a first child element inside of another element",doThis:"Select the top orange",selector:"plate :first-child",syntax:":first-child",help:"You can select the first child element. A child element is any element that is directly nested in another element. You can combine this pseudo-selector with other selectors.",examples:["<strong>:first-child</strong> selects all first child elements.","<strong>p:first-child</strong> selects all first child <tag>p</tag> elements.","<strong>div p:first-child</strong> selects all first child <tag>p</tag> elements that are in a <tag>div</tag>."],boardMarkup:'\n    <bento></bento>\n    <plate></plate>\n    <plate>\n      <orange></orange>\n      <orange></orange>\n      <orange></orange>\n    </plate>\n    <pickle class="small"></pickle>'},{id:9,selectorName:"General Sibling Selector",helpTitle:"Select elements that follows another element",syntax:"A ~ B",doThis:"Select the pickles beside the bento",selector:"bento ~ pickle",help:"You can select all siblings of an element that follow it. This is like the Adjacent Selector (A + B) except it gets all of the following elements instead of one.",examples:["<strong>A ~ B</strong> selects all <strong>B</strong> that follow a <strong>A</strong>"],boardMarkup:'\n    <pickle></pickle>\n    <bento>\n      <orange class="small"></orange>\n    </bento>\n    <pickle class="small"></pickle>\n    <pickle></pickle>\n    <plate>\n      <pickle></pickle>\n    </plate>\n    <plate>\n      <pickle class="small"></pickle>\n    </plate>\n    '},{id:10,selectorName:"Nth of Type Selector",doThis:"Select all even plates",selector:"plate:nth-of-type(even)",syntax:":nth-of-type(A)",help:"Selects a specific element based on its type and order in another element - or even or odd instances of that element.",examples:["<strong>div:nth-of-type(2)</strong> selects the second instance of a div.","<strong>.example:nth-of-type(odd)</strong> selects all odd instances of a the example class."],boardMarkup:"\n    <plate></plate>\n    <plate></plate>\n    <plate></plate>\n    <plate></plate>\n    "},{id:11,selectorName:"Only of Type Selector",helpTitle:"Select elements that are the only ones of their type within of their parent element",selector:"apple:only-of-type",syntax:":only-of-type",doThis:"Select the apple on the middle plate",help:"Selects the only element of its type within another element.",examples:["<strong>p span:only-of-type</strong> selects a <tag>span</tag> within any <tag>p</tag> if it is the only <tag>span</tag> in there."],boardMarkup:'\n    <plate id="fancy">\n      <apple class="small"></apple>\n      <apple></apple>\n    </plate>\n    <plate>\n      <apple class="small"></apple>\n    </plate>\n    <plate>\n      <pickle></pickle>\n    </plate>\n    '},{id:12,selectorName:"Empty Selector",helpTitle:"Select elements that don't have children",doThis:"Select the empty bentos",selector:"bento:empty",syntax:":empty",help:"Selects elements that don't have any other elements inside of them.",examples:["<strong>div:empty</strong> selects all empty <tag>div</tag> elements."],boardMarkup:'\n    <bento></bento>\n    <bento>\n      <pickle class="small"></pickle>\n    </bento>\n    <plate></plate>\n    <bento></bento>'}];class a extends e{constructor(){super(...arguments),this.arrLevels=[]}render(e){this.aside=super.renderComponent("aside","levels-of-game__wrapper");const t=super.renderComponent("h2","sub-heading",{textContent:"Choose a level"});this.levelsList=super.renderComponent("ul","levels-list"),e.append(this.aside),this.aside.append(t,this.levelsList),this.addLevels(o,this.levelsList),this.onWinLevel()}addLevels(e,t){e.forEach(((e,n)=>{const s=super.renderComponent("span","levels-number",{textContent:String(Number(n+1))}),l=super.renderComponent("span","checkmark"),o=super.renderComponent("a","levels__link",{textContent:e.syntax});this.levelName=super.renderComponent("li","levels-list__name",{id:String(n)}),t.append(this.levelName),this.levelName.append(l,s,o),this.arrLevels.push(this.levelName),this.levelName.addEventListener("click",this.getDataLevel.bind(this))}))}getHeading(e){return o[e].doThis}getMarkupEditor(e){return o[e].boardMarkup}getSelector(e){return o[e].selector}getDataLevel(e,t){let n;if(e){const t=e.target;n=t.closest(".levels-list__name"),console.log(t),this.levelID=+n.getAttribute("id")}return t&&(this.levelID=t,n=document.getElementById(String(t))),this.onLevelChange(o[this.levelID]),n.classList.add("active"),console.log(o[this.levelID].id),this.controller.upDatelevel(o[this.levelID]),o[this.levelID]}onLevelChange(e){this.emitter.emit("updateLevel",e),this.arrLevels.forEach((e=>{e.classList.contains("active")&&e.classList.remove("active")}))}onWinLevel(){this.emitter.subscribe("winLevel",(e=>this.addCompletedClass(e)))}addCompletedClass(e){document.getElementById(String(e.id)).classList.add("completed"),this.levelID<o.length-1&&(this.levelID+=1,setTimeout((()=>this.getDataLevel(null,this.levelID)),500))}}class r extends e{render(e){this.footer=super.renderComponent("footer","footer");const t=super.renderComponent("div","footer__content-wrappter"),n=super.renderComponent("div","footer__text-wrappter"),s=super.renderComponent("a","footer__link",{textContent:"CSS Diner clone",href:"https://flukeout.github.io/"}),l=super.renderComponent("span","text-content",{textContent:" is made by "}),o=super.renderComponent("a","footer__link",{textContent:"MaleryValery",href:"https://github.com/MaleryValery"}),a=super.renderComponent("span","footer__year",{textContent:`${(new Date).getFullYear()}`}),r=super.renderComponent("a","footer__link-scholl",{href:"https://rs.school/js/"}),i=super.renderComponent("a","footer__link-github",{href:"https://flukeout.github.io/"});e.append(this.footer),this.footer.append(t),n.append(s,l,o,a),t.append(r,n,i)}}class i{constructor(){this.events={}}subscribe(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t),console.log(this.events)}unsubscribe(e,t){this.events[e]=this.events[e].filter((e=>t!==e))}emit(e,t){const n=this.events[e];n&&n.forEach((e=>e.call(this,t)))}}class p{constructor(){this.complitedLevels=[],this.eventEmitter=new i}upDatelevel(e){return this.currentLevel=o.find((t=>t.id===e.id)),console.log("controller",this.currentLevel),this.currentLevel}getCompletedLevels(e){return this.complitedLevels.push(e),this.complitedLevels}}(new class{constructor(){this.emitter=new i,this.controller=new p,this.header=new t,this.main=new n(this.emitter,this.controller),this.table=new s(this.emitter,this.controller),this.editor=new l(this.emitter,this.controller),this.aside=new a(this.emitter,this.controller),this.footer=new r,this.currentLevel=0}render(){const e=document.createElement("div"),t=document.createElement("div");t.classList.add("game-field__wrapper"),e.classList.add("wrapper"),document.body.append(e),e.append(t),this.header.render(t),this.main.render(t),this.table.render(this.main.main),this.editor.render(this.main.main),this.footer.render(t),this.aside.render(e)}chooseLevel(e){const t=document.querySelector(".sub-heading"),n=document.querySelector(".html-code"),s=e.target,l=document.querySelector(".table-top"),o=s.closest(".levels-list__name");if(l.innerHTML="",n.innerHTML="",o){document.querySelectorAll(".levels-list__name").forEach((e=>{e.classList.contains("active")&&e.classList.remove("active")}));const e=+o.id;this.currentLevel=e,o.classList.add("active"),t.textContent=this.aside.getHeading(this.currentLevel),l.insertAdjacentHTML("afterbegin",`${this.aside.getMarkupEditor(this.currentLevel)}`),n.insertAdjacentText("afterbegin",`<div class="table">${this.aside.getMarkupEditor(this.currentLevel)}\n</div>`)}}}).render()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQ1hBLEVBQUt0SCxVQUFVZ0YsU0FBUyxXQUN4QnNDLEVBQUt0SCxVQUFVRyxPQUFPLFNBQVMsSUFFdkMsTUFBTTZDLEdBQU1xRSxFQUFTckUsR0FDckIxRyxLQUFLc0YsYUFBZW9CLEVBQ3BCcUUsRUFBU3JILFVBQVVDLElBQUksVUFDdkJpSCxFQUFZdkssWUFBY0wsS0FBS21ILE1BQU1jLFdBQVdqSSxLQUFLc0YsY0FDckQ5QyxFQUFNUyxtQkFBbUIsYUFBYyxHQUFHakQsS0FBS21ILE1BQU1lLGdCQUFnQmxJLEtBQUtzRixpQkFDMUVILEVBQVNpQixtQkFBbUIsYUFBYyxzQkFBc0JwRyxLQUFLbUgsTUFBTWUsZ0JBQWdCbEksS0FBS3NGLHdCQUdwRyxDQUNKLElEdkRBMUUsUSIsInNvdXJjZXMiOlsid2VicGFjazovL3Jzcy1jc3Mtc2VsZWN0b3JzLy4vc3JjL2NvbXBvbmVudHMvdmlldy50cyIsIndlYnBhY2s6Ly9yc3MtY3NzLXNlbGVjdG9ycy8uL3NyYy9jb21wb25lbnRzL2hlYWRlci50cyIsIndlYnBhY2s6Ly9yc3MtY3NzLXNlbGVjdG9ycy8uL3NyYy9jb21wb25lbnRzL21haW4udHMiLCJ3ZWJwYWNrOi8vcnNzLWNzcy1zZWxlY3RvcnMvLi9zcmMvY29tcG9uZW50cy90YWJsZS50cyIsIndlYnBhY2s6Ly9yc3MtY3NzLXNlbGVjdG9ycy8uL3NyYy9jb21wb25lbnRzL2VkaXRvci50cyIsIndlYnBhY2s6Ly9yc3MtY3NzLXNlbGVjdG9ycy8uL3NyYy9jb21wb25lbnRzL2xldmVscy50cyIsIndlYnBhY2s6Ly9yc3MtY3NzLXNlbGVjdG9ycy8uL3NyYy9jb21wb25lbnRzL2FzaWRlLnRzIiwid2VicGFjazovL3Jzcy1jc3Mtc2VsZWN0b3JzLy4vc3JjL2NvbXBvbmVudHMvZm9vdGVyLnRzIiwid2VicGFjazovL3Jzcy1jc3Mtc2VsZWN0b3JzLy4vc3JjL2NvbXBvbmVudHMvZW1pdHRlci50cyIsIndlYnBhY2s6Ly9yc3MtY3NzLXNlbGVjdG9ycy8uL3NyYy9jb21wb25lbnRzL2NvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vcnNzLWNzcy1zZWxlY3RvcnMvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcnNzLWNzcy1zZWxlY3RvcnMvLi9zcmMvY29tcG9uZW50cy9hcHAudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgVmlldyB7XG4gICAgY29uc3RydWN0b3IoZW1pdHRlciwgY29udHJvbGxlcikge1xuICAgICAgICB0aGlzLmVtaXR0ZXIgPSBlbWl0dGVyO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgIH1cbiAgICByZW5kZXJDb21wb25lbnQodGFnLCBjbGFzc05hbWUsIGF0dHJpYnV0ZXMsIHRleHRDb250ZW50KSB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgICAgICAgY29tcG9uZW50LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICAgICAgaWYgKHRleHRDb250ZW50KVxuICAgICAgICAgICAgY29tcG9uZW50LnRleHRDb250ZW50ID0gdGV4dENvbnRlbnQ7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVzKVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjb21wb25lbnQsIGF0dHJpYnV0ZXMpO1xuICAgICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgIH1cbn1cbmV4cG9ydCB7IFZpZXcgfTtcbiIsImltcG9ydCB7IFZpZXcgfSBmcm9tICcuL3ZpZXcnO1xuY2xhc3MgSGVhZGVyIGV4dGVuZHMgVmlldyB7XG4gICAgcmVuZGVyKHBhcmVudCkge1xuICAgICAgICB0aGlzLmhlYWRlciA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnaGVhZGVyJywgJ2hlYWRlcicpO1xuICAgICAgICBjb25zdCBoZWFkaW5nID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdoMScsICdoZWFkaW5nJywgeyB0ZXh0Q29udGVudDogJ0NTUyBTZWxlY3RvcnMnIH0pO1xuICAgICAgICBjb25zdCBuYXZIZWFkZXIgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ25hdicsICduYXYnKTtcbiAgICAgICAgY29uc3QgbmF2TGlzdCA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgndWwnLCAnbmF2X19saXN0IGxpc3QnKTtcbiAgICAgICAgY29uc3QgbGlzdEVsZW1UdyA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnbGknLCAnbGlzdF9faXRlbScpO1xuICAgICAgICBjb25zdCBsaXN0RWxlbUZiID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdsaScsICdsaXN0X19pdGVtJyk7XG4gICAgICAgIGNvbnN0IGxpbmtUb1R3aXR0ZXIgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ2EnLCAnbGlzdF9fbGluayBsaXN0X19saW5rLXR3Jywge1xuICAgICAgICAgICAgaHJlZjogJ2h0dHBzOi8vdHdpdHRlci5jb20vP2xhbmc9cnUnLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbGlua1RvRmIgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ2EnLCAnbGlzdF9fbGluayBsaXN0X19saW5rLWZiJywge1xuICAgICAgICAgICAgaHJlZjogJ2h0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS8nLFxuICAgICAgICB9KTtcbiAgICAgICAgcGFyZW50LmFwcGVuZCh0aGlzLmhlYWRlcik7XG4gICAgICAgIHRoaXMuaGVhZGVyLmFwcGVuZChoZWFkaW5nLCBuYXZIZWFkZXIpO1xuICAgICAgICBuYXZIZWFkZXIuYXBwZW5kKG5hdkxpc3QpO1xuICAgICAgICBuYXZMaXN0LmFwcGVuZChsaXN0RWxlbVR3LCBsaXN0RWxlbUZiKTtcbiAgICAgICAgbGlzdEVsZW1GYi5hcHBlbmQobGlua1RvVHdpdHRlcik7XG4gICAgICAgIGxpc3RFbGVtVHcuYXBwZW5kKGxpbmtUb0ZiKTtcbiAgICB9XG59XG5leHBvcnQgeyBIZWFkZXIgfTtcbi8vIGZ1bmN0aW9uIGNyZWF0ZUhlYWRlcigpOiB2b2lkIHtcbi8vICAgY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ib2R5Jyk7XG4vLyAgIGNvbnN0IG1haW5Db250ZWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbi8vICAgbWFpbkNvbnRlaW5lci5jbGFzc0xpc3QuYWRkKCd3cmFwcGVyJyk7XG4vLyAgIGJvZHkuYXBwZW5kKG1haW5Db250ZWluZXIpO1xuLy8gICBtYWluQ29udGVpbmVyLmluc2VydEFkamFjZW50SFRNTChcbi8vICAgICAnYWZ0ZXJiZWdpbicsXG4vLyAgICAgYCA8ZGl2IGNsYXNzPVwiZ2FtZS1maWVsZF9fd3JhcHBlclwiPlxuLy8gICAgICAgPGhlYWRlciBjbGFzcz1cImhlYWRlclwiPlxuLy8gICAgICAgPGgxIGNsYXNzPVwiaGVhZGluZ1wiPkNTUyBTZWxlY3RvcnM8L2gxPlxuLy8gICAgICAgPG5hdiBjbGFzcz1cIm5hdlwiPlxuLy8gICAgICAgPHVsIGNsYXNzPVwibmF2X19saXN0IGxpc3RcIj5cbi8vICAgICAgICAgPGxpIGNsYXNzPVwibGlzdF9faXRlbVwiPjxhIGNsYXNzPVwibGlzdF9fbGluayBsaXN0X19saW5rLXNjaG9vbFwiIGhyZWY9XCJodHRwczovL3JzLnNjaG9vbC9qcy9cIj48L2E+PC9saT5cbi8vICAgICAgICAgPGxpIGNsYXNzPVwibGlzdF9faXRlbVwiPjxhIGNsYXNzPVwibGlzdF9fbGluayBsaXN0X19saW5rLWdpdGh1YlwiIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vTWFsZXJ5VmFsZXJ5XCI+PC9hPjwvbGk+XG4vLyAgICAgICA8L3VsPlxuLy8gICAgIDwvbmF2PlxuLy8gICAgIDwvaGVhZGVyPlxuLy8gICAgIDwvZGl2PlxuLy8gICBgLFxuLy8gICApO1xuLy8gfVxuLy8gZXhwb3J0IHsgY3JlYXRlSGVhZGVyIH07XG4iLCJpbXBvcnQgeyBWaWV3IH0gZnJvbSAnLi92aWV3JztcbmNsYXNzIE1haW4gZXh0ZW5kcyBWaWV3IHtcbiAgICAvLyBjb25zdHJ1Y3RvcigpIHt9XG4gICAgcmVuZGVyKHBhcmVudCkge1xuICAgICAgICB0aGlzLm1haW4gPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ2RpdicsICdjb250ZW50LWJveCcpO1xuICAgICAgICBjb25zdCBjb250ZW50Qm94ID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdkaXYnLCAnY29udGVudC1ib3gnKTtcbiAgICAgICAgdGhpcy5oZWxwZXIgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ2J1dHRvbicsICdoZWxwLWJ1dHRvbicsIHt9LCAnaGVscCBtZSEnKTtcbiAgICAgICAgdGhpcy5zdWJIZWFkaW5nID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdoMicsICdzdWItaGVhZGluZycsIHsgdGV4dENvbnRlbnQ6ICdOYW1lIG9mIGxldmVsJyB9KTtcbiAgICAgICAgcGFyZW50LmFwcGVuZCh0aGlzLm1haW4pO1xuICAgICAgICB0aGlzLm1haW4uYXBwZW5kKGNvbnRlbnRCb3gpO1xuICAgICAgICBjb250ZW50Qm94LmFwcGVuZCh0aGlzLnN1YkhlYWRpbmcsIHRoaXMuaGVscGVyKTtcbiAgICAgICAgdGhpcy5oZWxwZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uSGVscENhbGwpO1xuICAgICAgICB0aGlzLm9uTGV2ZWxDaGFuZ2UoKTtcbiAgICB9XG4gICAgLy8gVE9ETyBhZGQgY29ycmVjdCB0eXBlIGFuZCB2YWx1ZVxuICAgIGNoYW5nZUhlYWRlcihsZXZlbCkge1xuICAgICAgICB0aGlzLnN1YkhlYWRpbmcudGV4dENvbnRlbnQgPSBsZXZlbC5kb1RoaXM7XG4gICAgfVxuICAgIG9uTGV2ZWxDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuZW1pdHRlci5zdWJzY3JpYmUoJ3VwZGF0ZUxldmVsJywgKGxldmVsKSA9PiB0aGlzLmNoYW5nZUhlYWRlcihsZXZlbCkpO1xuICAgIH1cbiAgICBvbkhlbHBDYWxsKCkgeyB9XG59XG5leHBvcnQgeyBNYWluIH07XG4iLCIvLyBpbXBvcnQgeyBsZXZlbHMgfSBmcm9tICcuL2xldmVscyc7XG5pbXBvcnQgeyBWaWV3IH0gZnJvbSAnLi92aWV3JztcbmNsYXNzIFRhYmxlIGV4dGVuZHMgVmlldyB7XG4gICAgcmVuZGVyKHBhcmVudCkge1xuICAgICAgICBjb25zdCB0YWJsZVdyYXBwZXIgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ2RpdicsICdwZXJzcGVjdGl2ZSB0YWJsZS13cmFwcGVyJyk7XG4gICAgICAgIGNvbnN0IHRhYmxlQm94ID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdkaXYnLCAndGFibGUtYm94Jyk7XG4gICAgICAgIHRoaXMudGFibGUgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ2RpdicsICd0YWJsZScpO1xuICAgICAgICB0aGlzLnRhYmxlVG9wID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdkaXYnLCAndGFibGUtdG9wJyk7XG4gICAgICAgIGNvbnN0IHRhYmxlQm90dG9tID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdkaXYnLCAndGFibGUtYm90dG9tJyk7XG4gICAgICAgIGNvbnN0IHRhYmxlTGVmdExlZyA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnZGl2JywgJ3RhYmxlLWxlZycpO1xuICAgICAgICBjb25zdCB0YWJsZVJpZ2h0TGVnID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdkaXYnLCAndGFibGUtbGVnJyk7XG4gICAgICAgIHBhcmVudC5hcHBlbmQodGFibGVXcmFwcGVyKTtcbiAgICAgICAgdGFibGVXcmFwcGVyLmFwcGVuZCh0YWJsZUJveCk7XG4gICAgICAgIHRhYmxlQm94LmFwcGVuZCh0aGlzLnRhYmxlLCB0aGlzLnRhYmxlVG9wKTtcbiAgICAgICAgdGFibGVXcmFwcGVyLmFwcGVuZCh0YWJsZUJvdHRvbSk7XG4gICAgICAgIHRhYmxlQm90dG9tLmFwcGVuZCh0YWJsZUxlZnRMZWcsIHRhYmxlUmlnaHRMZWcpO1xuICAgICAgICB0aGlzLm9uTGV2ZWxDaGFuZ2UoKTtcbiAgICAgICAgdGhpcy5vbkxvc2VMZXZlbCgpO1xuICAgICAgICB0aGlzLm9uV2luTGV2ZWwoKTtcbiAgICAgICAgLy8gdGhpcy50YWJsZVRvcC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLnNob3dUYWJsZSk7XG4gICAgfVxuICAgIHNob3dBcHBsZShsZXZlbCkge1xuICAgICAgICB0aGlzLnRhYmxlVG9wLmlubmVySFRNTCA9ICcnO1xuICAgICAgICB0aGlzLnRhYmxlVG9wLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGxldmVsLmJvYXJkTWFya3VwKTtcbiAgICAgICAgdGhpcy5nZXRUYWJsZUVsZW1lbnRzQW5pbWF0aW9uKGxldmVsLCAnZGFuY2UnKTtcbiAgICB9XG4gICAgb25MZXZlbENoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5lbWl0dGVyLnN1YnNjcmliZSgndXBkYXRlTGV2ZWwnLCAobGV2ZWwpID0+IHRoaXMuc2hvd0FwcGxlKGxldmVsKSk7XG4gICAgfVxuICAgIG9uV2luTGV2ZWwoKSB7XG4gICAgICAgIHRoaXMuZW1pdHRlci5zdWJzY3JpYmUoJ3dpbkxldmVsJywgKGxldmVsKSA9PiB0aGlzLmdldFRhYmxlRWxlbWVudHNBbmltYXRpb24obGV2ZWwsICdjbGVhbicpKTtcbiAgICB9XG4gICAgb25Mb3NlTGV2ZWwoKSB7XG4gICAgICAgIHRoaXMuZW1pdHRlci5zdWJzY3JpYmUoJ2xvc2VMZXZlbCcsIChsZXZlbCkgPT4gdGhpcy5nZXRUYWJsZUVsZW1lbnRzQW5pbWF0aW9uKGxldmVsLCAnc2hha2UnKSk7XG4gICAgfVxuICAgIGdldFRhYmxlRWxlbWVudHNBbmltYXRpb24obGV2ZWwsIGFuaW1hdGlvbikge1xuICAgICAgICBjb25zdCB0YWJsZUVsZW1lbnQgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLnRhYmxlLXRvcCAke2xldmVsLnNlbGVjdG9yfWApXTtcbiAgICAgICAgaWYgKHRhYmxlRWxlbWVudCkge1xuICAgICAgICAgICAgdGFibGVFbGVtZW50LmZvckVhY2goKGVsZW1lbnQpID0+IGVsZW1lbnQuY2xhc3NMaXN0LmFkZChgJHthbmltYXRpb259YCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhbmltYXRpb24gPT09ICdzaGFrZScpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRhYmxlRWxlbWVudC5mb3JFYWNoKChlbGVtZW50KSA9PiBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoYCR7YW5pbWF0aW9ufWApKTtcbiAgICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFuaW1hdGlvbiA9PT0gJ2NsZWFuJykge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGFibGVFbGVtZW50LmZvckVhY2goKGVsZW1lbnQpID0+IGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZGFuY2UnKSk7XG4gICAgICAgICAgICB9LCAzMDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uSG92ZXJFZGl0b3IoKSB7XG4gICAgICAgIHRoaXMuZW1pdHRlci5zdWJzY3JpYmUoJ2hvdmVyRWRpdG9yJywgKHRhcmdldCkgPT4gdGhpcy5zaG93VGFibGUodGFyZ2V0KSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMsIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBzaG93VGFibGUodGFyZ2V0KSB7XG4gICAgICAgIGlmICh0YXJnZXQgIT09ICdkaXYnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0YXJnZXQsIHRhcmdldC50b0VsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IHsgVGFibGUgfTtcbiIsImltcG9ydCB7IFZpZXcgfSBmcm9tICcuL3ZpZXcnO1xuLy8gaW1wb3J0IHsgbGV2ZWxzIH0gZnJvbSAnLi9sZXZlbHMnO1xuY2xhc3MgRWRpdG9yIGV4dGVuZHMgVmlldyB7XG4gICAgcmVuZGVyKHBhcmVudCkge1xuICAgICAgICB0aGlzLmVkaXRvciA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnc2VjdGlvbicsICdlZGl0b3JfX3dyYXBwZXInKTtcbiAgICAgICAgdGhpcy5lZGl0b3JDc3MgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ2RpdicsICdlZGl0b3ItY3NzJyk7XG4gICAgICAgIGNvbnN0IGVkaXRvckhlYWRpbmcgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ2RpdicsICdlZGl0b3JfX2hlYWRpbmcnKTtcbiAgICAgICAgY29uc3Qgc3BhblRleHRDc3MgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ3NwYW4nLCAnZWRpdG9yX19oZWFkaW5nJywgeyB0ZXh0Q29udGVudDogJ0NTUyBFZGl0b3InIH0pO1xuICAgICAgICBjb25zdCBudW1iZXJzTGluZXNDU1MgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ3NwYW4nLCAnZWRpdG9yX19saW5lcy1udW1iZXJzJyk7XG4gICAgICAgIGNvbnN0IHByZSA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgncHJlJywgJ2NvZGUnLCB7IHRleHRDb250ZW50OiAnLypUeXBlIGluIGEgQ1NTIHNlbGVjdG9yKi8nIH0pO1xuICAgICAgICB0aGlzLnRleHRBcmVhID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCd0ZXh0YXJlYScsICdlZGl0b3JfX3RleHQtYXJpYScpO1xuICAgICAgICB0aGlzLnRleHRBcmVhLmZvY3VzKCk7XG4gICAgICAgIHRoaXMuZW50ZXJCdG4gPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ2J1dHRvbicsICdlbnRlci1idXR0b24nLCB7XG4gICAgICAgICAgICB0ZXh0Q29udGVudDogJ0VudGVyJyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWRpdG9ySFRNTCA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnZGl2JywgJ3ZpZXdlci1jc3MnKTtcbiAgICAgICAgY29uc3Qgdmlld2VySGVhZGluZyA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnZGl2JywgJ2VkaXRvcl9faGVhZGluZycpO1xuICAgICAgICBjb25zdCBzcGFuVGV4dEhUTUwgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ3NwYW4nLCAnZWRpdG9yX19oZWFkaW5nJywgeyB0ZXh0Q29udGVudDogJ0hUTUwgdmlld2VyJyB9KTtcbiAgICAgICAgY29uc3QgbnVtYmVyc0xpbmVzSFRNTCA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnc3BhbicsICd2aWV3ZXJfX2xpbmVzLW51bWJlcnMnKTtcbiAgICAgICAgY29uc3QgaHRtbEJveCA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnZGl2JywgJ2h0bWwtYm94Jyk7XG4gICAgICAgIHRoaXMuaHRtbENvZGUgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ3ByZScsICdodG1sLWNvZGUnKTtcbiAgICAgICAgcGFyZW50LmFwcGVuZCh0aGlzLmVkaXRvcik7XG4gICAgICAgIHRoaXMuZWRpdG9yLmFwcGVuZCh0aGlzLmVkaXRvckNzcywgdGhpcy5lZGl0b3JIVE1MKTtcbiAgICAgICAgdGhpcy5lZGl0b3JDc3MuYXBwZW5kKGVkaXRvckhlYWRpbmcsIG51bWJlcnNMaW5lc0NTUywgcHJlLCB0aGlzLnRleHRBcmVhLCB0aGlzLmVudGVyQnRuKTtcbiAgICAgICAgZWRpdG9ySGVhZGluZy5hcHBlbmQoc3BhblRleHRDc3MpO1xuICAgICAgICB0aGlzLmVkaXRvckhUTUwuYXBwZW5kKHZpZXdlckhlYWRpbmcsIG51bWJlcnNMaW5lc0hUTUwsIGh0bWxCb3gpO1xuICAgICAgICBodG1sQm94LmFwcGVuZCh0aGlzLmh0bWxDb2RlKTtcbiAgICAgICAgdmlld2VySGVhZGluZy5hcHBlbmQoc3BhblRleHRIVE1MKTtcbiAgICAgICAgdGhpcy5jcmVhdGVMaW5lc051bWJlcnMobnVtYmVyc0xpbmVzQ1NTLCBudW1iZXJzTGluZXNIVE1MKTtcbiAgICAgICAgdGhpcy5lbnRlckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tTZWxlY3Rvcih0aGlzLmNvbnRyb2xsZXIuY3VycmVudExldmVsLCB0aGlzLnRleHRBcmVhLnZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudGV4dEFyZWEuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5jb2RlID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tTZWxlY3Rvcih0aGlzLmNvbnRyb2xsZXIuY3VycmVudExldmVsLCB0aGlzLnRleHRBcmVhLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub25MZXZlbENoYW5nZSgpO1xuICAgIH1cbiAgICBjcmVhdGVMaW5lc051bWJlcnMobnVtYmVyc0xpbmVzQywgbnVtYmVyc0xpbmVzSCkge1xuICAgICAgICBjb25zdCBsaW5lcyA9IEFycmF5KDIwKVxuICAgICAgICAgICAgLmZpbGwoMClcbiAgICAgICAgICAgIC5tYXAoKGVsLCBpKSA9PiBpICsgMSk7XG4gICAgICAgIGxpbmVzLmZvckVhY2goKGxpbmUpID0+IHtcbiAgICAgICAgICAgIG51bWJlcnNMaW5lc0MuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBgJHtsaW5lfTxicj5gKTtcbiAgICAgICAgICAgIG51bWJlcnNMaW5lc0guaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBgJHtsaW5lfTxicj5gKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNob3dDb2RlKGxldmVsKSB7XG4gICAgICAgIHRoaXMudGV4dEFyZWEuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHRoaXMuaHRtbENvZGUuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHRoaXMuaHRtbENvZGUuaW5zZXJ0QWRqYWNlbnRUZXh0KCdhZnRlcmJlZ2luJywgYDxkaXYgY2xhc3MgPSBcInRhYmxlXCI+XFxuJHtsZXZlbC5ib2FyZE1hcmt1cH1cXG48L2Rpdj5gKTtcbiAgICB9XG4gICAgb25MZXZlbENoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5lbWl0dGVyLnN1YnNjcmliZSgndXBkYXRlTGV2ZWwnLCAobGV2ZWwpID0+IHRoaXMuc2hvd0NvZGUobGV2ZWwpKTtcbiAgICB9XG4gICAgZ2V0VGV4dEFyaWFDb250ZW50KCkge1xuICAgICAgICBjb25zb2xlLmxvZygndGV4dGFyaWEnLCB0aGlzLnRleHRBcmVhLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dEFyZWEudmFsdWU7XG4gICAgfVxuICAgIGNoZWNrU2VsZWN0b3IobGV2ZWwsIGFuc3dlcikge1xuICAgICAgICBjb25zb2xlLmxvZygnY2hlY2snLCBsZXZlbCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjaGVjayBhbnN3ZXInLCBhbnN3ZXIpO1xuICAgICAgICBpZiAobGV2ZWwuc2VsZWN0b3IgIT09IGFuc3dlcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xMTE9PT09PT1NTU0VFRfCfkqUnKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdHRlci5lbWl0KCdsb3NlTGV2ZWwnLCBsZXZlbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxldmVsLnNlbGVjdG9yID09PSBhbnN3ZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXV1dXSUlJTk5OTk7wn46K8J+OivCfjorwn46K8J+OiicpO1xuICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLmdldENvbXBsZXRlZExldmVscyhsZXZlbCk7XG4gICAgICAgICAgICB0aGlzLnRleHRBcmVhLnZhbHVlID0gJyc7XG4gICAgICAgICAgICB0aGlzLmVtaXR0ZXIuZW1pdCgnd2luTGV2ZWwnLCBsZXZlbCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgeyBFZGl0b3IgfTtcbiIsImNvbnN0IGxldmVscyA9IFtcbiAgICB7XG4gICAgICAgIGlkOiAwLFxuICAgICAgICBoZWxwVGl0bGU6ICdTZWxlY3QgZWxlbWVudHMgYnkgdGhlaXIgdHlwZScsXG4gICAgICAgIHNlbGVjdG9yTmFtZTogJ1R5cGUgU2VsZWN0b3InLFxuICAgICAgICBkb1RoaXM6ICdTZWxlY3QgdGhlIHBsYXRlcycsXG4gICAgICAgIHNlbGVjdG9yOiAncGxhdGUnLFxuICAgICAgICBzeW50YXg6ICdBJyxcbiAgICAgICAgaGVscDogJ1NlbGVjdHMgYWxsIGVsZW1lbnRzIG9mIHR5cGUgPHN0cm9uZz5BPC9zdHJvbmc+LiBUeXBlIHJlZmVycyB0byB0aGUgdHlwZSBvZiB0YWcsIHNvIDx0YWc+ZGl2PC90YWc+LCA8dGFnPnA8L3RhZz4gYW5kIDx0YWc+dWw8L3RhZz4gYXJlIGFsbCBkaWZmZXJlbnQgZWxlbWVudCB0eXBlcy4nLFxuICAgICAgICBleGFtcGxlczogW1xuICAgICAgICAgICAgJzxzdHJvbmc+ZGl2PC9zdHJvbmc+IHNlbGVjdHMgYWxsIDx0YWc+ZGl2PC90YWc+IGVsZW1lbnRzLicsXG4gICAgICAgICAgICAnPHN0cm9uZz5wPC9zdHJvbmc+IHNlbGVjdHMgYWxsIDx0YWc+cDwvdGFnPiBlbGVtZW50cy4nLFxuICAgICAgICBdLFxuICAgICAgICBib2FyZE1hcmt1cDogYFxuICAgIDxwbGF0ZT48L3BsYXRlPlxuICAgIDxwbGF0ZT48L3BsYXRlPlxuICAgIGAsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGlkOiAxLFxuICAgICAgICBkb1RoaXM6ICdTZWxlY3QgdGhlIGJlbnRvIGJveGVzJyxcbiAgICAgICAgc2VsZWN0b3I6ICdiZW50bycsXG4gICAgICAgIHN5bnRheDogJ0EnLFxuICAgICAgICBoZWxwVGl0bGU6ICdTZWxlY3QgZWxlbWVudHMgYnkgdGhlaXIgdHlwZScsXG4gICAgICAgIHNlbGVjdG9yTmFtZTogJ1R5cGUgU2VsZWN0b3InLFxuICAgICAgICBoZWxwOiAnU2VsZWN0cyBhbGwgZWxlbWVudHMgb2YgdHlwZSA8c3Ryb25nPkE8L3N0cm9uZz4uIFR5cGUgcmVmZXJzIHRvIHRoZSB0eXBlIG9mIHRhZywgc28gPHRhZz5kaXY8L3RhZz4sIDx0YWc+cDwvdGFnPiBhbmQgPHRhZz51bDwvdGFnPiBhcmUgYWxsIGRpZmZlcmVudCBlbGVtZW50IHR5cGVzLicsXG4gICAgICAgIGV4YW1wbGVzOiBbXG4gICAgICAgICAgICAnPHN0cm9uZz5kaXY8L3N0cm9uZz4gc2VsZWN0cyBhbGwgPHRhZz5kaXY8L3RhZz4gZWxlbWVudHMuJyxcbiAgICAgICAgICAgICc8c3Ryb25nPnA8L3N0cm9uZz4gc2VsZWN0cyBhbGwgPHRhZz5wPC90YWc+IGVsZW1lbnRzLicsXG4gICAgICAgIF0sXG4gICAgICAgIGJvYXJkTWFya3VwOiBgXG4gICAgPGJlbnRvPjwvYmVudG8+XG4gICAgPHBsYXRlPjwvcGxhdGU+XG4gICAgPGJlbnRvPjwvYmVudG8+XG4gICAgYCxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgaWQ6IDIsXG4gICAgICAgIGRvVGhpczogJ1NlbGVjdCB0aGUgZmFuY3kgcGxhdGUnLFxuICAgICAgICBzZWxlY3RvcjogJyNmYW5jeScsXG4gICAgICAgIHNlbGVjdG9yTmFtZTogJ0lEIFNlbGVjdG9yJyxcbiAgICAgICAgaGVscFRpdGxlOiAnU2VsZWN0IGVsZW1lbnRzIHdpdGggYW4gSUQnLFxuICAgICAgICBzeW50YXg6ICcjaWQnLFxuICAgICAgICBoZWxwOiAnU2VsZWN0cyB0aGUgZWxlbWVudCB3aXRoIGEgc3BlY2lmaWMgPHN0cm9uZz5pZDwvc3Ryb25nPi4gWW91IGNhbiBhbHNvIGNvbWJpbmUgdGhlIElEIHNlbGVjdG9yIHdpdGggdGhlIHR5cGUgc2VsZWN0b3IuJyxcbiAgICAgICAgZXhhbXBsZXM6IFtcbiAgICAgICAgICAgICc8c3Ryb25nPiNjb29sPC9zdHJvbmc+IHNlbGVjdHMgYW55IGVsZW1lbnQgd2l0aCA8c3Ryb25nPmlkPVwiY29vbFwiPC9zdHJvbmc+JyxcbiAgICAgICAgICAgICc8c3Ryb25nPnVsI2xvbmc8L3N0cm9uZz4gc2VsZWN0cyA8dGFnPnVsIGlkPVwibG9uZ1wiPC90YWc+JyxcbiAgICAgICAgXSxcbiAgICAgICAgYm9hcmRNYXJrdXA6IGBcbiAgICA8cGxhdGUgaWQ9XCJmYW5jeVwiPjwvcGxhdGU+XG4gICAgPHBsYXRlPjwvcGxhdGU+XG4gICAgPGJlbnRvPjwvYmVudG8+XG4gICAgYCxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgaWQ6IDMsXG4gICAgICAgIGRvVGhpczogJ1NlbGVjdCB0aGUgc21hbGwgYXBwbGVzJyxcbiAgICAgICAgc2VsZWN0b3I6ICcuc21hbGwnLFxuICAgICAgICBzZWxlY3Rvck5hbWU6ICdDbGFzcyBTZWxlY3RvcicsXG4gICAgICAgIGhlbHBUaXRsZTogJ1NlbGVjdCBlbGVtZW50cyBieSB0aGVpciBjbGFzcycsXG4gICAgICAgIHN5bnRheDogJy5jbGFzc25hbWUnLFxuICAgICAgICBoZWxwOiAnVGhlIGNsYXNzIHNlbGVjdG9yIHNlbGVjdHMgYWxsIGVsZW1lbnRzIHdpdGggdGhhdCBjbGFzcyBhdHRyaWJ1dGUuIEVsZW1lbnRzIGNhbiBvbmx5IGhhdmUgb25lIElELCBidXQgbWFueSBjbGFzc2VzLicsXG4gICAgICAgIGV4YW1wbGVzOiBbJzxzdHJvbmc+Lm5lYXRvPC9zdHJvbmc+IHNlbGVjdHMgYWxsIGVsZW1lbnRzIHdpdGggPHN0cm9uZz5jbGFzcz1cIm5lYXRvXCI8L3N0cm9uZz4nXSxcbiAgICAgICAgYm9hcmRNYXJrdXA6IGBcbiAgICA8YXBwbGU+PC9hcHBsZT5cbiAgICA8YXBwbGUgY2xhc3M9XCJzbWFsbFwiPjwvYXBwbGU+XG4gICAgPHBsYXRlPlxuICAgICAgPGFwcGxlIGNsYXNzPVwic21hbGxcIj48L2FwcGxlPlxuICAgIDwvcGxhdGU+XG4gICAgPHBsYXRlPjwvcGxhdGU+XG4gICAgYCxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgaWQ6IDQsXG4gICAgICAgIGRvVGhpczogJ1NlbGVjdCB0aGUgc21hbGwgb3JhbmdlcycsXG4gICAgICAgIHNlbGVjdG9yOiAnb3JhbmdlLnNtYWxsJyxcbiAgICAgICAgaGVscFRpdGxlOiAnQ29tYmluZSB0aGUgQ2xhc3MgU2VsZWN0b3InLFxuICAgICAgICBzeW50YXg6ICdBLmNsYXNzTmFtZScsXG4gICAgICAgIGhlbHA6ICdZb3UgY2FuIGNvbWJpbmUgdGhlIGNsYXNzIHNlbGVjdG9yIHdpdGggb3RoZXIgc2VsZWN0b3JzLCBsaWtlIHRoZSB0eXBlIHNlbGVjdG9yLicsXG4gICAgICAgIGV4YW1wbGVzOiBbXG4gICAgICAgICAgICAnPHN0cm9uZz51bC5pbXBvcnRhbnQ8L3N0cm9uZz4gc2VsZWN0cyBhbGwgPHRhZz51bDwvdGFnPiBlbGVtZW50cyB0aGF0IGhhdmUgPHN0cm9uZz5jbGFzcz1cImltcG9ydGFudFwiPC9zdHJvbmc+JyxcbiAgICAgICAgICAgICc8c3Ryb25nPiNiaWcud2lkZTwvc3Ryb25nPiBzZWxlY3RzIGFsbCBlbGVtZW50cyB3aXRoIDxzdHJvbmc+aWQ9XCJiaWdcIjwvc3Ryb25nPiB0aGF0IGFsc28gaGF2ZSA8c3Ryb25nPmNsYXNzPVwid2lkZVwiPC9zdHJvbmc+JyxcbiAgICAgICAgXSxcbiAgICAgICAgYm9hcmRNYXJrdXA6IGBcbiAgICA8YXBwbGU+PC9hcHBsZT5cbiAgICA8YXBwbGUgY2xhc3M9XCJzbWFsbFwiPjwvYXBwbGU+XG4gICAgPGJlbnRvPlxuICAgICAgPG9yYW5nZSBjbGFzcz1cInNtYWxsXCI+PC9vcmFuZ2U+XG4gICAgPC9iZW50bz5cbiAgICA8cGxhdGU+XG4gICAgICA8b3JhbmdlPjwvb3JhbmdlPlxuICAgIDwvcGxhdGU+XG4gICAgPHBsYXRlPlxuICAgICAgPG9yYW5nZSBjbGFzcz1cInNtYWxsXCI+PC9vcmFuZ2U+XG4gICAgPC9wbGF0ZT5gLFxuICAgIH0sXG4gICAge1xuICAgICAgICBpZDogNSxcbiAgICAgICAgZG9UaGlzOiAnU2VsZWN0IHRoZSBzbWFsbCBvcmFuZ2VzIGluIHRoZSBiZW50b3MnLFxuICAgICAgICBzZWxlY3RvcjogJ2JlbnRvIG9yYW5nZS5zbWFsbCcsXG4gICAgICAgIHN5bnRheDogJ1B1dCB5b3VyIGJhY2sgaW50byBpdCEnLFxuICAgICAgICBoZWxwVGl0bGU6ICdZb3UgY2FuIGRvIGl0Li4uJyxcbiAgICAgICAgaGVscDogJ0NvbWJpbmUgd2hhdCB5b3UgbGVhcm5lZCBpbiB0aGUgbGFzdCBmZXcgbGV2ZWxzIHRvIHNvbHZlIHRoaXMgb25lIScsXG4gICAgICAgIGJvYXJkTWFya3VwOiBgXG4gICAgPGJlbnRvPlxuICAgICAgPG9yYW5nZT48L29yYW5nZT5cbiAgICA8L2JlbnRvPlxuICAgIDxvcmFuZ2UgY2xhc3M9XCJzbWFsbFwiPjwvb3JhbmdlPlxuICAgIDxiZW50bz5cbiAgICAgIDxvcmFuZ2UgY2xhc3M9XCJzbWFsbFwiPjwvb3JhbmdlPlxuICAgIDwvYmVudG8+XG4gICAgPGJlbnRvPlxuICAgICAgPGFwcGxlIGNsYXNzPVwic21hbGxcIj48L2FwcGxlPlxuICAgIDwvYmVudG8+XG4gICAgPGJlbnRvPlxuICAgICAgPG9yYW5nZSBjbGFzcz1cInNtYWxsXCI+PC9vcmFuZ2U+XG4gICAgPC9iZW50bz5cbiAgICBgLFxuICAgIH0sXG4gICAge1xuICAgICAgICBpZDogNixcbiAgICAgICAgZG9UaGlzOiAnU2VsZWN0IGFsbCB0aGUgcGxhdGVzIGFuZCBiZW50b3MnLFxuICAgICAgICBzZWxlY3RvcjogJ3BsYXRlLGJlbnRvJyxcbiAgICAgICAgc2VsZWN0b3JOYW1lOiAnQ29tbWEgQ29tYmluYXRvcicsXG4gICAgICAgIGhlbHBUaXRsZTogJ0NvbWJpbmUsIHNlbGVjdG9ycywgd2l0aC4uLiBjb21tYXMhJyxcbiAgICAgICAgc3ludGF4OiAnQSwgQicsXG4gICAgICAgIGhlbHA6ICdUaGFua3MgdG8gU2hhdG5lciB0ZWNobm9sb2d5LCB0aGlzIHNlbGVjdHMgYWxsIDxzdHJvbmc+QTwvc3Ryb25nPiBhbmQgPHN0cm9uZz5CPC9zdHJvbmc+IGVsZW1lbnRzLiBZb3UgY2FuIGNvbWJpbmUgYW55IHNlbGVjdG9ycyB0aGlzIHdheSwgYW5kIHlvdSBjYW4gc3BlY2lmeSBtb3JlIHRoYW4gdHdvLicsXG4gICAgICAgIGV4YW1wbGVzOiBbXG4gICAgICAgICAgICAnPHN0cm9uZz5wLCAuZnVuPC9zdHJvbmc+IHNlbGVjdHMgYWxsIDx0YWc+cDwvdGFnPiBlbGVtZW50cyBhcyB3ZWxsIGFzIGFsbCBlbGVtZW50cyB3aXRoIDxzdHJvbmc+Y2xhc3M9XCJmdW5cIjwvc3Ryb25nPicsXG4gICAgICAgICAgICAnPHN0cm9uZz5hLCBwLCBkaXY8L3N0cm9uZz4gc2VsZWN0cyBhbGwgPHRhZz5hPC90YWc+LCA8dGFnPnA8L3RhZz4gYW5kIDx0YWc+ZGl2PC90YWc+IGVsZW1lbnRzJyxcbiAgICAgICAgXSxcbiAgICAgICAgYm9hcmRNYXJrdXA6IGBcbiAgICA8cGlja2xlPjwvcGlja2xlPlxuICAgIDxwbGF0ZT5cbiAgICAgIDxwaWNrbGU+PC9waWNrbGU+XG4gICAgPC9wbGF0ZT5cbiAgICA8YmVudG8+XG4gICAgICA8cGlja2xlPjwvcGlja2xlPlxuICAgIDwvYmVudG8+XG4gICAgPHBsYXRlPlxuICAgICAgPHBpY2tsZT48L3BpY2tsZT5cbiAgICA8L3BsYXRlPlxuICAgIDxwaWNrbGU+PC9waWNrbGU+XG4gICAgYCxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgaWQ6IDcsXG4gICAgICAgIGRvVGhpczogJ1NlbGVjdCBhbGwgdGhlIHRoaW5ncyEnLFxuICAgICAgICBzZWxlY3RvcjogJyonLFxuICAgICAgICBzZWxlY3Rvck5hbWU6ICdUaGUgVW5pdmVyc2FsIFNlbGVjdG9yJyxcbiAgICAgICAgaGVscFRpdGxlOiAnWW91IGNhbiBzZWxlY3QgZXZlcnl0aGluZyEnLFxuICAgICAgICBzeW50YXg6ICcqJyxcbiAgICAgICAgaGVscDogJ1lvdSBjYW4gc2VsZWN0IGFsbCBlbGVtZW50cyB3aXRoIHRoZSB1bml2ZXJzYWwgc2VsZWN0b3IhICcsXG4gICAgICAgIGV4YW1wbGVzOiBbJzxzdHJvbmc+cCAqPC9zdHJvbmc+IHNlbGVjdHMgYW55IGVsZW1lbnQgaW5zaWRlIGFsbCA8dGFnPnA8L3RhZz4gZWxlbWVudHMuJ10sXG4gICAgICAgIGJvYXJkTWFya3VwOiBgXG4gICAgPGFwcGxlPjwvYXBwbGU+XG4gICAgPHBsYXRlPlxuICAgICAgPG9yYW5nZSBjbGFzcz1cInNtYWxsXCI+PC9vcmFuZ2U+XG4gICAgPC9wbGF0ZT5cbiAgICA8YmVudG8+PC9iZW50bz5cbiAgICA8YmVudG8+XG4gICAgICA8b3JhbmdlPjwvb3JhbmdlPlxuICAgIDwvYmVudG8+XG4gICAgYCxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgaWQ6IDgsXG4gICAgICAgIHNlbGVjdG9yTmFtZTogJ0ZpcnN0IENoaWxkIFBzZXVkby1zZWxlY3RvcicsXG4gICAgICAgIGhlbHBUaXRsZTogJ1NlbGVjdCBhIGZpcnN0IGNoaWxkIGVsZW1lbnQgaW5zaWRlIG9mIGFub3RoZXIgZWxlbWVudCcsXG4gICAgICAgIGRvVGhpczogJ1NlbGVjdCB0aGUgdG9wIG9yYW5nZScsXG4gICAgICAgIHNlbGVjdG9yOiAncGxhdGUgOmZpcnN0LWNoaWxkJyxcbiAgICAgICAgc3ludGF4OiAnOmZpcnN0LWNoaWxkJyxcbiAgICAgICAgaGVscDogJ1lvdSBjYW4gc2VsZWN0IHRoZSBmaXJzdCBjaGlsZCBlbGVtZW50LiBBIGNoaWxkIGVsZW1lbnQgaXMgYW55IGVsZW1lbnQgdGhhdCBpcyBkaXJlY3RseSBuZXN0ZWQgaW4gYW5vdGhlciBlbGVtZW50LiBZb3UgY2FuIGNvbWJpbmUgdGhpcyBwc2V1ZG8tc2VsZWN0b3Igd2l0aCBvdGhlciBzZWxlY3RvcnMuJyxcbiAgICAgICAgZXhhbXBsZXM6IFtcbiAgICAgICAgICAgICc8c3Ryb25nPjpmaXJzdC1jaGlsZDwvc3Ryb25nPiBzZWxlY3RzIGFsbCBmaXJzdCBjaGlsZCBlbGVtZW50cy4nLFxuICAgICAgICAgICAgJzxzdHJvbmc+cDpmaXJzdC1jaGlsZDwvc3Ryb25nPiBzZWxlY3RzIGFsbCBmaXJzdCBjaGlsZCA8dGFnPnA8L3RhZz4gZWxlbWVudHMuJyxcbiAgICAgICAgICAgICc8c3Ryb25nPmRpdiBwOmZpcnN0LWNoaWxkPC9zdHJvbmc+IHNlbGVjdHMgYWxsIGZpcnN0IGNoaWxkIDx0YWc+cDwvdGFnPiBlbGVtZW50cyB0aGF0IGFyZSBpbiBhIDx0YWc+ZGl2PC90YWc+LicsXG4gICAgICAgIF0sXG4gICAgICAgIGJvYXJkTWFya3VwOiBgXG4gICAgPGJlbnRvPjwvYmVudG8+XG4gICAgPHBsYXRlPjwvcGxhdGU+XG4gICAgPHBsYXRlPlxuICAgICAgPG9yYW5nZT48L29yYW5nZT5cbiAgICAgIDxvcmFuZ2U+PC9vcmFuZ2U+XG4gICAgICA8b3JhbmdlPjwvb3JhbmdlPlxuICAgIDwvcGxhdGU+XG4gICAgPHBpY2tsZSBjbGFzcz1cInNtYWxsXCI+PC9waWNrbGU+YCxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgaWQ6IDksXG4gICAgICAgIHNlbGVjdG9yTmFtZTogJ0dlbmVyYWwgU2libGluZyBTZWxlY3RvcicsXG4gICAgICAgIGhlbHBUaXRsZTogJ1NlbGVjdCBlbGVtZW50cyB0aGF0IGZvbGxvd3MgYW5vdGhlciBlbGVtZW50JyxcbiAgICAgICAgc3ludGF4OiAnQSB+IEInLFxuICAgICAgICBkb1RoaXM6ICdTZWxlY3QgdGhlIHBpY2tsZXMgYmVzaWRlIHRoZSBiZW50bycsXG4gICAgICAgIHNlbGVjdG9yOiAnYmVudG8gfiBwaWNrbGUnLFxuICAgICAgICBoZWxwOiAnWW91IGNhbiBzZWxlY3QgYWxsIHNpYmxpbmdzIG9mIGFuIGVsZW1lbnQgdGhhdCBmb2xsb3cgaXQuIFRoaXMgaXMgbGlrZSB0aGUgQWRqYWNlbnQgU2VsZWN0b3IgKEEgKyBCKSBleGNlcHQgaXQgZ2V0cyBhbGwgb2YgdGhlIGZvbGxvd2luZyBlbGVtZW50cyBpbnN0ZWFkIG9mIG9uZS4nLFxuICAgICAgICBleGFtcGxlczogWyc8c3Ryb25nPkEgfiBCPC9zdHJvbmc+IHNlbGVjdHMgYWxsIDxzdHJvbmc+Qjwvc3Ryb25nPiB0aGF0IGZvbGxvdyBhIDxzdHJvbmc+QTwvc3Ryb25nPiddLFxuICAgICAgICBib2FyZE1hcmt1cDogYFxuICAgIDxwaWNrbGU+PC9waWNrbGU+XG4gICAgPGJlbnRvPlxuICAgICAgPG9yYW5nZSBjbGFzcz1cInNtYWxsXCI+PC9vcmFuZ2U+XG4gICAgPC9iZW50bz5cbiAgICA8cGlja2xlIGNsYXNzPVwic21hbGxcIj48L3BpY2tsZT5cbiAgICA8cGlja2xlPjwvcGlja2xlPlxuICAgIDxwbGF0ZT5cbiAgICAgIDxwaWNrbGU+PC9waWNrbGU+XG4gICAgPC9wbGF0ZT5cbiAgICA8cGxhdGU+XG4gICAgICA8cGlja2xlIGNsYXNzPVwic21hbGxcIj48L3BpY2tsZT5cbiAgICA8L3BsYXRlPlxuICAgIGAsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGlkOiAxMCxcbiAgICAgICAgc2VsZWN0b3JOYW1lOiAnTnRoIG9mIFR5cGUgU2VsZWN0b3InLFxuICAgICAgICBkb1RoaXM6ICdTZWxlY3QgYWxsIGV2ZW4gcGxhdGVzJyxcbiAgICAgICAgc2VsZWN0b3I6ICdwbGF0ZTpudGgtb2YtdHlwZShldmVuKScsXG4gICAgICAgIHN5bnRheDogJzpudGgtb2YtdHlwZShBKScsXG4gICAgICAgIGhlbHA6ICdTZWxlY3RzIGEgc3BlY2lmaWMgZWxlbWVudCBiYXNlZCBvbiBpdHMgdHlwZSBhbmQgb3JkZXIgaW4gYW5vdGhlciBlbGVtZW50IC0gb3IgZXZlbiBvciBvZGQgaW5zdGFuY2VzIG9mIHRoYXQgZWxlbWVudC4nLFxuICAgICAgICBleGFtcGxlczogW1xuICAgICAgICAgICAgJzxzdHJvbmc+ZGl2Om50aC1vZi10eXBlKDIpPC9zdHJvbmc+IHNlbGVjdHMgdGhlIHNlY29uZCBpbnN0YW5jZSBvZiBhIGRpdi4nLFxuICAgICAgICAgICAgJzxzdHJvbmc+LmV4YW1wbGU6bnRoLW9mLXR5cGUob2RkKTwvc3Ryb25nPiBzZWxlY3RzIGFsbCBvZGQgaW5zdGFuY2VzIG9mIGEgdGhlIGV4YW1wbGUgY2xhc3MuJyxcbiAgICAgICAgXSxcbiAgICAgICAgYm9hcmRNYXJrdXA6IGBcbiAgICA8cGxhdGU+PC9wbGF0ZT5cbiAgICA8cGxhdGU+PC9wbGF0ZT5cbiAgICA8cGxhdGU+PC9wbGF0ZT5cbiAgICA8cGxhdGU+PC9wbGF0ZT5cbiAgICBgLFxuICAgIH0sXG4gICAge1xuICAgICAgICBpZDogMTEsXG4gICAgICAgIHNlbGVjdG9yTmFtZTogJ09ubHkgb2YgVHlwZSBTZWxlY3RvcicsXG4gICAgICAgIGhlbHBUaXRsZTogJ1NlbGVjdCBlbGVtZW50cyB0aGF0IGFyZSB0aGUgb25seSBvbmVzIG9mIHRoZWlyIHR5cGUgd2l0aGluIG9mIHRoZWlyIHBhcmVudCBlbGVtZW50JyxcbiAgICAgICAgc2VsZWN0b3I6ICdhcHBsZTpvbmx5LW9mLXR5cGUnLFxuICAgICAgICBzeW50YXg6ICc6b25seS1vZi10eXBlJyxcbiAgICAgICAgZG9UaGlzOiAnU2VsZWN0IHRoZSBhcHBsZSBvbiB0aGUgbWlkZGxlIHBsYXRlJyxcbiAgICAgICAgaGVscDogJ1NlbGVjdHMgdGhlIG9ubHkgZWxlbWVudCBvZiBpdHMgdHlwZSB3aXRoaW4gYW5vdGhlciBlbGVtZW50LicsXG4gICAgICAgIGV4YW1wbGVzOiBbXG4gICAgICAgICAgICAnPHN0cm9uZz5wIHNwYW46b25seS1vZi10eXBlPC9zdHJvbmc+IHNlbGVjdHMgYSA8dGFnPnNwYW48L3RhZz4gd2l0aGluIGFueSA8dGFnPnA8L3RhZz4gaWYgaXQgaXMgdGhlIG9ubHkgPHRhZz5zcGFuPC90YWc+IGluIHRoZXJlLicsXG4gICAgICAgIF0sXG4gICAgICAgIGJvYXJkTWFya3VwOiBgXG4gICAgPHBsYXRlIGlkPVwiZmFuY3lcIj5cbiAgICAgIDxhcHBsZSBjbGFzcz1cInNtYWxsXCI+PC9hcHBsZT5cbiAgICAgIDxhcHBsZT48L2FwcGxlPlxuICAgIDwvcGxhdGU+XG4gICAgPHBsYXRlPlxuICAgICAgPGFwcGxlIGNsYXNzPVwic21hbGxcIj48L2FwcGxlPlxuICAgIDwvcGxhdGU+XG4gICAgPHBsYXRlPlxuICAgICAgPHBpY2tsZT48L3BpY2tsZT5cbiAgICA8L3BsYXRlPlxuICAgIGAsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGlkOiAxMixcbiAgICAgICAgc2VsZWN0b3JOYW1lOiAnRW1wdHkgU2VsZWN0b3InLFxuICAgICAgICBoZWxwVGl0bGU6IFwiU2VsZWN0IGVsZW1lbnRzIHRoYXQgZG9uJ3QgaGF2ZSBjaGlsZHJlblwiLFxuICAgICAgICBkb1RoaXM6ICdTZWxlY3QgdGhlIGVtcHR5IGJlbnRvcycsXG4gICAgICAgIHNlbGVjdG9yOiAnYmVudG86ZW1wdHknLFxuICAgICAgICBzeW50YXg6ICc6ZW1wdHknLFxuICAgICAgICBoZWxwOiBcIlNlbGVjdHMgZWxlbWVudHMgdGhhdCBkb24ndCBoYXZlIGFueSBvdGhlciBlbGVtZW50cyBpbnNpZGUgb2YgdGhlbS5cIixcbiAgICAgICAgZXhhbXBsZXM6IFsnPHN0cm9uZz5kaXY6ZW1wdHk8L3N0cm9uZz4gc2VsZWN0cyBhbGwgZW1wdHkgPHRhZz5kaXY8L3RhZz4gZWxlbWVudHMuJ10sXG4gICAgICAgIGJvYXJkTWFya3VwOiBgXG4gICAgPGJlbnRvPjwvYmVudG8+XG4gICAgPGJlbnRvPlxuICAgICAgPHBpY2tsZSBjbGFzcz1cInNtYWxsXCI+PC9waWNrbGU+XG4gICAgPC9iZW50bz5cbiAgICA8cGxhdGU+PC9wbGF0ZT5cbiAgICA8YmVudG8+PC9iZW50bz5gLFxuICAgIH0sXG5dO1xuZXhwb3J0IHsgbGV2ZWxzIH07XG4iLCJpbXBvcnQgeyBsZXZlbHMgfSBmcm9tICcuL2xldmVscyc7XG5pbXBvcnQgeyBWaWV3IH0gZnJvbSAnLi92aWV3Jztcbi8vIGltcG9ydCB7IGNvbnRyb2xsZXIgfSBmcm9tICcuL2NvbnRyb2xsZXInO1xuY2xhc3MgQXNpZGUgZXh0ZW5kcyBWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5hcnJMZXZlbHMgPSBbXTtcbiAgICB9XG4gICAgcmVuZGVyKHBhcmVudCkge1xuICAgICAgICB0aGlzLmFzaWRlID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdhc2lkZScsICdsZXZlbHMtb2YtZ2FtZV9fd3JhcHBlcicpO1xuICAgICAgICBjb25zdCBhc2lkZUhlYWRpbmcgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ2gyJywgJ3N1Yi1oZWFkaW5nJywge1xuICAgICAgICAgICAgdGV4dENvbnRlbnQ6ICdDaG9vc2UgYSBsZXZlbCcsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxldmVsc0xpc3QgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ3VsJywgJ2xldmVscy1saXN0Jyk7XG4gICAgICAgIHBhcmVudC5hcHBlbmQodGhpcy5hc2lkZSk7XG4gICAgICAgIHRoaXMuYXNpZGUuYXBwZW5kKGFzaWRlSGVhZGluZywgdGhpcy5sZXZlbHNMaXN0KTtcbiAgICAgICAgdGhpcy5hZGRMZXZlbHMobGV2ZWxzLCB0aGlzLmxldmVsc0xpc3QpO1xuICAgICAgICB0aGlzLm9uV2luTGV2ZWwoKTtcbiAgICB9XG4gICAgYWRkTGV2ZWxzKGxpc3QsIGxldmVsc0xpc3QpIHtcbiAgICAgICAgbGlzdC5mb3JFYWNoKChlbGVtZW50LCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnc3BhbicsICdsZXZlbHMtbnVtYmVyJywgeyB0ZXh0Q29udGVudDogU3RyaW5nKE51bWJlcihpICsgMSkpIH0pO1xuICAgICAgICAgICAgY29uc3QgY2hlY2tNYXJrID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdzcGFuJywgJ2NoZWNrbWFyaycpO1xuICAgICAgICAgICAgY29uc3QgbGlua0xldmVsID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdhJywgJ2xldmVsc19fbGluaycsIHsgdGV4dENvbnRlbnQ6IGVsZW1lbnQuc3ludGF4IH0pO1xuICAgICAgICAgICAgdGhpcy5sZXZlbE5hbWUgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ2xpJywgJ2xldmVscy1saXN0X19uYW1lJywgeyBpZDogU3RyaW5nKGkpIH0pO1xuICAgICAgICAgICAgbGV2ZWxzTGlzdC5hcHBlbmQodGhpcy5sZXZlbE5hbWUpO1xuICAgICAgICAgICAgdGhpcy5sZXZlbE5hbWUuYXBwZW5kKGNoZWNrTWFyaywgaW5kZXgsIGxpbmtMZXZlbCk7XG4gICAgICAgICAgICB0aGlzLmFyckxldmVscy5wdXNoKHRoaXMubGV2ZWxOYW1lKTtcbiAgICAgICAgICAgIHRoaXMubGV2ZWxOYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5nZXREYXRhTGV2ZWwuYmluZCh0aGlzKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRIZWFkaW5nKGlkKSB7XG4gICAgICAgIHJldHVybiBsZXZlbHNbaWRdLmRvVGhpcztcbiAgICB9XG4gICAgZ2V0TWFya3VwRWRpdG9yKGlkKSB7XG4gICAgICAgIHJldHVybiBsZXZlbHNbaWRdLmJvYXJkTWFya3VwO1xuICAgIH1cbiAgICBnZXRTZWxlY3RvcihpZCkge1xuICAgICAgICByZXR1cm4gbGV2ZWxzW2lkXS5zZWxlY3RvcjtcbiAgICB9XG4gICAgZ2V0RGF0YUxldmVsKGUsIGlkKSB7XG4gICAgICAgIGxldCBsZXZlbE5hbWU7XG4gICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICBjb25zdCBldmVudFRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgICAgICAgbGV2ZWxOYW1lID0gZXZlbnRUYXJnZXQuY2xvc2VzdCgnLmxldmVscy1saXN0X19uYW1lJyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhldmVudFRhcmdldCk7XG4gICAgICAgICAgICB0aGlzLmxldmVsSUQgPSArbGV2ZWxOYW1lLmdldEF0dHJpYnV0ZSgnaWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgIHRoaXMubGV2ZWxJRCA9IGlkO1xuICAgICAgICAgICAgbGV2ZWxOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoU3RyaW5nKGlkKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vbkxldmVsQ2hhbmdlKGxldmVsc1t0aGlzLmxldmVsSURdKTtcbiAgICAgICAgbGV2ZWxOYW1lLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICBjb25zb2xlLmxvZyhsZXZlbHNbdGhpcy5sZXZlbElEXS5pZCk7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci51cERhdGVsZXZlbChsZXZlbHNbdGhpcy5sZXZlbElEXSk7XG4gICAgICAgIHJldHVybiBsZXZlbHNbdGhpcy5sZXZlbElEXTtcbiAgICB9XG4gICAgb25MZXZlbENoYW5nZShsZXZlbCkge1xuICAgICAgICB0aGlzLmVtaXR0ZXIuZW1pdCgndXBkYXRlTGV2ZWwnLCBsZXZlbCk7XG4gICAgICAgIHRoaXMuYXJyTGV2ZWxzLmZvckVhY2goKGxldmVsTmFtZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGxldmVsTmFtZS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKVxuICAgICAgICAgICAgICAgIGxldmVsTmFtZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9uV2luTGV2ZWwoKSB7XG4gICAgICAgIHRoaXMuZW1pdHRlci5zdWJzY3JpYmUoJ3dpbkxldmVsJywgKGxldmVsKSA9PiB0aGlzLmFkZENvbXBsZXRlZENsYXNzKGxldmVsKSk7XG4gICAgfVxuICAgIGFkZENvbXBsZXRlZENsYXNzKGxldmVsKSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFN0cmluZyhsZXZlbC5pZCkpLmNsYXNzTGlzdC5hZGQoJ2NvbXBsZXRlZCcpO1xuICAgICAgICBpZiAodGhpcy5sZXZlbElEIDwgbGV2ZWxzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIHRoaXMubGV2ZWxJRCArPSAxO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmdldERhdGFMZXZlbChudWxsLCB0aGlzLmxldmVsSUQpLCA1MDApO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IHsgQXNpZGUgfTtcbiIsImltcG9ydCB7IFZpZXcgfSBmcm9tICcuL3ZpZXcnO1xuY2xhc3MgRm9vdGVyIGV4dGVuZHMgVmlldyB7XG4gICAgcmVuZGVyKHBhcmVudCkge1xuICAgICAgICB0aGlzLmZvb3RlciA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnZm9vdGVyJywgJ2Zvb3RlcicpO1xuICAgICAgICBjb25zdCBmb290ZXJDb250ZW50Qm94ID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdkaXYnLCAnZm9vdGVyX19jb250ZW50LXdyYXBwdGVyJyk7XG4gICAgICAgIGNvbnN0IHRleEJveCA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnZGl2JywgJ2Zvb3Rlcl9fdGV4dC13cmFwcHRlcicpO1xuICAgICAgICBjb25zdCBsaW5rVG9PcmlnaW4gPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ2EnLCAnZm9vdGVyX19saW5rJywge1xuICAgICAgICAgICAgdGV4dENvbnRlbnQ6ICdDU1MgRGluZXIgY2xvbmUnLFxuICAgICAgICAgICAgaHJlZjogJ2h0dHBzOi8vZmx1a2VvdXQuZ2l0aHViLmlvLycsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB0ZXh0Q29udGVudCA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnc3BhbicsICd0ZXh0LWNvbnRlbnQnLCB7XG4gICAgICAgICAgICB0ZXh0Q29udGVudDogJyBpcyBtYWRlIGJ5ICcsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBsaW5rVG9TdHVkZW50ID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdhJywgJ2Zvb3Rlcl9fbGluaycsIHtcbiAgICAgICAgICAgIHRleHRDb250ZW50OiAnTWFsZXJ5VmFsZXJ5JyxcbiAgICAgICAgICAgIGhyZWY6ICdodHRwczovL2dpdGh1Yi5jb20vTWFsZXJ5VmFsZXJ5JyxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHllYXIgPSBzdXBlci5yZW5kZXJDb21wb25lbnQoJ3NwYW4nLCAnZm9vdGVyX195ZWFyJywge1xuICAgICAgICAgICAgdGV4dENvbnRlbnQ6IGAke25ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKX1gLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaW1nU2Nob29sID0gc3VwZXIucmVuZGVyQ29tcG9uZW50KCdhJywgJ2Zvb3Rlcl9fbGluay1zY2hvbGwnLCB7XG4gICAgICAgICAgICBocmVmOiAnaHR0cHM6Ly9ycy5zY2hvb2wvanMvJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGltZ0dpdGh1YiA9IHN1cGVyLnJlbmRlckNvbXBvbmVudCgnYScsICdmb290ZXJfX2xpbmstZ2l0aHViJywge1xuICAgICAgICAgICAgaHJlZjogJ2h0dHBzOi8vZmx1a2VvdXQuZ2l0aHViLmlvLycsXG4gICAgICAgIH0pO1xuICAgICAgICBwYXJlbnQuYXBwZW5kKHRoaXMuZm9vdGVyKTtcbiAgICAgICAgdGhpcy5mb290ZXIuYXBwZW5kKGZvb3RlckNvbnRlbnRCb3gpO1xuICAgICAgICB0ZXhCb3guYXBwZW5kKGxpbmtUb09yaWdpbiwgdGV4dENvbnRlbnQsIGxpbmtUb1N0dWRlbnQsIHllYXIpO1xuICAgICAgICBmb290ZXJDb250ZW50Qm94LmFwcGVuZChpbWdTY2hvb2wsIHRleEJveCwgaW1nR2l0aHViKTtcbiAgICB9XG59XG5leHBvcnQgeyBGb290ZXIgfTtcbiIsImNsYXNzIEV2ZW50RW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzID0ge307XG4gICAgfVxuICAgIHN1YnNjcmliZShldmVudE5hbWUsIFxuICAgIC8vIFRPRE8gcmV0dXJuIHR5cGVzIGFmdGVyIGNoZWNrXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBmbikge1xuICAgICAgICBpZiAoIXRoaXMuZXZlbnRzW2V2ZW50TmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50c1tldmVudE5hbWVdLnB1c2goZm4pO1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmV2ZW50cyk7XG4gICAgfVxuICAgIHVuc3Vic2NyaWJlKGV2ZW50TmFtZSwgZm4pIHtcbiAgICAgICAgdGhpcy5ldmVudHNbZXZlbnROYW1lXSA9IHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0uZmlsdGVyKChldmVudENhbGxiYWNrKSA9PiBmbiAhPT0gZXZlbnRDYWxsYmFjayk7XG4gICAgfVxuICAgIGVtaXQoZXZlbnROYW1lLCBhcmdzKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5ldmVudHNbZXZlbnROYW1lXTtcbiAgICAgICAgaWYgKGV2ZW50KVxuICAgICAgICAgICAgZXZlbnQuZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrLmNhbGwodGhpcywgYXJncykpO1xuICAgIH1cbn1cbmV4cG9ydCB7IEV2ZW50RW1pdHRlciB9O1xuIiwiaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnLi9lbWl0dGVyJztcbmltcG9ydCB7IGxldmVscyB9IGZyb20gJy4vbGV2ZWxzJztcbmV4cG9ydCBjbGFzcyBDb250cm9sbGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jb21wbGl0ZWRMZXZlbHMgPSBbXTtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgfVxuICAgIC8vIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vICAgW3RoaXMuY3VycmVudExldmVsXSA9IGxldmVscztcbiAgICAvLyB9XG4gICAgdXBEYXRlbGV2ZWwodGFrZW5MZXZlbCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRMZXZlbCA9IGxldmVscy5maW5kKChsZXZlbCkgPT4gbGV2ZWwuaWQgPT09IHRha2VuTGV2ZWwuaWQpO1xuICAgICAgICBjb25zb2xlLmxvZygnY29udHJvbGxlcicsIHRoaXMuY3VycmVudExldmVsKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudExldmVsO1xuICAgIH1cbiAgICBnZXRDb21wbGV0ZWRMZXZlbHMobGV2ZWwpIHtcbiAgICAgICAgdGhpcy5jb21wbGl0ZWRMZXZlbHMucHVzaChsZXZlbCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBsaXRlZExldmVscztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBcHAgfSBmcm9tICcuL2NvbXBvbmVudHMvYXBwJztcbmNvbnN0IGFwcCA9IG5ldyBBcHAoKTtcbmFwcC5yZW5kZXIoKTtcbiIsImltcG9ydCB7IEhlYWRlciB9IGZyb20gJy4vaGVhZGVyJztcbmltcG9ydCB7IE1haW4gfSBmcm9tICcuL21haW4nO1xuaW1wb3J0IHsgVGFibGUgfSBmcm9tICcuL3RhYmxlJztcbmltcG9ydCB7IEVkaXRvciB9IGZyb20gJy4vZWRpdG9yJztcbmltcG9ydCB7IEFzaWRlIH0gZnJvbSAnLi9hc2lkZSc7XG5pbXBvcnQgeyBGb290ZXIgfSBmcm9tICcuL2Zvb3Rlcic7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICcuL2VtaXR0ZXInO1xuaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gJy4vY29udHJvbGxlcic7XG5jbGFzcyBBcHAge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKCk7XG4gICAgICAgIHRoaXMuaGVhZGVyID0gbmV3IEhlYWRlcigpO1xuICAgICAgICB0aGlzLm1haW4gPSBuZXcgTWFpbih0aGlzLmVtaXR0ZXIsIHRoaXMuY29udHJvbGxlcik7XG4gICAgICAgIHRoaXMudGFibGUgPSBuZXcgVGFibGUodGhpcy5lbWl0dGVyLCB0aGlzLmNvbnRyb2xsZXIpO1xuICAgICAgICB0aGlzLmVkaXRvciA9IG5ldyBFZGl0b3IodGhpcy5lbWl0dGVyLCB0aGlzLmNvbnRyb2xsZXIpO1xuICAgICAgICB0aGlzLmFzaWRlID0gbmV3IEFzaWRlKHRoaXMuZW1pdHRlciwgdGhpcy5jb250cm9sbGVyKTtcbiAgICAgICAgdGhpcy5mb290ZXIgPSBuZXcgRm9vdGVyKCk7XG4gICAgICAgIHRoaXMuY3VycmVudExldmVsID0gMDtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBtYWluQ29udGVpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnN0IGZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGZpZWxkLmNsYXNzTGlzdC5hZGQoJ2dhbWUtZmllbGRfX3dyYXBwZXInKTtcbiAgICAgICAgbWFpbkNvbnRlaW5lci5jbGFzc0xpc3QuYWRkKCd3cmFwcGVyJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKG1haW5Db250ZWluZXIpO1xuICAgICAgICBtYWluQ29udGVpbmVyLmFwcGVuZChmaWVsZCk7XG4gICAgICAgIHRoaXMuaGVhZGVyLnJlbmRlcihmaWVsZCk7XG4gICAgICAgIHRoaXMubWFpbi5yZW5kZXIoZmllbGQpO1xuICAgICAgICB0aGlzLnRhYmxlLnJlbmRlcih0aGlzLm1haW4ubWFpbik7XG4gICAgICAgIHRoaXMuZWRpdG9yLnJlbmRlcih0aGlzLm1haW4ubWFpbik7XG4gICAgICAgIHRoaXMuZm9vdGVyLnJlbmRlcihmaWVsZCk7XG4gICAgICAgIHRoaXMuYXNpZGUucmVuZGVyKG1haW5Db250ZWluZXIpO1xuICAgIH1cbiAgICBjaG9vc2VMZXZlbChlKSB7XG4gICAgICAgIGNvbnN0IG1haW5IZWFkaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN1Yi1oZWFkaW5nJyk7XG4gICAgICAgIGNvbnN0IGh0bWxDb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmh0bWwtY29kZScpO1xuICAgICAgICBjb25zdCBlbGVtZW50VGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhYmxlLXRvcCcpO1xuICAgICAgICBjb25zdCBsaXN0SXRlbSA9IGVsZW1lbnRUYXJnZXQuY2xvc2VzdCgnLmxldmVscy1saXN0X19uYW1lJyk7XG4gICAgICAgIHRhYmxlLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBodG1sQ29kZS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgaWYgKGxpc3RJdGVtKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubGV2ZWxzLWxpc3RfX25hbWUnKTtcbiAgICAgICAgICAgIGxpc3RJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSlcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgaWQgPSArbGlzdEl0ZW0uaWQ7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRMZXZlbCA9IGlkO1xuICAgICAgICAgICAgbGlzdEl0ZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICBtYWluSGVhZGluZy50ZXh0Q29udGVudCA9IHRoaXMuYXNpZGUuZ2V0SGVhZGluZyh0aGlzLmN1cnJlbnRMZXZlbCk7XG4gICAgICAgICAgICB0YWJsZS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBgJHt0aGlzLmFzaWRlLmdldE1hcmt1cEVkaXRvcih0aGlzLmN1cnJlbnRMZXZlbCl9YCk7XG4gICAgICAgICAgICBodG1sQ29kZS5pbnNlcnRBZGphY2VudFRleHQoJ2FmdGVyYmVnaW4nLCBgPGRpdiBjbGFzcz1cInRhYmxlXCI+JHt0aGlzLmFzaWRlLmdldE1hcmt1cEVkaXRvcih0aGlzLmN1cnJlbnRMZXZlbCl9XFxuPC9kaXY+YCk7XG4gICAgICAgICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIC8vIH0sIDIwMCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgeyBBcHAgfTtcbiJdLCJuYW1lcyI6WyJWaWV3IiwiY29uc3RydWN0b3IiLCJlbWl0dGVyIiwiY29udHJvbGxlciIsInRoaXMiLCJyZW5kZXJDb21wb25lbnQiLCJ0YWciLCJjbGFzc05hbWUiLCJhdHRyaWJ1dGVzIiwidGV4dENvbnRlbnQiLCJjb21wb25lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJPYmplY3QiLCJhc3NpZ24iLCJIZWFkZXIiLCJyZW5kZXIiLCJwYXJlbnQiLCJoZWFkZXIiLCJzdXBlciIsImhlYWRpbmciLCJuYXZIZWFkZXIiLCJuYXZMaXN0IiwibGlzdEVsZW1UdyIsImxpc3RFbGVtRmIiLCJsaW5rVG9Ud2l0dGVyIiwiaHJlZiIsImxpbmtUb0ZiIiwiYXBwZW5kIiwiTWFpbiIsIm1haW4iLCJjb250ZW50Qm94IiwiaGVscGVyIiwic3ViSGVhZGluZyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbkhlbHBDYWxsIiwib25MZXZlbENoYW5nZSIsImNoYW5nZUhlYWRlciIsImxldmVsIiwiZG9UaGlzIiwic3Vic2NyaWJlIiwiVGFibGUiLCJ0YWJsZVdyYXBwZXIiLCJ0YWJsZUJveCIsInRhYmxlIiwidGFibGVUb3AiLCJ0YWJsZUJvdHRvbSIsInRhYmxlTGVmdExlZyIsInRhYmxlUmlnaHRMZWciLCJvbkxvc2VMZXZlbCIsIm9uV2luTGV2ZWwiLCJzaG93QXBwbGUiLCJpbm5lckhUTUwiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJib2FyZE1hcmt1cCIsImdldFRhYmxlRWxlbWVudHNBbmltYXRpb24iLCJhbmltYXRpb24iLCJ0YWJsZUVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2VsZWN0b3IiLCJmb3JFYWNoIiwiZWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInNldFRpbWVvdXQiLCJyZW1vdmUiLCJvbkhvdmVyRWRpdG9yIiwidGFyZ2V0Iiwic2hvd1RhYmxlIiwiY29uc29sZSIsImxvZyIsInRvRWxlbWVudCIsIkVkaXRvciIsImVkaXRvciIsImVkaXRvckNzcyIsImVkaXRvckhlYWRpbmciLCJzcGFuVGV4dENzcyIsIm51bWJlcnNMaW5lc0NTUyIsInByZSIsInRleHRBcmVhIiwiZm9jdXMiLCJlbnRlckJ0biIsImVkaXRvckhUTUwiLCJ2aWV3ZXJIZWFkaW5nIiwic3BhblRleHRIVE1MIiwibnVtYmVyc0xpbmVzSFRNTCIsImh0bWxCb3giLCJodG1sQ29kZSIsImNyZWF0ZUxpbmVzTnVtYmVycyIsImNoZWNrU2VsZWN0b3IiLCJjdXJyZW50TGV2ZWwiLCJ2YWx1ZSIsImUiLCJjb2RlIiwicHJldmVudERlZmF1bHQiLCJudW1iZXJzTGluZXNDIiwibnVtYmVyc0xpbmVzSCIsIkFycmF5IiwiZmlsbCIsIm1hcCIsImVsIiwiaSIsImxpbmUiLCJzaG93Q29kZSIsImluc2VydEFkamFjZW50VGV4dCIsImdldFRleHRBcmlhQ29udGVudCIsImFuc3dlciIsImVtaXQiLCJnZXRDb21wbGV0ZWRMZXZlbHMiLCJsZXZlbHMiLCJpZCIsImhlbHBUaXRsZSIsInNlbGVjdG9yTmFtZSIsInN5bnRheCIsImhlbHAiLCJleGFtcGxlcyIsIkFzaWRlIiwiYXJndW1lbnRzIiwiYXJyTGV2ZWxzIiwiYXNpZGUiLCJhc2lkZUhlYWRpbmciLCJsZXZlbHNMaXN0IiwiYWRkTGV2ZWxzIiwibGlzdCIsImluZGV4IiwiU3RyaW5nIiwiTnVtYmVyIiwiY2hlY2tNYXJrIiwibGlua0xldmVsIiwibGV2ZWxOYW1lIiwicHVzaCIsImdldERhdGFMZXZlbCIsImJpbmQiLCJnZXRIZWFkaW5nIiwiZ2V0TWFya3VwRWRpdG9yIiwiZ2V0U2VsZWN0b3IiLCJldmVudFRhcmdldCIsImNsb3Nlc3QiLCJsZXZlbElEIiwiZ2V0QXR0cmlidXRlIiwiZ2V0RWxlbWVudEJ5SWQiLCJ1cERhdGVsZXZlbCIsImNvbnRhaW5zIiwiYWRkQ29tcGxldGVkQ2xhc3MiLCJsZW5ndGgiLCJGb290ZXIiLCJmb290ZXIiLCJmb290ZXJDb250ZW50Qm94IiwidGV4Qm94IiwibGlua1RvT3JpZ2luIiwibGlua1RvU3R1ZGVudCIsInllYXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJpbWdTY2hvb2wiLCJpbWdHaXRodWIiLCJFdmVudEVtaXR0ZXIiLCJldmVudHMiLCJldmVudE5hbWUiLCJmbiIsInVuc3Vic2NyaWJlIiwiZmlsdGVyIiwiZXZlbnRDYWxsYmFjayIsImFyZ3MiLCJldmVudCIsImNhbGxiYWNrIiwiY2FsbCIsIkNvbnRyb2xsZXIiLCJjb21wbGl0ZWRMZXZlbHMiLCJldmVudEVtaXR0ZXIiLCJ0YWtlbkxldmVsIiwiZmluZCIsIm1haW5Db250ZWluZXIiLCJmaWVsZCIsImJvZHkiLCJjaG9vc2VMZXZlbCIsIm1haW5IZWFkaW5nIiwicXVlcnlTZWxlY3RvciIsImVsZW1lbnRUYXJnZXQiLCJsaXN0SXRlbSIsIml0ZW0iXSwic291cmNlUm9vdCI6IiJ9